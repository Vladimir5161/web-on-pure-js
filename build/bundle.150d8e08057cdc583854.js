!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=29)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(3),s=n(6),a=n(21),u=n(22),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),h=new s.ErrorFactory("app","Firebase",c),l=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),p=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),h=c.next();!h.done;h=c.next()){var l=h.value;this._addComponent(l)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var d=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw h.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw h.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=l[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw h.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.15.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||"[DEFAULT]",!s.contains(e,t))throw h.create("no-app",{appName:t});return e[t]}function c(a){var u,c,l=a.name;if(n.has(l))return f.debug("There were multiple attempts to register component "+l+"."),"PUBLIC"===a.type?r[l]:null;if(n.set(l,a),"PUBLIC"===a.type){var p=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[l])throw h.create("invalid-app-argument",{appName:l});return t[l]()};void 0!==a.serviceProps&&s.deepExtend(p,a.serviceProps),r[l]=p,t.prototype[l]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,l);return n.apply(this,a.multipleInstances?t:[])}}try{for(var d=o.__values(Object.keys(e)),v=d.next();!v.done;v=d.next()){var m=v.value;e[m]._addComponent(a)}}catch(t){u={error:t}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[l]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=d.initializeApp;d.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var g=d;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.7",e),t.registerVersion("fire-js","")}(g),e.default=g,e.firebase=g},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],u=e.base?o[0]+e.base:o[0],c=n[u]||0,h="".concat(u," ").concat(c);n[u]=c+1;var l=a(h),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==l?(s[l].references++,s[l].updater(f)):s.push({identifier:h,updater:m(f,e),references:1}),r.push(h)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var h,l=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function f(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function p(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,v=0;function m(t,e){var n,r,i;if(e.singleton){var o=v++;n=d||(d=c(e)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else n=c(e),r=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=u(t,e),c=0;c<n.length;c++){var h=a(n[c]);0===s[h].references&&(s[h].updater(),s.splice(h,1))}n=o}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(u," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var s,a,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return l})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return I})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return T})),n.d(e,"__importDefault",(function(){return _})),n.d(e,"__classPrivateFieldGet",(function(){return A})),n.d(e,"__classPrivateFieldSet",(function(){return N}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function I(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}function A(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function N(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r,i=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.registerVersion("firebase","7.15.5","app"),t.exports=i},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=h(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new d(i,a),c=0,h=Object.keys(r);c<h.length;c++){var l=h[c];"_"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),u[l]=r[l])}return u},t}();function m(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(t){return JSON.parse(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=g(c(o[0])||""),n=g(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=i,e.Deferred=l,e.ErrorFactory=v,e.FirebaseError=d,e.Sha1=w,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new I(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return h(void 0,t)},e.deepExtend=h,e.errorPrefix=T,e.getUA=f,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=p,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=g,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(T(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(T(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(T(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(4))},function(t,e,n){var r=n(1),i=n(8);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(2)(!1)).push([t.i,"/* http://meyerweb.com/eric/tools/css/reset/ \r\n   v2.0 | 20110126\r\n   License: none (public domain)\r\n*/\r\n\r\nhtml, body, div, span, applet, object, iframe,\r\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\na, abbr, acronym, address, big, cite, code,\r\ndel, dfn, em, img, ins, kbd, q, s, samp,\r\nsmall, strike, strong, sub, sup, tt, var,\r\nb, u, i, center,\r\ndl, dt, dd, ol, ul, li,\r\nfieldset, form, label, legend,\r\ntable, caption, tbody, tfoot, thead, tr, th, td,\r\narticle, aside, canvas, details, embed, \r\nfigure, figcaption, footer, header, hgroup, \r\nmenu, nav, output, ruby, section, summary,\r\ntime, mark, audio, video {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder: 0;\r\n\tfont-size: 100%;\r\n\tfont: inherit;\r\n\tvertical-align: baseline;\r\n}\r\n/* HTML5 display-role reset for older browsers */\r\narticle, aside, details, figcaption, figure, \r\nfooter, header, hgroup, menu, nav, section {\r\n\tdisplay: block;\r\n}\r\nbody {\r\n\tline-height: 1;\r\n}\r\nol, ul {\r\n\tlist-style: none;\r\n}\r\nblockquote, q {\r\n\tquotes: none;\r\n}\r\nblockquote:before, blockquote:after,\r\nq:before, q:after {\r\n\tcontent: '';\r\n\tcontent: none;\r\n}\r\ntable {\r\n\tborder-collapse: collapse;\r\n\tborder-spacing: 0;\r\n}\r\n* {\r\n    outline: none !important;\r\n    box-sizing: border-box !important;\r\n}",""]),t.exports=e},function(t,e,n){var r=n(1),i=n(10);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(2)(!1)).push([t.i,"\r\n.app #header-nav, .app #header-nav-active, .app #header-nav-active-reverse, .app #header-nav-opened {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    border-bottom-right-radius: 30px;\r\n    border-top-right-radius: 30px;\r\n    z-index: 45;\r\n}\r\n#header-nav, #header-nav-active, #header-nav-active-reverse {\r\n    display: block;\r\n    height: 70vh;\r\n    width: 20vw;\r\n    background-color:#333333;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: -19vw;\r\n    \r\n}\r\n#header-nav-opened {\r\n    display: block;\r\n    height: 70vh;\r\n    width: 20vw;\r\n    background-color:#333333;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n#header-nav-active {\r\n    animation: navAnimation 1.1s;\r\n}\r\n#header-nav-active-reverse {\r\n    animation: navAnimationReverse 1.1s;\r\n}\r\n\r\n@keyframes navAnimation {\r\n    0% {\r\n        position: absolute;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        \r\n    }\r\n    100% {\r\n        position: absolute;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        left: 0;\r\n    }\r\n}\r\n@keyframes navAnimationReverse {\r\n    0% {\r\n        position: absolute;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        left: 0;\r\n    }\r\n    100% {\r\n        position: absolute;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n    }\r\n}\r\n\r\n.header-top {\r\n    height: 30%;\r\n    width: 100%;\r\n    border-bottom: 2px solid black;\r\n    position: relative;\r\n}\r\n.aboutMeImg {\r\n\r\n    position: absolute;\r\n    bottom: 0;\r\n    margin: 0 auto;\r\n    left: 0;\r\n    right: 0;\r\n    width: auto;\r\n    height: 30%;\r\n}\r\n.photo {\r\n    margin: 20px;\r\n    height: 55%;\r\n    min-width: 100px;\r\n    border-radius: 100%;\r\n    box-shadow:  0 0 40px 10px rgb(178,179,168);\r\n}\r\n.navigation-block {\r\n    padding-top: 20px;\r\n    z-index: 40;\r\n    height: 60%;\r\n    color: white;\r\n    border-bottom: 1px solid black;\r\n}\r\n.navigation-point {\r\n    position: relative;\r\n    z-index: 45;\r\n    text-align: left;\r\n    height: 10%;\r\n    padding: 10px;\r\n}\r\n.navigation-point:hover {\r\n    background-color: rgb(129,136,140)\r\n}\r\n.navigation-point a {\r\n    color: white;\r\n    align-items: center;\r\n}\r\n.navigation-point svg {\r\n    margin-right: 10px;\r\n}\r\n.menu-button {\r\n    position: absolute;\r\n    align-self: center;\r\n    right: -25px;\r\n    bottom: 45%;\r\n    height: 50px;\r\n    width: 50px;\r\n    background-color: rgb(140,142,120);\r\n    display: grid;\r\n    justify-content: center;\r\n    border: none;\r\n    align-content: center;\r\n    border-radius: 100%;\r\n    z-index: 50;\r\n}\r\n.menu-button:hover {\r\n    box-shadow: 0 0 10px 2px grey;\r\n}\r\n.menu-bottom {\r\n    margin: 20px auto;\r\n    color: rgb(140,142,120);\r\n    height: 10%;\r\n    font-size: 12px;\r\n}\r\n.authorName {\r\n    font-size: 16px;\r\n    font-style: italic;\r\n    margin-left: 5px;\r\n}\r\n\r\n\r\n@media screen and (max-width: 768px) {\r\n    #header-nav, .app #header-nav-active, .app #header-nav-active-reverse, .app #header-nav-opened {\r\n        width: 30vw\r\n    }\r\n    #header-nav, #header-nav-active, #header-nav-active-reverse {\r\n        left: -29vw;\r\n    }\r\n}\r\n@media screen and (max-width: 425px) {\r\n    #header-nav, .app #header-nav-active, .app #header-nav-active-reverse, .app #header-nav-opened {\r\n        height: 90vh;\r\n        width: 80vw\r\n    }\r\n    #header-nav, #header-nav-active, #header-nav-active-reverse {\r\n        left: -78vw;\r\n    }\r\n    .navigation-block {\r\n        height: 50%;\r\n    }\r\n    .menu-bottom {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    .photo {\r\n        min-width: 115px;\r\n    }\r\n}\r\n@media screen and (max-width: 375px) {\r\n    #header-nav, .app #header-nav-active, .app #header-nav-active-reverse, .app #header-nav-opened {\r\n        height: 90vh;\r\n        width: 90vw\r\n    }\r\n    #header-nav, #header-nav-active, #header-nav-active-reverse {\r\n        left: -88vw;\r\n    }\r\n}",""]),t.exports=e},function(t,e,n){var r=n(1),i=n(12);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(2)(!1)).push([t.i,"#main {\r\n\r\n    height: 100vh;\r\n    width: 100%;\r\n    display: block;\r\n    box-shadow: inset 0 0 20px 10px rgb(178,179,168);\r\n    overflow: auto;\r\n}\r\n.main-div {\r\n    position: relative;\r\n    align-self: center;\r\n    z-index: 30;\r\n    width: 90%;\r\n    height: 90%;\r\n    margin: 5vh auto;\r\n    animation: main 2s;\r\n}\r\n@keyframes main {\r\n    0% {\r\n        opacity: 0%;\r\n    }\r\n    100% {\r\n        opacity: 100%;\r\n    }\r\n}\r\n.currentH1 {\r\n    left: 0;\r\n    position: fixed;\r\n    z-index: 60;\r\n    font-family: 'Muli', sans-serif !important;\r\n    font-style: italic;\r\n    font-size: 30px;\r\n    right: 0;\r\n    margin: 0 auto;\r\n    background-color: rgba(102,102,102,0.95);\r\n    padding: 15px 0;\r\n    top: 0;\r\n    color: wheat;\r\n    box-shadow: 0 0 20px 10px rgb(178,179,168);\r\n}\r\n@media screen and (max-width: 425px) {\r\n    .text-block {\r\n        padding: 7px 0;\r\n    font-size: 14px;\r\n    }\r\n}\r\n\r\n",""]),t.exports=e},function(t,e,n){var r=n(1),i=n(14);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(2)(!1)).push([t.i,".wrapper {\r\n    max-width: 1170px;\r\n    display: grid;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    padding: 8vh 20px;\r\n    position: relative;\r\n    z-index: 10;\r\n}\r\n.app {\r\n    display: grid;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    position: relative;\r\n    \r\n}",""]),t.exports=e},function(t,e,n){var r=n(1),i=n(16);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(2)(!1)).push([t.i,'#skillBlock {\r\n    width: 100%;\r\n    justify-content: center;\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(180px,300px));\r\n    align-content: center;\r\n    position: relative;\r\n    z-index: 40;\r\n    user-select: none;\r\n}\r\n.skillDiv, .skillDivStart {\r\n    height: 170px;\r\n    margin: 20px auto;\r\n    width: 170px;\r\n    text-align: center;\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: repeat(auto-fit, minmax(40px, 40px));\r\n    align-content: center;\r\n    padding: 15px;\r\n    border-radius: 100%;\r\n    position: relative;\r\n}\r\n.skillDivStart {\r\n    top: -3500px\r\n}\r\n.skillDiv {\r\n    animation: skillDiv 2s;\r\n}\r\n.skillDiv:hover, .skillDivContent:hover, .skillDivContentBack:hover {\r\n    cursor: pointer;\r\n}\r\n.skillDivContent, .skillDivContentBack {\r\n    border-radius: 100%;\r\n    background-image: url("/src//common/images/star.png");\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    background-size: cover;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    display: grid;\r\n    align-content: center;\r\n    justify-content: center;\r\n}\r\n.skillDivContentBack {\r\n    transform: rotateY(180deg);\r\n}\r\n\r\n@keyframes skillDiv {\r\n    0% {\r\n        position: relative;\r\n        top: -3500px;\r\n    }\r\n    100% {\r\n        position: relative;\r\n        top: 0;\r\n    }\r\n}\r\n.skillDivAnimation, .skillDivAnimationRotate, .skillDiv {\r\nbox-shadow: 0 0 20px 0px rgb(195, 151, 4);\r\n}\r\n.skillDivAnimation, .skillDivAnimationRotate {\r\n    height: 170px;\r\n    margin: 20px auto;\r\n    width: 170px;\r\n    text-align: center;\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: repeat(auto-fit, minmax(40px, 40px));\r\n    align-content: center;\r\n    padding: 15px;\r\n    border-radius: 100%;\r\n    background-image: url("/src/common/images/star.png");\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    background-size: cover;\r\n    animation: skillDivAnimation 2s;\r\n    transform-style: preserve-3d;\r\n}\r\n.skillDivAnimationRotate {\r\n    animation: skillDivAnimationRotate 2s;\r\n}\r\n@keyframes skillDivAnimationRotate {\r\n    0% {\r\n        transform: rotateY(180deg);\r\n        \r\n    }\r\n    100% {\r\n        transform: rotateY(0);\r\n    }\r\n}\r\n@keyframes skillDivAnimation {\r\n    0% {\r\n        transform: rotateY(0deg);\r\n    }\r\n    100% {\r\n        transform: rotateY(180deg);\r\n        \r\n    }\r\n}\r\n.skillNameDiv {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n\r\n}\r\n.currentSkills {\r\n    font-size: 35px;\r\n    font-weight: bold;\r\n    display: block;\r\n    text-align: center;\r\n    margin: 20px auto;\r\n}',""]),t.exports=e},function(t,e,n){var r=n(1),i=n(18);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(2)(!1)).push([t.i,"\r\n.educationText {\r\n    margin: 20px;\r\n    font-size: 18px;\r\n    font-family: 'Dancing Script', cursive;\r\n    font-style: italic;\r\n    font-weight: 50;\r\n}\r\n.educationName {\r\n    text-align: left;\r\n    margin: 15px;\r\n    font-size: 22px;\r\n    font-family: 'Dancing Script', cursive;\r\n    font-style: italic;\r\n    font-weight: 50;\r\n}\r\n.educationImg {\r\n    position: relative;\r\n    z-index: 40;\r\n}\r\n.educationImg, .educationImgClosed {\r\n    width: 280px;\r\n    max-height: 150px;\r\n    border-radius: 15px;\r\n}\r\n.educationImg:hover{\r\n    cursor: pointer;\r\n    transform: perspective(400px) rotate3d(1, 0, 0.2, 30deg) ;\r\n    transition: 1s;\r\n}\r\n.showInfoImageDiv:hover {\r\n    cursor: pointer;\r\n}\r\n .showInfoImageDiv:hover::after {\r\n    display: block;\r\n    content: attr(data-title); /*   */\r\n    position: absolute; /*   */\r\n    left: 50%; top: 40%; /*   */\r\n    z-index: 70; /*      */\r\n    background: rgba(255,255,230,0.9); /*    */\r\n    font-family: Arial, sans-serif; /*   */\r\n    font-size: 11px; /*    */\r\n    padding: 5px 10px; /*  */\r\n    border: 1px solid #333; /*   */\r\n   }\r\n\r\n.educationImgOpened:hover {\r\n    cursor: pointer;\r\n}\r\n.showInfoImageDiv {\r\n    display: block;\r\n    width: 280px;\r\n        max-height: 150px;\r\n        margin: 0 auto;\r\n        position: relative;\r\n        z-index: 20;\r\n}\r\n.educationImgClosed {\r\n    opacity: 0;\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: 0 auto;\r\n    z-index: 10;\r\n    transform: perspective(0) rotate3d(0, 0, 0, 0) ;\r\n    animation: educationImgClosed 1s;\r\n    \r\n}\r\n@keyframes educationImgClosed {\r\n    0% {\r\n        opacity: 1;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        margin: 0 auto;\r\n        height: auto;\r\n        width: 80vw;\r\n        max-width: 1170px;\r\n    }\r\n    100% {\r\n        opacity: 0;\r\n        display: block;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        margin: 0 auto;\r\n        z-index: 10;\r\n        transform: perspective(0) rotate3d(0, 0, 0, 0) ;\r\n        width: 280px;\r\n        max-height: 150px;\r\n    }\r\n}\r\n.educationImageBlock {\r\n    position: relative;\r\n}\r\n.educationImgOpened {\r\n    display: block;\r\n    position: fixed;\r\n    z-index: 60;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 0;\r\n    right: 0;\r\n    border-radius: 15px;\r\n    margin: 0 auto;\r\n    max-height: 700px;\r\n    min-width: 80vw;\r\n    max-width: 100vw;\r\n    height: auto;\r\n    width: auto;\r\n    padding: 5vh 5vw;\r\n    background-color: rgba(102,102,102,0.95);\r\n    animation: educationImgOpened 1s;\r\n}\r\n@keyframes educationImgOpened {\r\n    0% {\r\n        opacity: 0;\r\n        display: block;\r\n        position: fixed;\r\n        left: 0;\r\n        right: 0;\r\n        margin: 0 auto;\r\n        z-index: 10;\r\n        transform: perspective(0) rotate3d(0, 0, 0, 0) ;\r\n        width: 280px;\r\n        max-height: 150px;\r\n    }\r\n    100% {\r\n        display: block;\r\n        position: fixed;\r\n        z-index: 60;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        left: 0;\r\n        right: 0;\r\n        border-radius: 15px;\r\n        margin: 0 auto;\r\n        max-height: 700px;\r\n        min-width: 80vw;\r\n        max-width: 100vw;\r\n        height: auto;\r\n        width: auto;\r\n        padding: 5vh 5vw;\r\n        background-color: rgba(102,102,102,0.95);\r\n    }\r\n}\r\n\r\n\r\n.educationBlockStart {\r\n    position: relative;\r\n    right: -1500px;\r\n}\r\n.educationBlock {\r\n    position: relative;\r\n    animation: Ani 1s;\r\n}\r\n@keyframes Ani {\r\n    0% {\r\n        position: relative;\r\n        right: -2500px;\r\n    }\r\n    100% {\r\n        position: relative;\r\n        right: 0;\r\n    }\r\n}\r\n\r\n\r\n@media screen and (max-width: 425px) {\r\n    .educationImgOpened {\r\n        width: 96vw;\r\n    }\r\n    @keyframes educationImgOpened {\r\n        0% {\r\n            opacity: 0;\r\n            position: fixed;\r\n            left: 0;\r\n            right: 0;\r\n            margin: 0 auto;\r\n            height: auto;\r\n            width: 300px;\r\n            max-height: 150px;\r\n        }\r\n        100% {\r\n            display: block;\r\n            position: fixed;\r\n            z-index: 60;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n            left: 0;\r\n            right: 0;\r\n            border-radius: 15px;\r\n            margin: 0 auto;\r\n            height: auto;\r\n            width: 96vw;\r\n            max-width: 1170px;\r\n        }\r\n    }\r\n}\r\n@media screen and (max-width: 325px) {\r\n    .educationImgOpened {\r\n        width: 99vw;\r\n    }\r\n    @keyframes educationImgOpened {\r\n        0% {\r\n            opacity: 0;\r\n            position: fixed;\r\n            left: 0;\r\n            right: 0;\r\n            margin: 0 auto;\r\n            height: auto;\r\n            width: 300px;\r\n            max-height: 150px;\r\n        }\r\n        100% {\r\n            display: block;\r\n            position: fixed;\r\n            z-index: 60;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n            left: 0;\r\n            right: 0;\r\n            border-radius: 15px;\r\n            margin: 0 auto;\r\n            height: auto;\r\n            width: 99vw;\r\n            max-width: 1170px;\r\n        }\r\n    }\r\n}",""]),t.exports=e},function(t,e,n){var r=n(1),i=n(20);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(2)(!1)).push([t.i,".workExpBlock {\r\n    margin:  0 auto;\r\n    color: black;\r\n    min-height: 50vh;\r\n}\r\n.H1 {\r\n    font-size: 30px;\r\n    font-weight: 700;\r\n    margin: 15px auto;\r\n}\r\n.workInfo, .projectInfoDiv {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(50%, 50%));\r\n    margin: 10px auto 20px auto;\r\n}\r\n.workInfo {\r\n    animation: workAni 0.5s;\r\n}\r\n.projectInfoDiv {\r\n    animation: projAni 0.5s;\r\n}\r\n@keyframes workAni {\r\n    0% {\r\n        position: relative;\r\n        left: -1500px;\r\n    }\r\n    80% {\r\n        position: relative;\r\n        left: 300px;\r\n    }\r\n    100% {\r\n        position: relative;\r\n        left: 0;\r\n        right: 0;\r\n    }\r\n}\r\n@keyframes projAni {\r\n    0% {\r\n        position: relative;\r\n        right: -1500px;\r\n    }\r\n    80% {\r\n        position: relative;\r\n        right: 300px;\r\n    }\r\n    100% {\r\n        position: relative;\r\n        left: 0;\r\n        right: 0;\r\n    }\r\n}\r\n.workImg {\r\n    margin: 15px auto;\r\n    width: 90%;\r\n}\r\n.workImg, .projWindow {\r\n    height: auto;\r\n    border-radius: 20px;\r\n    display: flex;\r\n    align-self: center;\r\n    height: auto;\r\n}\r\n.projWindow {\r\n    width: 100%;\r\n}\r\n.projImgLink:hover {\r\n    box-shadow:  0 0 20px 10px rgb(178,179,168);\r\n}\r\n.projImgLink {\r\n    display: flex;\r\n    align-self: center;\r\n    margin: 15px auto;\r\n    width: 90%;\r\n    box-shadow:  0 0 20px 10px rgb(178,179,168);\r\n    border-radius: 20px;\r\n}\r\n.projImgLink:hover {\r\n    box-shadow:  0 0 50px 25px rgb(178,179,168);\r\n}\r\n.company, .projName {\r\n    margin: 10px auto 10px 20px;\r\n    font-size: 24px;\r\n}\r\n.company {\r\n    text-align: left;\r\n}\r\n.projName {\r\n    text-align: right;\r\n}\r\n.position {\r\n    text-align: left;\r\n    font-size: 24px;\r\n    margin: 0 auto 10px 20px;\r\n}\r\n.achievments, .responsibilities, .projDescr, .techStack {\r\n    font-size: 18px;\r\n    line-height: 22px;\r\n}\r\n.spanResp, .spanAchi {\r\n    display: block;\r\n    font-size: 27px;\r\n    text-align: left;\r\n    margin: 5px auto 15px 5px;\r\n}\r\n.textDiv {\r\n    display: block;\r\n    text-align: left;\r\n    margin-left: 20px;\r\n}\r\n\r\n@media screen and (max-width: 425px) {\r\n    .workInfo, .projectInfoDiv {\r\n        width: 80vw;\r\n        margin: 0 auto;\r\n        display: block;\r\n        grid-template-columns: none;\r\n        margin: 10px auto 20px auto;\r\n    }\r\n    .projName, .company, .position {\r\n        margin: 10px auto 10px auto;\r\n        font-size: 24px;\r\n        text-align: center;\r\n    }\r\n    .projImgLink, .workImg {\r\n        width: 100%;\r\n    }\r\n}",""]),t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n(6),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[0],u=s[1],c=this.normalizeInstanceIdentifier(a);try{var h=this.getOrInitializeService(c);u.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return l})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return p}));var o,s=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},l=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=h,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!0,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){n(i[r])}}},function(t,e,n){"use strict";(function(t){var e=n(0),r=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in r||(r[s]={}),r=r[s]}(e=e(o=r[t=t[t.length-1]]))!=o&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Oa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var a=a||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,h=null;function l(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++g)}var y="closure_uid_"+(1e9*Math.random()>>>0),g=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function A(t,e,n){this.code=S+t,this.message=e||x[t]||"",this.a=n||null}function N(t){var e=t&&t.code;return e?new A(e.substring(S.length),t.message,t.serverResponse):null}_(A,Error),A.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.v()};var k,S="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function L(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}k=D("__EID__")?"__EID__":void 0,_(C,Error),C.prototype.name="CustomError",_(R,C),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new M((function(){return new q}),(function(t){t.reset()}));function F(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=B(t,e)}function Q(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function X(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=u.navigator;if(ct){var ht=ct.userAgent;if(ht){$=ht;break t}}$=""}function lt(t){return at($,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===It&&e||"",this.b=wt}function bt(t){return t instanceof gt&&t.constructor===gt&&t.b===wt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ra=!0,gt.prototype.qa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt={},It={},Et=new gt(It,"");function Tt(t,e){this.a=t===xt&&e||"",this.b=St}function _t(t){return t instanceof Tt&&t.constructor===Tt&&t.b===St?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function At(t,e){var n=bt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?bt(t):encodeURIComponent(String(t))})),new Tt(xt,t)}Tt.prototype.ra=!0,Tt.prototype.qa=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={},xt={};function Ot(t,e){this.a=t===Lt&&e||"",this.b=Rt}function Dt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Rt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ct(t){return t instanceof Ot?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Ot(Lt,t))}var Rt={},Lt={};function Mt(){this.a="",this.b=Ut}function jt(t){return t instanceof Mt&&t.constructor===Mt&&t.b===Ut?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Mt.prototype.ra=!0,Mt.prototype.qa=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function Vt(t){var e=new Mt;return e.a=t,e}Vt("<!DOCTYPE html>");var Ft=Vt("");function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Vt("<br>"),Gt[" "]=l;var Ht,zt,Wt=lt("Opera"),Kt=lt("Trident")||lt("MSIE"),Qt=lt("Edge"),Yt=Qt||Kt,Xt=lt("Gecko")&&!(at($.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),Jt=at($.toLowerCase(),"webkit")&&!lt("Edge");function $t(){var t=u.document;return t?t.documentMode:void 0}t:{var Zt="",te=(zt=$,Xt?/rv:([^\);]+)(\)|;)/.exec(zt):Qt?/Edge\/([\d\.]+)/.exec(zt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Jt?/WebKit\/(\S+)/.exec(zt):Wt?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(te&&(Zt=te?te[1]:""),Kt){var ee=$t();if(null!=ee&&ee>parseFloat(Zt)){Ht=String(ee);break t}}Ht=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Z(String(Ht)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ne=u.document&&Kt?$t():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var oe=!Kt||9<=Number(ne);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function le(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!p(o)||v(o)&&0<o.nodeType?r(o):G(pe(o)?J(o):o,r)}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(d(t))return"function"==typeof t.item}return!1}function de(t){u.setTimeout((function(){throw t}),0)}function ve(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",function(t){var e=new Tt(xt,bt(Et));yt(t,"HTMLIFrameElement"),t.src=_t(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(jt(Ft)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=I((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!lt("Trident")&&!lt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}function me(t,e){ce||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ce=function(){t.then(be)}}else ce=function(){var t=be;!d(u.setImmediate)||u.Window&&u.Window.prototype&&!lt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=ve()),ue(t)):u.setImmediate(t)}}(),ye||(ce(),ye=!0),ge.add(t,e)}var ye=!1,ge=new U;function be(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){de(t)}j(V,t)}ye=!1}function we(t,e){if(this.a=Ie,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Ce(n,Ee,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ce(n,Te,t)}))}catch(t){Ce(this,Te,t)}}var Ie=0,Ee=2,Te=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ae=new M((function(){return new _e}),(function(t){t.reset()}));function Ne(t,e,n){var r=Ae.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof we)return t;var e=new we(l);return Ce(e,Ee,t),e}function Se(t){return new we((function(e,n){n(t)}))}function xe(t,e,n){Re(t,e,n,null)||me(E(e,t))}function Oe(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function De(t,e){t.b||t.a!=Ee&&t.a!=Te||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ne(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,De(t,i),i.a}function Ce(t,e,n){t.a==Ie&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Te||n instanceof Fe||function(t,e){t.g=!0,me((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function Re(t,e,n,r){if(t instanceof we)return De(t,Ne(e||l,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Le(t){t.h||(t.h=!0,me(t.ec,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(t){Ve.call(null,t)}j(Ae,e)}function Ue(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Pe(this,d(t)?t:null,d(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(e=we.prototype).ma=function(t,e){return(t=Ne(t,t,e)).c=!0,De(this,t),this},e.o=function(t,e){return Pe(this,null,t,e)},e.cancel=function(t){if(this.a==Ie){var e=new Fe(t);me((function(){!function t(e,n){if(e.a==Ie)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==Ie&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Me(r),je(r,o,Te,n)))}e.c=null}else Ce(e,Te,n)}(this,e)}),this)}},e.Yc=function(t){this.a=Ie,Ce(this,Ee,t)},e.Zc=function(t){this.a=Ie,Ce(this,Te,t)},e.ec=function(){for(var t;t=Me(this);)je(this,t,this.a,this.i);this.h=!1};var Ve=de;function Fe(t){C.call(this,t)}function qe(){0!=Be&&(Ge[m(this)]=this),this.wa=this.wa,this.na=this.na}_(Fe,C),Fe.prototype.name="cancel";var Be=0,Ge={};function He(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Be)){var e=m(t);if(0!=Be&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ge[e]}}qe.prototype.wa=!1,qe.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var ze=Object.freeze||function(t){return t},We=!Kt||9<=Number(ne),Ke=Kt&&!ie("9"),Qe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",l,e),u.removeEventListener("test",l,e)}catch(t){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Xe,Ye);var Je=ze({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Xe.prototype.f=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Ze,this.ua=this.Na=!1}function en(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new tn(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function un(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[$e]?In(t,e,n,v(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=yn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy){if(r=function(){var t=mn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=bn(n),t&&t[$e]?En(t,e,n,v(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=bn(n),t&&t[$e]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[$e])rn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function pn(t){return t in an?an[t]:an[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&fn(t),n.call(r,e)}function mn(t,e){if(t.ua)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Xe(e,this))}function yn(t){return(t=t[sn])instanceof nn?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function wn(){qe.call(this),this.u=new nn(this),this.Yb=this,this.eb=null}function In(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Tn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&rn(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function _n(t,e,n){if(d(t))n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function An(t){var e=null;return new we((function(n,r){-1==(e=_n((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Nn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(wn,qe),wn.prototype[$e]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;mt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Tn(s,r,!0,t)&&i}if(i=Tn(s=t.b=n,r,!0,t)&&i,i=Tn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tn(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Ba=function(){if(wn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.eb=null},(e=Sn.prototype).V=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return xn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return On(this.b,t)?this.b[t]:e},e.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Pn?(this.h=void 0!==e?e:t.h,Cn(this,t.f),this.i=t.i,this.b=t.b,Rn(this,t.l),this.c=t.c,Ln(this,tr(t.a)),this.g=t.g):t&&(n=String(t).match(Dn))?(this.h=!!e,Cn(this,n[1]||"",!0),this.i=Fn(n[2]||""),this.b=Fn(n[3]||"",!0),Rn(this,n[4]),this.c=Fn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.g=Fn(n[7]||"")):(this.h=!!e,this.a=new Qn(null,this.h))}function Cn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Ln(t,e,n){e instanceof Qn?(t.a=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=qn(e,Wn)),t.a=new Qn(e,t.h))}function Mn(t,e,n){t.a.set(e,n)}function jn(t,e){return t.a.get(e)}function Un(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Vn(t,e){var n=new Pn(null,void 0);return Cn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qn(e,Gn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(qn(e,Gn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qn(n,Kn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.f;n?Cn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Rn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Ln(e,tr(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Gn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=Nn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Jn(t,e){Yn(t),e=er(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function $n(t,e){return Yn(t),e=er(t,e),On(t.a.b,e)}function Zn(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),J(n)),t.b+=n.length)}function tr(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),sr(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(e=Qn.prototype).add=function(t,e){Yn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Yn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.X=function(){Yn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.V=function(t){Yn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=X(e,this.a.get(er(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},e.set=function(t,e){return Yn(this),this.c=null,$n(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Nr();return Kt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function ur(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||u.window;var n="about:blank";t&&(n=Dt(Ct(t))),e.location.href=n}function hr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||u.window;try{t.close()}catch(t){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),Tr(Nr())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Ct(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=fe(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.ra?e.qa():String(e),Pt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Lt,e)),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Dt(e),s&&(Yt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Vt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),r=s.document)&&(r.write(jt(t)),r.close())):(s=r.open(Dt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new we((function(e){"complete"==u.document.readyState?e():(t=function(){e()},hn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function mr(t){return t=t||Nr(),!("file:"!==Dr()&&"ionic:"!==Dr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function gr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function br(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":gr()?"Worker":"Browser"}function wr(){var t=br();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Er="Chrome";function Tr(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?Ir:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Er:"Safari"}var _r={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Tr(i=Nr()):"Worker"===r&&(r=Tr(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return u.navigator&&u.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Sr(){try{var t=u.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!u.indexedDB}catch(t){return gr()&&!!u.indexedDB}return!1}function xr(){return(Or()||"chrome-extension:"===Dr()||mr())&&!wr()&&Sr()&&!gr()}function Or(){return"http:"===Dr()||"https:"===Dr()}function Dr(){return u.location&&u.location.protocol||null}function Pr(t){return!hr(t=t||Nr())&&Tr(t)!=Ir}function Cr(t){return void 0===t?null:nr(t)}function Rr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function jr(t){return"Safari"!=Tr(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Vr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=br(),this.b=hr(t)||"ReactNative"===e}function Fr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Br(){return!(!kr("fireauth.oauthhelper",u)&&!kr("fireauth.iframe",u))}Vr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Or()&&"chrome-extension:"!==Dr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Hr={};function zr(t){Hr[t]||(Hr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Wr.abcd}catch(zt){Gr=!1}function Kr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Kr(t,n,e[n])}function Yr(t){var e={};return Qr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Kr(e,n,Xr(t[n]));return e}function Jr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Kr(this,"uid",t[ei]),Kr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Kr(this,"enrollmentTime",n),Kr(this,"factorId",e)}function $r(t){try{var e=new ri(t)}catch(t){e=null}return e}Jr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Jr.call(this,t),Kr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[hi],i=t[li];if(t=$r(t[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[pi]=n||null,e[vi]=n||null,e[fi]=r):(e[pi]=r||null,e[vi]=r||null,e[fi]=n||null),e[di]=t||null,Kr(this,yi,i),Kr(this,mi,Xr(e))}_(ri,Jr),ri.prototype.v=function(){var t=ri.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",hi="newEmail",li="requestType",fi="email",pi="fromEmail",di="multiFactorInfo",vi="previousEmail",mi="data",yi="operation";function gi(t){var e=jn(t=Un(t),bi)||null,n=jn(t,wi)||null,r=jn(t,Ti)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new A("argument-error",bi+", "+wi+"and "+Ti+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,Ii)||null,languageCode:jn(t,Ei)||null,tenantId:jn(t,_i)||null})}var bi="apiKey",wi="oobCode",Ii="continueUrl",Ei="languageCode",Ti="mode",_i="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new gi(t)}catch(t){return null}}function ki(t){var e=t[Pi];if(void 0===e)throw new A("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Si];if(n&&"object"==typeof n){e=n[Li];var r=n[Ci];if(n=n[Ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new A("argument-error",Ci+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new A("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new A("missing-android-pkg-name")}}else if(void 0!==n)throw new A("argument-error",Si+" property must be a non null object when specified.");if(this.f=null,(e=t[Di])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new A("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new A("argument-error",Di+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new A("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new A("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Si="android",xi="dynamicLinkDomain",Oi="handleCodeInApp",Di="iOS",Pi="url",Ci="installApp",Ri="minimumVersion",Li="packageName",Mi="bundleId";function ji(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function Vi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Fi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,T(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function qi(t){try{return new Fi(t)}catch(t){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Vi(t))}catch(t){}return null}Fi.prototype.S=function(){return this.f},Fi.prototype.i=function(){return this.b},Fi.prototype.toString=function(){return this.g};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],zi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Hi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Hi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Hi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Gi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Wi(t){for(var e in zi)if(zi[e].ea==t)return zi[e];return null}function Ki(t){var e={};e["facebook.com"]=$i,e["google.com"]=to,e["github.com"]=Zi,e["twitter.com"]=eo;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Qi])return new Xi(t)}catch(t){}return null}var Qi="idToken",Yi="providerId";function Xi(t){var e=t[Yi];if(!e&&t[Qi]){var n=qi(t[Qi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Kr(this,"providerId",e),Kr(this,"isNewUser",n)}function Ji(t){Xi.call(this,t),Kr(this,"profile",Xr((t=Lr(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",this.profile&&this.profile.login||null)}function to(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",t.screenName||null)}function no(t){var e=Un(t),n=jn(e,"link"),r=jn(Un(n),"link");return e=jn(e,"deep_link_id"),jn(Un(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}_(Ji,Xi),_($i,Ji),_(Zi,Ji),_(to,Ji),_(eo,Ji);var io="enroll",oo="signin";function so(){}function ao(t,e){return t.then((function(t){if(t[Ys]){var n=qi(t[Ys]);if(!n||e!=n.h)throw new A("user-mismatch");return t}throw new A("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new A("user-mismatch"):t}))}function uo(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Kr(this,"providerId",t),Kr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Kr(this,"idToken",e.idToken),e.accessToken&&Kr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Kr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Kr(this,"accessToken",e.oauthToken),Kr(this,"secret",e.oauthTokenSecret)}Kr(this,"providerId",t),Kr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function vo(t,e){this.Oc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Wi(t)||{}).Ha||null,this.kb=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function yo(t){vo.call(this,t,Hi),this.a=[]}function go(){yo.call(this,"facebook.com")}function bo(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function wo(){yo.call(this,"github.com")}function Io(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){yo.call(this,"google.com"),this.Aa("profile")}function To(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Eo).credential({idToken:n,accessToken:e})}function _o(){vo.call(this,"twitter.com",Gi)}function Ao(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Kr(this,"providerId","password"),Kr(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function So(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Oo(e)))throw new A("argument-error","Invalid email link!");return new No(t,e.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ni(t=no(t)))&&t.operation===si?t:null}function Do(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new A("internal-error");this.a=t,Kr(this,"providerId","phone"),this.ea="phone",Kr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Do(e)}return null}function Co(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Ro(t){try{this.a=t||r.a.auth()}catch(t){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new Do({bb:t,ab:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Do({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return bo(n);case"github.com":return Io(n);case"twitter.com":return Ao(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new uo(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function jo(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function Vo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&N(t.error),t.postBody,t.tenantId):null}function Fo(){this.b=null,this.a=[]}ro.prototype.Fa=function(){return this.a?ke(this.a):ke(this.b)},ro.prototype.v=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ia=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.v=function(){},uo.prototype.ia=function(t){return va(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,ma(t,n)},uo.prototype.c=function(t,e){return ao(ya(t,co(this)),e)},uo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ia=function(t){return va(t,fo(this))},lo.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ma(t,n)},lo.prototype.c=function(t,e){return ao(ya(t,fo(this)),e)},lo.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ia=function(t){return this.Fb=dt(t),this},_(mo,vo),_(yo,vo),yo.prototype.Aa=function(t){return K(this.a,t)||this.a.push(t),this},yo.prototype.Nb=function(){return J(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},_(go,yo),Kr(go,"PROVIDER_ID","facebook.com"),Kr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(wo,yo),Kr(wo,"PROVIDER_ID","github.com"),Kr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),_(Eo,yo),Kr(Eo,"PROVIDER_ID","google.com"),Kr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(_o,vo),Kr(_o,"PROVIDER_ID","twitter.com"),Kr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ia=function(t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Aa,{email:this.a,oobCode:this.f}):$a(t,Ka,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Na,{idToken:e,email:this.a,oobCode:this.f}):$a(t,Va,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return ao(this.ia(t),e)},No.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(So,{PROVIDER_ID:"password"}),Qr(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ia=function(t){return t.cb(Co(this))},Do.prototype.b=function(t,e){var n=Co(this);return n.idToken=e,$a(t,Ya,n)},Do.prototype.c=function(t,e){var n=Co(this);return n.operation="REAUTH",ao(t=$a(t,Xa,n),e)},Do.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Ro.prototype.cb=function(t,e){var n=this.a.b;return ke(e.verify()).then((function(r){if("string"!=typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==io?i.Fa().then((function(t){return function(t,e){return $a(t,qa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==oo?i.Fa().then((function(e){return function(t,e){return $a(t,Ba,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return $a(t,ja,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Ro,{PROVIDER_ID:"phone"}),Qr(Ro,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.S=function(){return this.h},Uo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var qo,Bo=null;function Go(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.b,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function Ho(t,e,n){A.call(this,t,n),(t=e||{}).Gb&&Kr(this,"email",t.Gb),t.da&&Kr(this,"phoneNumber",t.da),t.credential&&Kr(this,"credential",t.credential),t.Wb&&Kr(this,"tenantId",t.Wb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Mo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Wo(){}function Ko(t){return t.c||(t.c=t.b())}function Qo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.oc,this),this.a.onerror=I(this.Pb,this),this.a.onprogress=I(this.pc,this),this.a.ontimeout=I(this.tc,this)}function $o(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}_(Go,A),_(Ho,A),Ho.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&mt(t,e),t},Ho.prototype.toJSON=function(){return this.v()},Wo.prototype.c=null,_(Qo,Wo),Qo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Qo,_(Xo,Wo),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(e=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$o(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",$o(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,$o(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null;function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}Zo.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||T(),delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),rs=new es("WARNING",900),is=new es("CONFIG",700),os=new es("FINE",500);ts.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(d(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ss={},as=null;function us(t){var e;if(as||(as=new ts(""),ss[""]=as,as.c=is),!(e=ss[t])){e=new ts(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=us(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ss[t]=e}return e}function cs(t,e){t&&t.log(os,e,void 0)}function hs(t){this.f=t}function ls(t){wn.call(this),this.s=t,this.readyState=fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=us("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(hs,Wo),hs.prototype.a=function(){return new ls(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),_(ls,wn);var fs=0;function ps(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ds(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ms(t){wn.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ys,this.w=this.R=!1}(e=ls.prototype).open=function(t,e){if(this.readyState!=fs)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,vs(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ds(this,!1)),this.readyState=fs},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ps(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ds(this,!0):vs(this),3==this.readyState&&ps(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,ds(this,!0))},e.qc=function(t){this.a&&(this.response=t,ds(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(rs,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ds(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(rs,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(ms,wn);var ys="";ms.prototype.b=us("goog.net.XhrIo");var gs=/^https?$/i,bs=["POST","PUT"];function ws(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.B=t.D?Ko(t.D):Ko(qo),t.a.onreadystatechange=I(t.Sb,t);try{cs(t.b,xs(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return cs(t.b,xs(t,"Error opening Xhr: "+e.message)),void Es(t,e)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)G(t,e,void 0);else for(var n=kn(t),r=Nn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Is,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=u.FormData&&e instanceof u.FormData,!K(bs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ns(t),0<t.g&&(t.w=function(t){return Kt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),cs(t.b,xs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=I(t.Ka,t)):t.s=_n(t.Ka,t.g,t)),cs(t.b,xs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){cs(t.b,xs(t,"Send error: "+e.message)),Es(t,e)}}function Is(t){return"content-type"==t.toLowerCase()}function Es(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ts(t),As(t)}function Ts(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _s(t){if(t.c&&void 0!==a)if(t.B[1]&&4==ks(t)&&2==Ss(t))cs(t.b,xs(t,"Local request error detected and ignored"));else if(t.i&&4==ks(t))_n(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==ks(t)){cs(t.b,xs(t,"Request complete")),t.c=!1;try{var e,n=Ss(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Dn)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!gs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ks(t)?t.a.statusText:""}catch(e){cs(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Ss(t)+"]",Ts(t)}}finally{As(t)}}}function As(t,e){if(t.a){Ns(t);var n=t.a,r=t.B[0]?l:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ns(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function ks(t){return t.a?t.a.readyState:0}function Ss(t){try{return 2<ks(t)?t.a.status:-1}catch(t){return-1}}function xs(t,e){return e+" ["+t.P+" "+t.l+" "+Ss(t)+"]"}function Os(t){var e=qs;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ds(t,e,n){t.a=!0,t.c=n,t.f=!e,Ls(t)}function Ps(t){if(t.a){if(!t.u)throw new Ms(t);t.u=!1}}function Cs(t,e,n,r){t.g.push([e,n,r]),t.a&&Ls(t)}function Rs(t){return W(t.g,(function(t){return d(t[1])}))}function Ls(t){if(t.h&&t.a&&Rs(t)){var e=t.h,n=Vs[e];n&&(u.clearTimeout(n.a),delete Vs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(P(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Rs(t)||(n=!0)}}t.c=e,r&&(a=I(t.m,t,!0),r=I(t.m,t,!1),e instanceof Os?(Cs(e,a,r),e.B=!0):e.then(a,r)),n&&(e=new Us(e),Vs[e.a]=e,t.h=e.a)}function Ms(){C.call(this)}function js(){C.call(this)}function Us(t){this.a=u.setTimeout(I(this.c,this),0),this.b=t}(e=ms.prototype).Ka=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",cs(this.b,xs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(cs(this.b,xs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),As(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),As(this,!0)),ms.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?_s(this):this.Hc())},e.Hc=function(){_s(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return cs(this.b,"Can not get response: "+t.message),null}},Os.prototype.cancel=function(t){if(this.a)this.c instanceof Os&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new js(this),Ps(this),Ds(this,!1,t))}},Os.prototype.m=function(t,e){this.i=!1,Ds(this,t,e)},Os.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return Cs(this,r,(function(t){t instanceof js?o.cancel():i(t)})),o.then(t,e,n)},Os.prototype.$goog_Thenable=!0,_(Ms,C),Ms.prototype.message="Deferred has already fired",Ms.prototype.name="AlreadyCalledError",_(js,C),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",Us.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function Fs(t){var e={},n=e.document||document,r=_t(t).toString(),i=fe(document,"SCRIPT"),o={Tb:i,Ka:void 0},s=new Os(o),a=null,l=null!=e.timeout?e.timeout:5e3;return 0<l&&(a=window.setTimeout((function(){Bs(i,!0);var t=new zs(Hs,"Timeout reached for loading script "+r);Ps(s),Ds(s,!1,t)}),l),o.Ka=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Bs(i,e.ud||!1,a),Ps(s),Ds(s,!0,null))},i.onerror=function(){Bs(i,!0,a);var t=new zs(Gs,"Error while loading script "+r);Ps(s),Ds(s,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=_t(e),null===h&&(h=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=h)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function qs(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Bs(t,!0,this.Ka)}}function Bs(t,e,n){null!=n&&u.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Gs=0,Hs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Ws(t){this.f=t}function Ks(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xs,this.g=dt(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||$s,this.a=dt(t.firebaseHeaders||Zs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=u.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!gr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gr()?this.f=new hs(self):wr()?this.f=new Ws(n):this.f=new Xo,this.b=null}_(zs,C),_(Ws,Wo),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Qs,Ys="idToken",Xs=new Vr(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},$s=new Vr(3e4,6e4),Zs={"Content-Type":"application/json"};function ta(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ea(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function na(t,e,n,r,i,o,s){(function(){var t=Nr();return!((t=Tr(t)!=Er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Kt||!ne||9<ne)})()||gr()?t=I(t.w,t):(Qs||(Qs=new we((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ia]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Cs(t,null,e,void 0)}(Fs(At(ra,{onload:ia})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=I(t.s,t)),t(e,n,r,i,o,s)}Ks.prototype.S=function(){return this.b},Ks.prototype.w=function(t,e,n,r,i,o){if(gr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ms(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}In(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return cs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),En(s,"ready",(function(){a&&clearTimeout(a),He(this)})),En(s,"timeout",(function(){a&&clearTimeout(a),He(this),e&&e(null)})),ws(s,t,n,r,i)};var ra=new gt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ia="__fcb"+Math.floor(1e6*Math.random()).toString();function oa(t,e,n,r,i,o,s){var a=Un(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",T().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(a,c,i[c]);return new we((function(e,n){na(t,a.toString(),(function(t){t?t.error?n(tu(t,o||{})):e(t):n(new A("network-request-failed"))}),r,u?void 0:nr(Rr(i)),t.a,t.i.get())}))}function sa(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new A("invalid-email")}function aa(t){"email"in t&&sa(t)}function ua(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,dt(t));throw new A("internal-error")}}function ca(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}Ks.prototype.s=function(t,e,n,r,i){var o=this;Qs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ks.prototype.vb=function(){return $a(this,Fa,{})},Ks.prototype.xb=function(t,e){return $a(this,Ua,{idToken:t,email:e})},Ks.prototype.yb=function(t,e){return $a(this,Va,{idToken:t,password:e})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function la(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function fa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function pa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&($n(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function da(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=Za(t.errorMessage)),e)throw e;ua(t)}function va(t,e){return e.returnIdpCredential=!0,$a(t,Ga,e)}function ma(t,e){return e.returnIdpCredential=!0,$a(t,za,e)}function ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$a(t,Ha,e)}function ga(t){if(!t.oobCode)throw new A("invalid-action-code")}(e=Ks.prototype).zb=function(t,e){var n={idToken:t},r=[];return ft(ha,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),$a(this,Ua,n)},e.rb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),$a(this,Ca,t)},e.sb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),$a(this,Oa,t)},e.qb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$a(this,Da,t)},e.Ab=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$a(this,Pa,t)},e.cb=function(t){return $a(this,Qa,t)},e.jb=function(t,e){return $a(this,Ma,{oobCode:t,newPassword:e})},e.Pa=function(t){return $a(this,wa,{oobCode:t})},e.fb=function(t){return $a(this,ba,{oobCode:t})};var ba={endpoint:"setAccountInfo",A:ga,Y:"email",C:!0},wa={endpoint:"resetPassword",A:ga,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},C:!0},Ia={endpoint:"signupNewUser",A:function(t){if(sa(t),!t.password)throw new A("weak-password")},G:ua,U:!0,C:!0},Ea={endpoint:"createAuthUri",C:!0},Ta={endpoint:"deleteAccount",M:["idToken"]},_a={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=f(t.deleteProvider))throw new A("internal-error")}},Aa={endpoint:"emailLinkSignin",M:["email","oobCode"],A:sa,G:ua,U:!0,C:!0},Na={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:sa,G:ua,U:!0},ka={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:la,G:ua,C:!0,La:!0},Sa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:la,G:ua,C:!0,La:!0},xa={endpoint:"getAccountInfo"},Oa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");sa(t)},Y:"email",C:!0},Da={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Y:"email",C:!0},Pa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Y:"email",C:!0},Ca={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");sa(t)},Y:"email",C:!0},Ra={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},La={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},Ma={endpoint:"resetPassword",A:ga,Y:"email",C:!0},ja={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Ua={endpoint:"setAccountInfo",M:["idToken"],A:aa,U:!0},Va={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(aa(t),!t.password)throw new A("weak-password")},G:ua,U:!0},Fa={endpoint:"signupNewUser",G:ua,U:!0,C:!0},qa={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},C:!0,La:!0},Ba={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},C:!0,La:!0},Ga={endpoint:"verifyAssertion",A:fa,Wa:pa,G:da,U:!0,C:!0},Ha={endpoint:"verifyAssertion",A:fa,Wa:pa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw Za(t.errorMessage);ua(t)},U:!0,C:!0},za={endpoint:"verifyAssertion",A:function(t){if(fa(t),!t.idToken)throw new A("internal-error")},Wa:pa,G:da,U:!0},Wa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:ua,U:!0,C:!0},Ka={endpoint:"verifyPassword",A:function(t){if(sa(t),!t.password)throw new A("wrong-password")},G:ua,U:!0,C:!0},Qa={endpoint:"verifyPhoneNumber",A:ca,G:ua,C:!0},Ya={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");ca(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);ua(t)}},Xa={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ca,G:ua,C:!0},Ja={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ys]^!!t.refreshToken)throw new A("internal-error")},C:!0,La:!0};function $a(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Se(new A("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return ke(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),oa(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new A("internal-error");return r[e.Y]}))}function Za(t){return tu({error:{errors:[{message:t}],code:400,message:t}})}function tu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],e);return!e&&t&&(e=Cr(t)),new A("internal-error",e)}function eu(t){this.b=t,this.a=null,this.nb=function(t){return(ou||(ou=new we((function(t,e){function n(){Ur(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:ru.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},ke(Fs(r=At(nu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw ou=null,t})))).then((function(){return new we((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),iu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var nu=new gt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),ru=new Vr(3e4,6e4),iu=new Vr(5e3,15e3),ou=null;function su(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Vn(this.i,"/__/auth/iframe"),Mn(this.a,"apiKey",this.g),Mn(this.a,"appName",this.h),this.b=null,this.c=[]}function au(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function uu(t){try{return r.a.app(t).auth().Ea()}catch(t){return[]}}function cu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function hu(t){var e=ur();return function(t){return $a(t,Ra,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Un(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Go(ur())}))}function lu(t){return t.l||(t.l=vr().then((function(){if(!t.s){var e=t.c,n=t.h,r=uu(t.b),i=new su(t.u,t.f,t.b);i.f=e,i.b=n,i.c=J(r||[]),t.s=i.toString()}t.i=new eu(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Vo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.l}function fu(t){return t.m||(t.w=t.c?Ar(t.c,uu(t.b)):null,t.m=new Ks(t.f,D(t.h),t.w)),t.m}function pu(t,e,n,r,i,o,s,a,u,c,h){return(t=new au(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=dt(u||null),t.f=c,t.ub(h).toString()}function du(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=I(this.c,this)}su.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Jn(this.a.a,"v"),this.b?Mn(this.a,"eid",this.b):Jn(this.a.a,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Jn(this.a.a,"fw"),this.a.toString()},au.prototype.ub=function(t){return this.h=t,this},au.prototype.toString=function(){var t=Vn(this.s,"/__/auth/handler");if(Mn(t,"apiKey",this.m),Mn(t,"appName",this.c),Mn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ja()}catch(t){n=null}for(var i in e.kb=n,Mn(t,"providerId",this.a.providerId),n=Rr((e=this.a).Fb))n[i]=n[i].toString();i=e.Oc,n=dt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),pt(n)||Mn(t,"customParameters",Cr(n))}if("function"==typeof this.a.Nb&&((e=this.a.Nb()).length&&Mn(t,"scopes",e.join(","))),this.l?Mn(t,"redirectUrl",this.l):Jn(t.a,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Jn(t.a,"eventId"),this.i?Mn(t,"v",this.i):Jn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!jn(t,a)&&Mn(t,a,this.b[a]);return this.h?Mn(t,"tid",this.h):Jn(t.a,"tid"),this.f?Mn(t,"eid",this.f):Jn(t.a,"eid"),(a=uu(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(e=cu.prototype).Lb=function(t,e,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return lu(t).then((function(){return function(t,e){return t.nb.then((function(){return new we((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new we((function(e){return function n(){An(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return An(n).then((function(){e(r)}))}))},e.Ub=function(){var t=Nr();return!Pr(t)&&!jr(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Se(new A("popup-blocked"));if(s&&!Pr())return this.ka().o((function(e){lr(t),i(e)})),r(),ke();this.a||(this.a=hu(fu(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){(jo(n),s)||cr(pu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},e.Kb=function(t,e,n,r){this.a||(this.a=hu(fu(this)));var i=this;return this.a.then((function(){jo(e),cr(pu(i.u,i.f,i.b,t,e,ur(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},e.ka=function(){var t=this;return lu(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new A("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){Y(this.g,(function(e){return e==t}))},(e=du.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},e.set=function(t,e){return ke(this.a.setItem(t,Cr(e)))},e.T=function(t){return ke(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var mu,yu=[];function gu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bu(t){this.a=t}function wu(t){this.c=t,this.b=!1,this.a=[]}function Iu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Se(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Eu(t,c),e})).o((function(e){throw Eu(t,c),e}))}function Eu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function Tu(){if(!Nu())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;gr()&&self?(this.l=function(){var t=gr()?self:null;if(G(yu,(function(n){n.b==t&&(e=n)})),!e){var e=new vu(t);yu.push(e)}return e}(),gu(this.l,"keyChanged",(function(e,n){return Du(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),gu(this.l,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new wu(new bu(e)),Iu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function _u(t){return new we((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return _u(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Au(t){return t.m||(t.m=_u(t)),t.m}function Nu(){try{return!!u.indexedDB}catch(t){return!1}}function ku(t){return t.objectStore("firebaseLocalStorage")}function Su(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function xu(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ou(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Iu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):ke()}function Du(t){return Au(t).then((function(t){var e=ku(Su(t,!1));return e.getAll?xu(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Pu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Cu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(Nu()){var t=Mr(),r="__sak"+t;return mu||(mu=new Tu),(n=mu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){G(e.a,(function(e){e(t)}))})),t}))}function Ru(){this.a={},this.type="inMemory"}function Lu(){if(!function(){var t="Node"==br();if(!(t=Mu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Mu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Mu(){try{var t=u.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ju(){this.type="nullStorage"}function Uu(){if(!function(){var t="Node"==br();if(!(t=Vu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Vu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Vu(){try{var t=u.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Fu(){var t={};t.Browser=Gu,t.Node=Hu,t.ReactNative=zu,t.Worker=Wu,this.a=t[br()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},bu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},wu.prototype.close=function(){for(;0<this.a.length;)Eu(this,this.a[0]);this.b=!0},(e=Tu.prototype).set=function(t,e){var n,r=!1,i=this;return Au(this).then((function(e){return xu((e=ku(Su(n=e,!0))).get(t))})).then((function(o){var s=ku(Su(n,!0));return o?(o.value=e,xu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,xu(s.add(o)))})).then((function(){return i.c[t]=e,Ou(i,t)})).ma((function(){r&&i.b--}))},e.get=function(t){return Au(this).then((function(e){return xu(ku(Su(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.T=function(t){var e=!1,n=this;return Au(this).then((function(r){return e=!0,n.b++,xu(ku(Su(r,!0)).delete(t))})).then((function(){return delete n.c[t],Ou(n,t)})).ma((function(){e&&n.b--}))},e.ba=function(t){0==this.a.length&&function(t){Pu(t),function e(){t.f=setTimeout((function(){t.i=Du(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},e.ha=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Pu(this)},(e=Cu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.T=function(t){return this.b.then((function(e){return e.T(t)}))},e.ba=function(t){this.a.push(t)},e.ha=function(t){Y(this.a,(function(e){return e==t}))},(e=Ru.prototype).get=function(t){return ke(this.a[t])},e.set=function(t,e){return this.a[t]=e,ke()},e.T=function(t){return delete this.a[t],ke()},e.ba=function(){},e.ha=function(){},(e=Lu.prototype).get=function(t){var e=this;return ke().then((function(){return Lr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return ke().then((function(){var r=Cr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},e.ba=function(t){u.window&&un(u.window,"storage",t)},e.ha=function(t){u.window&&ln(u.window,"storage",t)},(e=ju.prototype).get=function(){return ke(null)},e.set=function(){return ke()},e.T=function(){return ke()},e.ba=function(){},e.ha=function(){},(e=Uu.prototype).get=function(t){var e=this;return ke().then((function(){return Lr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return ke().then((function(){var r=Cr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},e.ba=function(){},e.ha=function(){};var qu,Bu,Gu={F:Lu,$a:Uu},Hu={F:Lu,$a:Uu},zu={F:du,$a:ju},Wu={F:Lu,$a:ju},Ku={od:"local",NONE:"none",qd:"session"};function Qu(){var t=!(jr(Nr())||!yr()),e=Pr(),n=Sr();this.m=t,this.h=e,this.l=n,this.a={},qu||(qu=new Fu),t=qu;try{this.g=!ar()&&Br()||!u.indexedDB?new t.a.F:new Cu(gr()?new Ru:new t.a.F)}catch(t){this.g=new Ru,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Ru}this.u=new Ru,this.f=I(this.Vb,this),this.b={}}function Yu(){return Bu||(Bu=new Qu),Bu}function Xu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Ju(t,e){return"firebase:"+t.name+(e?":"+e:"")}function $u(t,e,n){return n=Ju(e,n),"local"==e.F&&(t.b[n]=null),Xu(t,e.F).T(n)}function Zu(t){t.c&&(clearInterval(t.c),t.c=null)}function tc(t){this.a=t,this.b=Yu()}(e=Qu.prototype).get=function(t,e){return Xu(this,t.F).get(Ju(t,e))},e.set=function(t,e,n){var r=Ju(t,n),i=this,o=Xu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},e.addListener=function(t,e,n){t=Ju(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),pt(this.a)&&(Xu(this,"local").ba(this.f),this.h||(ar()||!Br())&&u.indexedDB||!this.l||function(t){Zu(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Ju(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Xu(this,"local").ha(this.f),Zu(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Xu(this,"local").ha(this.f):Zu(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.ib(e))},Kt&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,I(this.ib,this))},e.ib=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var ec,nc={name:"authEvent",F:"local"};function rc(){this.a=Yu()}function ic(t,e){this.b=oc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===ec&&(ec=u.Int32Array?new Int32Array(fc):fc),this.reset()}_(ic,(function(){this.b=-1}));for(var oc=64,sc=oc-1,ac=[],uc=0;uc<sc;uc++)ac[uc]=0;var cc=X(128,ac);function hc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|ec[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function lc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(hc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(hc(t),i=0)}}t.c=i,t.g+=n}ic.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):J(this.h)};var fc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pc(){ic.call(this,8,dc)}_(pc,ic);var dc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new rc,this.g=new tc(this.h),this.f=null,this.b=[],this.a=this.c=null}function mc(t){return new A("invalid-cordova-configuration",t)}function yc(t){var e=new pc;lc(e,t),t=[];var n=8*e.g;56>e.c?lc(e,cc,56-e.c):lc(e,cc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(hc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function gc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function bc(t){return t.f||(t.f=t.ka().then((function(){return new we((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),wc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(jn(o=Un(i),"firebaseError")||null))?N(o):null)?new Uo(r.c,r.b,null,null,o,null,r.S()):new Uo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}gc(t,i)}))}var n=new Uo("unknown",null,null,null,new A("no-auth-event")),r=!1,i=An(500).then((function(){return wc(t).then((function(){r||gc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Bo||(Bo=new Fo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function wc(t){var e=null;return function(t){return t.b.get(nc,t.a).then((function(t){return Vo(t)}))}(t.g).then((function(n){return e=n,$u((n=t.g).b,nc,n.a)})).then((function(){return e}))}function Ic(t){this.a=t,this.b=Yu()}(e=vc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(mr(void 0)?vr().then((function(){return new we((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Se(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",u))throw mc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",u))throw mc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",u))throw mc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",u))throw mc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},e.Lb=function(t,e){return e(new A("operation-not-supported-in-this-environment")),ke()},e.Jb=function(){return Se(new A("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,r){if(this.c)return Se(new A("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,c=null,h=null;return this.c=ke().then((function(){return jo(e),bc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Uo(e,r,null,o,new A("no-auth-event"),null,i),a=kr("BuildInfo.packageName",u);if("string"!=typeof a)throw new A("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",u),h={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=a;else{if(!Nr().toLowerCase().match(/android/))return Se(new A("operation-not-supported-in-this-environment"));h.apn=a}c&&(h.appDisplayName=c),o=yc(o),h.sessionId=o;var l=pu(t.u,t.i,t.l,e,n,null,r,t.m,h,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(nc,s.v(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new A("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",u)))throw new A("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",u)))throw new A("invalid-cordova-configuration");e=Nr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){a=function(){var e=kr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),c=function(){s||(s=An(2e3).then((function(){e(new A("redirect-cancelled-by-user"))})))},h=function(){Fr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return wc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),a&&i.Qa(a),i.c=null}))},e.Ca=function(t){this.b.push(t),bc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new A("no-auth-event")),t(e))}))},e.Qa=function(t){Y(this.b,(function(e){return e==t}))};var Ec={name:"pendingRedirect",F:"session"};function Tc(t){return $u(t.b,Ec,t.a)}function _c(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=I(this.s,this),this.b=new Uc,this.B=new Gc,this.g=new Ic(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Ac(this.D,this.u,this.m,k)}function Ac(t,e,n,i){var o=r.a.SDK_VERSION||null;return mr()?new vc(t,e,n,o,i):new cu(t,e,n,o,i)}function Nc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function kc(t){t.a.Ub()&&Nc(t).o((function(e){var n=new Uo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Cc(e)&&t.s(n)})),t.a.Qb()||Vc(t.b)}function Sc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ec,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Tc(t.g).then((function(){Nc(t).o((function(e){var n=new Uo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Cc(e)&&t.s(n)}))})):kc(t)})).o((function(){kc(t)}))}function xc(t,e){Y(t.h,(function(t){return t==e}))}_c.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Ac(this.D,this.u,this.m),this.i={}},_c.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=T()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=T())),e=!0;break}}return Vc(this.b),e};var Oc=new Vr(2e3,1e4),Dc=new Vr(3e4,6e4);function Pc(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Cc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Rc(t,e,n,r,i){var o;return function(t){return t.b.set(Ec,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Cc(e))throw new A("operation-not-supported-in-this-environment");return o=e,Tc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new we((function(){})):Tc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Lc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Oc.get())}_c.prototype.pa=function(){return this.b.pa()};var Mc={};function jc(t,e,n){var r=e+":"+n;return Mc[r]||(Mc[r]=new _c(t,e,n)),Mc[r]}function Uc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Vc(t){t.g||(t.g=!0,Bc(t,!1,null,null))}function Fc(t){t.g&&!t.i&&Bc(t,!1,null,null)}function qc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Bc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Se(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):qc(t,n):qc(t,{user:null}),t.f=[],t.c=[]}function Gc(){}function Hc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function zc(t,e){this.a=e,Kr(this,"verificationId",t)}function Wc(t,e,n,r){return new Ro(t).cb(e,n).then((function(t){return new zc(t,r)}))}function Kc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Qc(t,e,n){var r=e&&e[Xc];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;G(e[Yc]||[],(function(t){(t=$r(t))&&i.b.push(t)})),Kr(this,"auth",this.a),Kr(this,"session",this.c),Kr(this,"hints",this.b)}Uc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Uc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Bc(this,!0,null,t.a),ke()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Bc(t,a,e,null)})).o((function(e){Bc(t,a,null,e)}))}(this,t,e):Se(new A("invalid-auth-event")):(Bc(this,!1,null,null),ke())}else Se(new A("invalid-auth-event"))},Uc.prototype.pa=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=An(Dc.get()).then((function(){t.b||(t.g=!0,Bc(t,!0,null,e))}))}(t))}))},Gc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),ke()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Se(new A("invalid-auth-event"))}else Se(new A("invalid-auth-event"))},zc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Yc="mfaInfo",Xc="mfaPendingCredential";function Jc(t,e,n,r){A.call(this,"multi-factor-auth-required",r,e),this.b=new Qc(t,e,n),Kr(this,"resolver",this.b)}function $c(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Jc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Zc(){}function th(t){Kr(this,"factorId",t.ea),this.a=t}function eh(t){if(th.call(this,t),this.a.ea!=Ro.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function nh(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function rh(t,e){this.a=t,this.b=[],this.c=I(this.wc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),ih(this,n)}function ih(t,e){t.b=e,Kr(t,"enrolledFactors",e)}function oh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function sh(t){this.c=t,this.b=this.a=null}function ah(t){return t.b&&1e3*t.b.c||0}function uh(t,e){var n=e.refreshToken;t.b=qi(e[Ys]||""),t.a=n}function ch(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?na(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(tu(t)):t.access_token&&t.refresh_token?n(t):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.m.get()):r(new A("internal-error"))}))}(t.c,e).then((function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function hh(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function lh(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function fh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null,this.a=new Ks(this.l,D(k),t),this.b=new sh(this.a),bh(this,e[Ys]),uh(this.b,e),Kr(this,"refreshToken",this.b.a),Eh(this,n||{}),wn.call(this),this.P=!1,this.s&&xr()&&(this.i=jc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new oh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=ah(t.b)-T()-3e5;return 0<e?e:0}))}(this),this.Z=I(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){dh(i,t.c)},this.$=null,this.O=new rh(this,n),Kr(this,"multiFactor",this.O)}function ph(t,e){t.aa&&ln(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&un(e,"languageCodeChanged",t.za)}function dh(t,e){t.W=e,ea(t.a,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,t.W):null)}function vh(t,e){t.$&&ln(t.$,"frameworkChanged",t.ya),(t.$=e)&&un(e,"frameworkChanged",t.ya)}function mh(t){try{return r.a.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function yh(t){t.D||t.B.b||(t.B.start(),ln(t,"tokenChanged",t.Z),un(t,"tokenChanged",t.Z))}function gh(t){ln(t,"tokenChanged",t.Z),t.B.stop()}function bh(t,e){t.xa=e,Kr(t,"_lat",e)}function wh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Oe(e).then((function(){return t}))}function Ih(t){t.i&&!t.P&&(t.P=!0,Sc(t.i,t))}function Eh(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new hh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Th(){}function _h(t){return ke().then((function(){if(t.D)throw new A("app-deleted")}))}function Ah(t){return z(t.providerData,(function(t){return t.providerId}))}function Nh(t,e){e&&(kh(t,e.providerId),t.providerData.push(e))}function kh(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Sh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Kr(t,e,n)}function xh(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Kr(t,"metadata",function(t){return new hh(t.a,t.b)}(e.metadata)):Kr(t,"metadata",new hh),G(e.providerData,(function(e){Nh(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Kr(t,"refreshToken",t.b.a),ih(t.O,e.O.b))}function Oh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return $a(t.a,xa,{idToken:e}).then(I(t.Ic,t))}(t,e).then((function(){return n||Sh(t,"isAnonymous",!1),e}))}))}function Dh(t,e){e[Ys]&&t.xa!=e[Ys]&&(uh(t.b,e),t.dispatchEvent(new nh("tokenChanged")),bh(t,e[Ys]),Sh(t,"refreshToken",t.b.a))}function Ph(t,e){return Oh(t).then((function(){if(K(Ah(t),e))return wh(t).then((function(){throw new A("provider-already-linked")}))}))}function Ch(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Ki(e),operationType:n})}function Rh(t,e){return Dh(t,e),t.reload().then((function(){return t}))}function Lh(t,e,n,i,o){if(!xr())return Se(new A("operation-not-supported-in-this-environment"));if(t.h&&!o)return Se(t.h);var s=Wi(n.providerId),a=Mr(t.uid+":::"),u=null;(!Pr()||yr())&&t.s&&n.isOAuthProvider&&(u=pu(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=fr(u,s&&s.ta,s&&s.sa);return i=i().then((function(){if(jh(t),!o)return t.I().then((function(){}))})).then((function(){return Pc(t.i,c,e,n,a,!!u,t.tenantId)})).then((function(){return new we((function(n,r){t.la(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Lc(t.i,t,e,c,a)}))})).then((function(t){return c&&lr(c),t?Yr(t):null})).o((function(t){throw c&&lr(c),t})),Uh(t,i,o)}function Mh(t,e,n,r,i){if(!xr())return Se(new A("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=null,s=Mr(t.uid+":::");return r=r().then((function(){if(jh(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,wh(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(qh,t.v(),e.a)),e})).then((function(){return Rc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Bh(t.ga);throw o})).then((function(){if(o)throw o})),Uh(t,r,i)}function jh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Uh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Se(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new nh("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){Q(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$c(e.v(),mh(t),I(t.hc,t))),n||e}))}function Vh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new fh(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&Nh(r,Yr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Fh(t){this.a=t,this.b=Yu()}Qc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=dt(e.f);return delete n[Yc],delete n[Xc],mt(n,t),e.g(n)}))},_(Jc,A),Zc.prototype.ob=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Co(t.a)}),$a(e,ka,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Co(t.a)}),$a(e,Sa,n)}))}(this,t,e)},_(th,Zc),_(eh,th),_(nh,Ye),(e=rh.prototype).wc=function(t){ih(this,function(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=$r(t))&&e.push(t)})),e}(t.ed))},e.Ob=function(){return this.a.I().then((function(t){return new ro(t,null)}))},e.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return Dh(n.a,t),n.a.reload()}))},e.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return $a(r,Ja,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=H(e.b,(function(t){return t.uid!=n}));return ih(e,r),Dh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},e.v=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.v()}))}}},oh.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=An(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Fr()||!t?ke():new we((function(n){e=function(){Fr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},oh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sh.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ah(this)}},sh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Se(new A("user-token-expired")):t||!this.b||T()>ah(this)-3e4?this.a?ch(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},hh.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(fh,wn),fh.prototype.va=function(t){this.oa=t,ta(this.a,t)},fh.prototype.ja=function(){return this.oa},fh.prototype.Ea=function(){return J(this.W)},fh.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Kr(fh.prototype,"providerId","firebase"),(e=fh.prototype).reload=function(){var t=this;return Uh(this,_h(this).then((function(){return Oh(t).then((function(){return wh(t)})).then(Th)})))},e.mc=function(t){return this.I(t).then((function(t){return new Kc(t)}))},e.I=function(t){var e=this;return Uh(this,_h(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.xa&&(bh(e,t.accessToken),e.dispatchEvent(new nh("tokenChanged"))),Sh(e,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");Eh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new lh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Nh(this,e[n]);Sh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new nh("userReloaded",{ed:t}))},e.Jc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,n=null;return Uh(this,t.c(this.a,this.uid).then((function(t){return Dh(e,t),n=Ch(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.Ac=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},e.mb=function(t){var e=this,n=null;return Uh(this,Ph(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ch(e,t,"link"),Rh(e,t)})).then((function(){return n})))},e.Bc=function(t,e){var n=this;return Uh(this,Ph(this,"phone").then((function(){return Wc(mh(n),t,e,I(n.mb,n))})))},e.Kc=function(t,e){var n=this;return Uh(this,ke().then((function(){return Wc(mh(n),t,e,I(n.pb,n))})),!0)},e.xb=function(t){var e=this;return Uh(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Dh(e,t),e.reload()})))},e.cd=function(t){var e=this;return Uh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Dh(e,t),e.reload()})))},e.yb=function(t){var e=this;return Uh(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Dh(e,t),e.reload()})))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return _h(this);var e=this;return Uh(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Dh(e,t),Sh(e,"displayName",t.displayName||null),Sh(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Kr(t,"displayName",e.displayName),Kr(t,"photoURL",e.photoURL))})),wh(e)})).then(Th))},e.ad=function(t){var e=this;return Uh(this,Oh(this).then((function(n){return K(Ah(e),t)?function(t,e,n){return $a(t,_a,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(Ah(e),(function(t){n[t]||kh(e,t)})),n[Ro.PROVIDER_ID]||Kr(e,"phoneNumber",null),wh(e)})):wh(e).then((function(){throw new A("no-such-provider")}))})))},e.delete=function(){var t=this;return Uh(this,this.I().then((function(e){return $a(t.a,Ta,{idToken:e})})).then((function(){t.dispatchEvent(new nh("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ph(t,null),vh(t,null),t.N=[],t.D=!0,gh(t),Kr(t,"refreshToken",null),t.i&&xc(t.i,t)}))},e.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},e.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?I(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?I(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?I(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?I(this.Ib,this):null},e.Cc=function(t){var e=this;return Lh(this,"linkViaPopup",t,(function(){return Ph(e,t.providerId).then((function(){return wh(e)}))}),!1)},e.Lc=function(t){return Lh(this,"reauthViaPopup",t,(function(){return ke()}),!0)},e.Dc=function(t){var e=this;return Mh(this,"linkViaRedirect",t,(function(){return Ph(e,t.providerId)}),!1)},e.Mc=function(t){return Mh(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},e.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Uh(this,this.I().then((function(n){return ma(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ch(i,t,"link"),Rh(i,t)})).then((function(){return o})))},e.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Uh(this,ke().then((function(){return ao(ya(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ch(i,t,"reauthenticate"),Dh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},e.qb=function(t){var e=this,n=null;return Uh(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:ji(new ki(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.Ab=function(t,e){var n=this,r=null;return Uh(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:ji(new ki(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},e.hc=function(t){var e=null,n=this;return Uh(this,t=ao(ke(t),n.uid).then((function(t){return e=Ch(n,t,"reauthenticate"),Dh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&mt(t,this.metadata.v()),G(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.O.v()),t};var qh={name:"redirectUser",F:"session"};function Bh(t){return $u(t.b,qh,t.a)}function Gh(t){this.a=t,this.b=Yu(),this.c=null,this.f=function(t){var e=Wh("local"),n=Wh("session"),r=Wh("none");return function(t,e,n){var r=Ju(e,n),i=Xu(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Lr(u.localStorage.getItem(r))}catch(t){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(zh,t.a).then((function(t){return t?Wh(t):e}))}))}))})).then((function(e){return t.c=e,Hh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Wh("local"),this.a,I(this.g,this))}function Hh(t,e){var n,r=[];for(n in Ku)Ku[n]!==e&&r.push($u(t.b,Wh(Ku[n]),t.a));return r.push($u(t.b,zh,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)xe(t[a],E(o,a),s);else e(i)}))}(r)}Gh.prototype.g=function(){var t=this,e=Wh("local");Xh(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Hh(t,"local").then((function(){t.c=e}))}))}))};var zh={name:"persistence",F:"session"};function Wh(t){return{name:"authUser",F:t}}function Kh(t,e){return Xh(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Qh(t){return Xh(t,(function(){return $u(t.b,t.c,t.a)}))}function Yh(t,e){return Xh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Vh(t||{})}))}))}function Xh(t,e){return t.f=t.f.then(e,e),t.f}function Jh(t){if(this.l=!1,Kr(this,"settings",new Hc),Kr(this,"app",t),!ol(this).options||!ol(this).options.apiKey)throw new A("invalid-api-key");t=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null,this.b=new Ks(ol(this).options&&ol(this).options.apiKey,D(k),t),this.P=[],this.m=[],this.O=[],this.$b=r.a.INTERNAL.createSubscribe(I(this.xc,this)),this.W=void 0,this.ac=r.a.INTERNAL.createSubscribe(I(this.yc,this)),rl(this,null),this.i=new Gh(ol(this).options.apiKey+":"+ol(this).name),this.B=new Fh(ol(this).options.apiKey+":"+ol(this).name),this.Z=cl(this,function(t){var e=ol(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(qh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Vh(t||{})}))}(t.B,ol(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Bh(t.B)}));return cl(t,e)}(t).then((function(){return Yh(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Kh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Qh(t.i)}))):null})).then((function(e){rl(t,e||null)}));return cl(t,n)}(this)),this.h=cl(this,function(t){return t.Z.then((function(){return el(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Wh("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=I(this.Xc,this),this.Ma=I(this.ca,this),this.xa=I(this.jc,this),this.ya=I(this.uc,this),this.za=I(this.vc,this),this.a=null,function(t){var e=ol(t).options.authDomain,n=ol(t).options.apiKey;e&&xr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=jc(e,n,ol(t).name),Sc(t.a,t),sl(t)&&Ih(sl(t)),t.D){Ih(t.D);var r=t.D;r.va(t.ja()),ph(r,t),dh(r=t.D,t.N),vh(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.Ec,this),this.s=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function $h(t){Ye.call(this,"languageCodeChanged"),this.g=t}function Zh(t){Ye.call(this,"frameworkChanged"),this.c=t}function tl(t){return t.Zb||Se(new A("auth-domain-config-required"))}function el(t){if(!xr())return Se(new A("operation-not-supported-in-this-environment"));var e=tl(t).then((function(){return t.a.pa()})).then((function(t){return t?Yr(t):null}));return cl(t,e)}function nl(t,e){var n={};return n.apiKey=ol(t).options.apiKey,n.authDomain=ol(t).options.authDomain,n.appName=ol(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new fh(t,e);return n&&(i.ga=n),r&&dh(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return sl(t)&&e.uid==sl(t).uid?(xh(sl(t),e),t.ca(e)):(rl(t,e),Ih(e),t.ca(e))})).then((function(){ul(t)}))}function rl(t,e){sl(t)&&(function(t,e){Y(t.R,(function(t){return t==e}))}(sl(t),t.Ma),ln(sl(t),"tokenChanged",t.xa),ln(sl(t),"userDeleted",t.ya),ln(sl(t),"userInvalidated",t.za),gh(sl(t))),e&&(e.R.push(t.Ma),un(e,"tokenChanged",t.xa),un(e,"userDeleted",t.ya),un(e,"userInvalidated",t.za),0<t.s&&yh(e)),Kr(t,"currentUser",e),e&&(e.va(t.ja()),ph(e,t),dh(e,t.N),vh(e,t))}function il(t,e){var n=null,r=null;return cl(t,e.then((function(e){return n=Mo(e),r=Ki(e),nl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$c(e.v(),t,I(t.ic,t))),n||e})).then((function(){return Yr({user:sl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function ol(t){return t.app}function sl(t){return t.currentUser}function al(t){return sl(t)&&sl(t)._lat||null}function ul(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](al(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](al(t))}}function cl(t,e){return t.P.push(e),e.ma((function(){Q(t.P,e)})),e}function hl(){}function ll(){this.a={},this.b=1e12}Gh.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(r in Ku)if(Ku[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Nu()&&"none"!==t)throw n;break;default:if(!Sr()&&"none"!==t)throw n}}(t),Xh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Hh(n,t)})).then((function(){if(n.c=Wh(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},_(Jh,wn),_($h,Ye),_(Zh,Ye),(e=Jh.prototype).tb=function(t){return cl(this,t=this.i.tb(t))},e.va=function(t){this.$===t||this.l||(this.$=t,ta(this.b,this.$),this.dispatchEvent(new $h(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=u.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(t){this.N.push(t),ea(this.b,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Zh(this.N))},e.Ea=function(){return J(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:ol(this).options.apiKey,authDomain:ol(this).options.authDomain,appName:ol(this).name,currentUser:sl(this)&&sl(this).v()}},e.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?I(this.gc,this):null},e.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return il(i,va(i.b,o))}))},e.Vc=function(t){if(!xr())return Se(new A("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),i=Mr(),o=null;(!Pr()||yr())&&ol(this).options.authDomain&&t.isOAuthProvider&&(o=pu(ol(this).options.authDomain,ol(this).options.apiKey,ol(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.S()));var s=fr(o,n&&n.ta,n&&n.sa);return cl(this,n=tl(this).then((function(n){return Pc(n,s,"signInViaPopup",t,i,!!o,e.S())})).then((function(){return new we((function(t,n){e.la("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=Lc(e.a,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&lr(s),t?Yr(t):null})).o((function(t){throw s&&lr(s),t})))},e.Wc=function(t){if(!xr())return Se(new A("operation-not-supported-in-this-environment"));var e=this;return cl(this,tl(this).then((function(){return function(t){return Xh(t,(function(){return t.b.set(zh,t.c.F,t.a)}))}(e.i)})).then((function(){return Rc(e.a,"signInViaRedirect",t,void 0,e.S())})))},e.pa=function(){var t=this;return el(this).then((function(e){return t.a&&Fc(t.a.b),e})).o((function(e){throw t.a&&Fc(t.a.b),e}))},e.bd=function(t){if(!t)return Se(new A("null-user"));if(this.R!=t.tenantId)return Se(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=ol(this).options.apiKey,n.authDomain=ol(this).options.authDomain,n.appName=ol(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ys]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new fh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&dh(e,r),xh(e,t),e}(t,n,e.B,e.Ea());return cl(this,this.h.then((function(){if(ol(e).options.apiKey!=t.l)return r.reload()})).then((function(){return sl(e)&&t.uid==sl(e).uid?(xh(sl(e),t),e.ca(t)):(rl(e,r),Ih(r),e.ca(r))})).then((function(){ul(e)})))},e.wb=function(){var t=this;return cl(this,this.h.then((function(){return t.a&&Fc(t.a.b),sl(t)?(rl(t,null),Qh(t.i).then((function(){ul(t)}))):ke()})))},e.Xc=function(){var t=this;return Yh(this.i,ol(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=sl(t)&&e){n=sl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return xh(sl(t),e),sl(t).I();(sl(t)||e)&&(rl(t,e),e&&(Ih(e),e.ga=t.B),t.a&&Sc(t.a,t),ul(t))}}))},e.ca=function(t){return Kh(this.i,t)},e.jc=function(){ul(this),this.ca(sl(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then((function(){return il(e,ke(t))}))},e.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(sl(e))}))},e.yc=function(t){var e=this;!function(t,e){t.O.push(e),cl(t,t.h.then((function(){!t.l&&K(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(al(t)))})))}(this,(function(){t.next(sl(e))}))},e.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){d(t)?t(sl(r)):d(t.next)&&t.next(sl(r))})),this.$b(t,e,n)},e.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),d(t)?t(sl(r)):d(t.next)&&t.next(sl(r))})),this.ac(t,e,n)},e.kc=function(t){var e=this;return cl(this,this.h.then((function(){return sl(e)?sl(e).I(t).then((function(t){return{accessToken:t}})):null})))},e.Rc=function(t){var e=this;return this.h.then((function(){return il(e,$a(e.b,Wa,{token:t}))})).then((function(t){var n=t.user;return Sh(n,"isAnonymous",!1),e.ca(n),t}))},e.Sc=function(t,e){var n=this;return this.h.then((function(){return il(n,$a(n.b,Ka,{email:t,password:e}))}))},e.cc=function(t,e){var n=this;return this.h.then((function(){return il(n,$a(n.b,Ia,{email:t,password:e}))}))},e.Ya=function(t){var e=this;return this.h.then((function(){return il(e,t.ia(e.b))}))},e.Qc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},e.vb=function(){var t=this;return this.h.then((function(){var e=sl(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return il(t,t.b.vb()).then((function(e){var n=e.user;return Sh(n,"isAnonymous",!0),t.ca(n),e}))}))},e.getUid=function(){return sl(this)&&sl(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&sl(this)&&yh(sl(this))},e.Nc=function(t){var e=this;G(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&sl(this)&&gh(sl(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),cl(this,this.h.then((function(){e.l||K(e.m,t)&&t(al(e))})))},e.removeAuthTokenListener=function(t){Y(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Wh("local"),t.a,this.oa),this.a&&(xc(this.a,this),Fc(this.a.b)),Promise.resolve()},e.fc=function(t){return cl(this,function(t,e){return $a(t,Ea,{identifier:e,continueUri:Or()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},e.zc=function(t){return!!Oo(t)},e.sb=function(t,e){var n=this;return cl(this,ke().then((function(){var t=new ki(e);if(!t.c)throw new A("argument-error",Oi+" must be true when sending sign in link to email");return ji(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},e.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},e.jb=function(t,e){return cl(this,this.b.jb(t,e).then((function(){})))},e.Pa=function(t){return cl(this,this.b.Pa(t).then((function(t){return new ii(t)})))},e.fb=function(t){return cl(this,this.b.fb(t).then((function(){})))},e.rb=function(t,e){var n=this;return cl(this,ke().then((function(){return void 0===e||pt(e)?{}:ji(new ki(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},e.Uc=function(t,e){return cl(this,Wc(this,t,e,I(this.Ya,this)))},e.Tc=function(t,e){var n=this;return cl(this,ke().then((function(){var r=e||ur(),i=xo(t,r);if(!(r=Oo(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new A("tenant-id-mismatch");return n.Ya(i)})))},hl.prototype.render=function(){},hl.prototype.reset=function(){},hl.prototype.getResponse=function(){},hl.prototype.execute=function(){};var fl=null;function pl(t,e){return(e=dl(e))&&t.a[e]||null}function dl(t){return(t=void 0===t?1e12:t)?t.toString():null}function vl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function ml(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function yl(){}function gl(){}ll.prototype.render=function(t,e){return this.a[this.b.toString()]=new vl(t,e),this.b++},ll.prototype.reset=function(t){var e=pl(this,t);t=dl(t),e&&t&&(e.delete(),delete this.a[t])},ll.prototype.getResponse=function(t){return(t=pl(this,t))?t.getResponse():null},ll.prototype.execute=function(t){(t=pl(this,t))&&t.execute()},vl.prototype.getResponse=function(){return ml(this),this.b},vl.prototype.execute=function(){ml(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},vl.prototype.delete=function(){ml(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Kr(yl,"FACTOR_ID","phone"),gl.prototype.g=function(){return fl||(fl=new ll),ke(fl)},gl.prototype.c=function(){};var bl=null;function wl(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Il=new gt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),El=new Vr(3e4,6e4);wl.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),El.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete u[e.a]},ke(Fs(At(Il,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},wl.prototype.c=function(){this.b--};var Tl=null;function _l(t,e,n,r,i,o,s){if(Kr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(bl||(bl=new gl),s=bl):(Tl||(Tl=new wl),s=Tl),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[kl])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Sl],!u.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ks(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var c=this.a[Al];this.a[Al]=function(t){if(xl(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,u);"function"==typeof e&&e(t)}};var h=this.a[Nl];this.a[Nl]=function(){if(xl(a,null),"function"==typeof h)h();else if("string"==typeof h){var t=kr(h,u);"function"==typeof t&&t()}}}var Al="callback",Nl="expired-callback",kl="sitekey",Sl="size";function xl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ol(t,e){return t.h.push(e),e.ma((function(){Q(t.h,e)})),e}function Dl(t){if(t.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Pl(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(t){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}s=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,s):null,_l.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,D(k),i)}function Cl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Rl.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Rl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new A("argument-error",t+" failed: "+r)}(e=_l.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Ol(this,ke().then((function(){if(Or()&&!gr())return vr();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,$a(t.s,La,{})})).then((function(e){t.a[kl]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},e.render=function(){Dl(this);var t=this;return Ol(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};mt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&le(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){Dl(this);var t=this;return Ol(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){Dl(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Dl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Pl,_l);var Rl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ll(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Ml(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function jl(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Ul(t,e){return{name:t||"",J:"a function",optional:!!e,K:d}}function Vl(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Fl(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function ql(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&d(t.Fa)}function Bl(t){return v(t)&&"string"==typeof t.uid}function Gl(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!d(t.verify))}}}function Hl(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function zl(t,e){for(var n in e){var r=e[n].name;t[r]=Ql(r,t[n],e[n].j)}}function Wl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Cl(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Kl(t,e,n,r){t[e]=Ql(e,n,r)}function Ql(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Cl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}zl(Jh.prototype,{fb:{name:"applyActionCode",j:[Ll("code")]},Pa:{name:"checkActionCode",j:[Ll("code")]},jb:{name:"confirmPasswordReset",j:[Ll("code"),Ll("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ll("email"),Ll("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ll("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ll("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Hl(jl(),Ul(),"nextOrObserver"),Ul("opt_error",!0),Ul("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Hl(jl(),Ul(),"nextOrObserver"),Ul("opt_error",!0),Ul("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ll("email"),Hl(jl("opt_actionCodeSettings",!0),Vl(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ll("email"),jl("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ll("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Fl()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Fl()]},Rc:{name:"signInWithCustomToken",j:[Ll("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ll("email"),Ll("password")]},Tc:{name:"signInWithEmailLink",j:[Ll("email"),Ll("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ll("phoneNumber"),Gl()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Hl({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof fh)}},Vl(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ll(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ll("code")]}}),Wl(Jh.prototype,{lc:{name:"languageCode",gb:Hl(Ll(),Vl(),"languageCode")},ti:{name:"tenantId",gb:Hl(Ll(),Vl(),"tenantId")}}),Jh.Persistence=Ku,Jh.Persistence.LOCAL="local",Jh.Persistence.SESSION="session",Jh.Persistence.NONE="none",zl(fh.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Ml("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ml("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Fl()]},mb:{name:"linkWithCredential",j:[Fl()]},Bc:{name:"linkWithPhoneNumber",j:[Ll("phoneNumber"),Gl()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fl()]},pb:{name:"reauthenticateWithCredential",j:[Fl()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ll("phoneNumber"),Gl()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Hl(jl("opt_actionCodeSettings",!0),Vl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ll(null,!0)]},ad:{name:"unlink",j:[Ll("provider")]},xb:{name:"updateEmail",j:[Ll("email")]},yb:{name:"updatePassword",j:[Ll("password")]},cd:{name:"updatePhoneNumber",j:[Fl("phone")]},zb:{name:"updateProfile",j:[jl("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ll("email"),Hl(jl("opt_actionCodeSettings",!0),Vl(null,!0),"opt_actionCodeSettings",!0)]}}),zl(ll.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zl(hl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zl(we.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Wl(Hc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Ml("appVerificationDisabledForTesting")}}),zl(zc.prototype,{confirm:{name:"confirm",j:[Ll("verificationCode")]}}),Kl(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,ko,Po,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Hl(Ll(),jl(),"json")]),Kl(So,"credential",(function(t,e){return new No(t,e)}),[Ll("email"),Ll("password")]),zl(No.prototype,{v:{name:"toJSON",j:[Ll(null,!0)]}}),zl(go.prototype,{Aa:{name:"addScope",j:[Ll("scope")]},Ia:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),Kl(go,"credential",bo,[Hl(Ll(),jl(),"token")]),Kl(So,"credentialWithLink",xo,[Ll("email"),Ll("emailLink")]),zl(wo.prototype,{Aa:{name:"addScope",j:[Ll("scope")]},Ia:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),Kl(wo,"credential",Io,[Hl(Ll(),jl(),"token")]),zl(Eo.prototype,{Aa:{name:"addScope",j:[Ll("scope")]},Ia:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),Kl(Eo,"credential",To,[Hl(Ll(),Hl(jl(),Vl()),"idToken"),Hl(Ll(),Vl(),"accessToken",!0)]),zl(_o.prototype,{Ia:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),Kl(_o,"credential",Ao,[Hl(Ll(),jl(),"token"),Ll("secret",!0)]),zl(yo.prototype,{Aa:{name:"addScope",j:[Ll("scope")]},credential:{name:"credential",j:[Hl(Ll(),Hl(jl(),Vl()),"optionsOrIdToken"),Hl(Ll(),Vl(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),zl(lo.prototype,{v:{name:"toJSON",j:[Ll(null,!0)]}}),zl(uo.prototype,{v:{name:"toJSON",j:[Ll(null,!0)]}}),Kl(Ro,"credential",Lo,[Ll("verificationId"),Ll("verificationCode")]),zl(Ro.prototype,{cb:{name:"verifyPhoneNumber",j:[Hl(Ll(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?ql(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?ql(t.session,oo)&&Bl(t.multiFactorHint):t.session&&t.multiFactorUid?ql(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Gl()]}}),zl(Do.prototype,{v:{name:"toJSON",j:[Ll(null,!0)]}}),zl(A.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),zl(Ho.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),zl(Go.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),zl(Jc.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),zl(Qc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),zl(rh.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Ll("displayName",!0)]},$c:{name:"unenroll",j:[Hl({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Bl},Ll(),"multiFactorInfoIdentifier")]}}),zl(Pl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Kl(gi,"parseLink",Ni,[Ll("link")]),Kl(yl,"assertion",(function(t){return new eh(t)}),[Fl("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jh,AuthCredential:so,Error:A};Kl(t,"EmailAuthProvider",So,[]),Kl(t,"FacebookAuthProvider",go,[]),Kl(t,"GithubAuthProvider",wo,[]),Kl(t,"GoogleAuthProvider",Eo,[]),Kl(t,"TwitterAuthProvider",_o,[]),Kl(t,"OAuthProvider",yo,[Ll("providerId")]),Kl(t,"SAMLAuthProvider",mo,[Ll("providerId")]),Kl(t,"PhoneAuthProvider",Ro,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Jh)}}]),Kl(t,"RecaptchaVerifier",Pl,[Hl(Ll(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),jl("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Kl(t,"ActionCodeURL",gi,[]),Kl(t,"PhoneMultiFactorGenerator",yl,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:I((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:I(t.kc,t),addAuthTokenListener:I(t.bc,t),removeAuthTokenListener:I(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.14.7"),r.a.INTERNAL.extendNamespace({User:fh})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(4))},function(t,e,n){(function(t){!function(e){"use strict";try{(function(){e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var n,r,i,o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function a(t,e,n,r){return new(n=n||Promise)((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=0<(i=s.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function l(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=d[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,h(["["+i+"]  "+t.name+":"],n))}}(i=r=r||{})[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var f={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},p=r.INFO,d=((n={})[r.DEBUG]="log",n[r.VERBOSE]="log",n[r.INFO]="info",n[r.WARN]="warn",n[r.ERROR]="error",n),v=(Object.defineProperty(m.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!0,configurable:!0}),m.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?f[t]:t},Object.defineProperty(m.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),m.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.DEBUG],t)),this._logHandler.apply(this,h([this,r.DEBUG],t))},m.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.VERBOSE],t)),this._logHandler.apply(this,h([this,r.VERBOSE],t))},m.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.INFO],t)),this._logHandler.apply(this,h([this,r.INFO],t))},m.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.WARN],t)),this._logHandler.apply(this,h([this,r.WARN],t))},m.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,r.ERROR],t)),this._logHandler.apply(this,h([this,r.ERROR],t))},m);function m(t){this.name=t,this._logLevel=p,this._logHandler=l,this._userLogHandler=null}function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var g,b=(s(w,g=Error),w);function w(t,e){var n=g.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,I.prototype.create),n}var I=(E.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r,i=e[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?(r=i,s.replace(T,(function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}))):"Error",u=this.serviceName+": "+a+" ("+o+").",c=new b(o,u),h=0,l=Object.keys(i);h<l.length;h++){var f=l[h];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=i[f])}return c},E);function E(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var T=/\{\$([^}]+)}/g;function _(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var A,N="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},k=k||{},S=N||self;function x(){}function O(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function D(t){var e=O(t);return"array"==e||"object"==e&&"number"==typeof t.length}function P(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var C="closure_uid_"+(1e9*Math.random()>>>0),R=0;function L(t,e,n){return t.call.apply(t.bind,arguments)}function M(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function j(t,e,n){return(j=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L:M).apply(null,arguments)}function U(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var V=Date.now||function(){return+new Date};function F(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function q(){this.j=this.j,this.i=this.i}q.prototype.j=!1,q.prototype.da=function(){var t;!this.j&&(this.j=!0,this.C(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,C)&&t[C]||(t[C]=++R))},q.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function H(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function W(t){return/^[\s\xa0]*$/.test(t)}var K,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Y(t,e){return-1!=t.indexOf(e)}function X(t,e){return t<e?-1:e<t?1:0}t:{var J=S.navigator;if(J){var $=J.userAgent;if($){K=$;break t}}K=""}function Z(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tt(t){var e={};for(var n in t)e[n]=t[n];return e}var et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<et.length;o++)n=et[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rt(t){return rt[" "](t),t}rt[" "]=x;var it,ot,st=Y(K,"Opera"),at=Y(K,"Trident")||Y(K,"MSIE"),ut=Y(K,"Edge"),ct=ut||at,ht=Y(K,"Gecko")&&!(Y(K.toLowerCase(),"webkit")&&!Y(K,"Edge"))&&!(Y(K,"Trident")||Y(K,"MSIE"))&&!Y(K,"Edge"),lt=Y(K.toLowerCase(),"webkit")&&!Y(K,"Edge");function ft(){var t=S.document;return t?t.documentMode:void 0}t:{var pt="",dt=(ot=K,ht?/rv:([^\);]+)(\)|;)/.exec(ot):ut?/Edge\/([\d\.]+)/.exec(ot):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ot):lt?/WebKit\/(\S+)/.exec(ot):st?/(?:Version)[ \/]?(\S+)/.exec(ot):void 0);if(dt&&(pt=dt?dt[1]:""),at){var vt=ft();if(null!=vt&&vt>parseFloat(pt)){it=String(vt);break t}}it=pt}var mt={};function yt(t){return e=t,n=function(){for(var e=0,n=Q(String(it)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=X(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||X(0==s[2].length,0==a[2].length)||X(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e},r=mt,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n();var e,n,r}var gt=S.document&&at&&(ft()||parseInt(it,10))||void 0,bt=!at||9<=Number(gt),wt=at&&!yt("9"),It=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{S.addEventListener("test",x,e),S.removeEventListener("test",x,e)}catch(t){}return t}();function Et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Tt(t,e){if(Et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ht){t:{try{rt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_t[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Et.prototype.b=function(){this.defaultPrevented=!0},F(Tt,Et);var _t={2:"touch",3:"pen",4:"mouse"};Tt.prototype.b=function(){Tt.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,wt)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var At="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function kt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++Nt,this.V=this.X=!1}function St(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function xt(t){this.src=t,this.a={},this.b=0}function Ot(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=B(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(St(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}xt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Dt(t,e,r,i);return-1<s?(e=t[s],n||(e.X=!1)):((e=new kt(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var Pt="closure_lm_"+(1e6*Math.random()|0),Ct={};function Rt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Bt(r),e&&e[At]?e.sa(n,r,P(i)?!!i.capture:!!i,o):Lt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Rt(t,e[o],n,r,i);return null}return n=Bt(n),t&&t[At]?t.ra(e,n,P(r)?!!r.capture:!!r,i):Lt(t,e,n,!1,r,i)}function Lt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=P(i)?!!i.capture:!!i;if(s&&!bt)return null;var a,u,c=Ft(t);if(c||(t[Pt]=c=new xt(t)),(n=c.add(e,n,r,s,o)).proxy)return n;if(a=Vt,r=u=bt?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)It||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Mt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[At])Ot(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ft(e))?(Ot(n,t),0==n.b&&(n.src=null,e[Pt]=null)):St(t)}}}function jt(t){return t in Ct?Ct[t]:Ct[t]="on"+t}function Ut(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&Mt(t),n.call(r,e)}function Vt(t,e){if(t.V)return!0;if(bt)return Ut(t,new Tt(e,this));if(!e)t:{e=["window","event"];for(var n=S,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ut(t,e=new Tt(e,this))}function Ft(t){return(t=t[Pt])instanceof xt?t:null}var qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(t){return"function"==O(t)?t:(t[qt]||(t[qt]=function(e){return t.handleEvent(e)}),t[qt])}function Gt(){q.call(this),this.c=new xt(this),(this.J=this).A=null}function Ht(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&Ot(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}F(Gt,q),Gt.prototype[At]=!0,(A=Gt.prototype).addEventListener=function(t,e,n,r){Rt(this,t,e,n,r)},A.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=P(i)?!!i.capture:!!i,r=Bt(r),e&&e[At]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Dt(s=e.a[n],r,i,o))&&(St(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&Ft(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Dt(n,r,i,o)),(r=-1<e?n[e]:null)&&Mt(r))}(this,t,e,n,r)},A.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new Et(t,n);else if(t instanceof Et)t.target=t.target||n;else{var i=t;nt(t=new Et(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Ht(s,r,!0,t)&&i}if(i=Ht(s=t.a=n,r,!0,t)&&i,i=Ht(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ht(s=t.a=e[o],r,!1,t)&&i;return i},A.C=function(){if(Gt.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)St(n[r]);delete e.a[t],e.b--}}this.A=null},A.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},A.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var zt=S.JSON.stringify;function Wt(){this.b=this.a=null}var Kt,Qt=(Yt.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new Yt((function(){return new Xt}),(function(t){t.reset()}),100));function Yt(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Xt(){this.next=this.b=this.a=null}function Jt(t){S.setTimeout((function(){throw t}),0)}function $t(t,e){var n;Kt||(n=S.Promise.resolve(void 0),Kt=function(){n.then(ee)}),Zt||(Kt(),Zt=!0),te.add(t,e)}Wt.prototype.add=function(t,e){var n=Qt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Xt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Zt=!(Xt.prototype.reset=function(){this.next=this.b=this.a=null}),te=new Wt;function ee(){for(var t;r=n=void 0,r=null,(n=te).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),t=r;){try{t.a.call(t.b)}catch(t){Jt(t)}var e=Qt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}var n,r;Zt=!1}function ne(t,e){Gt.call(this),this.b=t||1,this.a=e||S,this.f=j(this.Ua,this),this.g=V()}function re(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function ie(t,e,n){if("function"==O(t))n&&(t=j(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=j(t.handleEvent,t)}return 2147483647<Number(e)?-1:S.setTimeout(t,e||0)}function oe(t,e,n){q.call(this),this.f=null!=n?j(t,n):t,this.c=e,this.b=j(this.Pa,this),this.a=[]}function se(t){t.T=ie(t.b,t.c),t.f.apply(null,t.a)}function ae(t){q.call(this),this.b=t,this.a={}}F(ne,Gt),(A=ne.prototype).Z=!1,A.L=null,A.Ua=function(){if(this.Z){var t=V()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(re(this),this.start()))}},A.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=V())},A.C=function(){ne.M.C.call(this),re(this),delete this.a},F(oe,q),(A=oe.prototype).ba=!1,A.T=null,A.Ia=function(t){this.a=arguments,this.T?this.ba=!0:se(this)},A.C=function(){oe.M.C.call(this),this.T&&(S.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},A.Pa=function(){this.T=null,this.ba&&(this.ba=!1,se(this))},F(ae,q);var ue=[];function ce(t,e,n,r){Array.isArray(n)||(n&&(ue[0]=n.toString()),n=ue);for(var i=0;i<n.length;i++){var o=Rt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function he(t){Z(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Mt(t)}),t),t.a={}}function le(){}ae.prototype.C=function(){ae.M.C.call(this),he(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=null;function pe(){return fe=fe||new Gt}function de(t){Et.call(this,"serverreachability",t)}function ve(t){var e=pe();e.dispatchEvent(new de(e))}function me(t){Et.call(this,"statevent",t)}function ye(t){var e=pe();e.dispatchEvent(new me(e))}function ge(t){Et.call(this,"timingevent",t)}function be(t,e){if("function"!=O(t))throw Error("Fn must not be null and must be a function");return S.setTimeout((function(){t()}),e)}F(de,Et),F(me,Et),F(ge,Et);var we={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},Ie={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function Ee(){}function Te(t){var e;return(e=t.a)||(e=t.a={}),e}function _e(){}Ee.prototype.a=null;var Ae,Ne={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function ke(){Et.call(this,"d")}function Se(){Et.call(this,"c")}function xe(){}function Oe(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new ae(this),this.N=De,t=ct?125:void 0,this.O=new ne(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}F(ke,Et),F(Se,Et),F(xe,Ee),Ae=new xe;var De=45e3,Pe={},Ce={};function Re(t,e,n){t.B=1,t.f=nn(Xe(e)),t.j=n,t.F=!0,Le(t,null)}function Le(t,e){t.s=V(),Ue(t),t.A=Xe(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),mn(n.b,"t",r),t.w=0,t.a=ar(t.g,t.g.w?e:null),0<t.J&&(t.D=new oe(j(t.ya,t,t.a),t.J)),ce(t.G,t.a,"readystatechange",t.Sa),e=t.m?tt(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),ve()}function Me(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=je(t,n);if(i==Ce){4==e&&(t.c=4,ye(),r=!1);break}if(i==Pe){t.c=4,ye(),r=!1;break}Ge(t,i)}4==e&&0==n.length&&(t.c=1,ye(),r=!1),t.b=t.b&&r,r||(Be(t),qe(t))}function je(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?Ce:(n=Number(e.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>e.length?Ce:(e=e.substr(r,n),t.w=r+n,e))}function Ue(t){t.P=V()+t.N,Ve(t,t.N)}function Ve(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=be(j(t.Qa,t),e)}function Fe(t){t.h&&(S.clearTimeout(t.h),t.h=null)}function qe(t){0==t.g.u||t.l||nr(t.g,t)}function Be(t){Fe(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,re(t.O),he(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function Ge(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||Tn(n.b,t)))if(n.A=t.H,!t.o&&Tn(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;er(n),n.a.cancel(),n.a=null}tr(n),ye()}}else n.ia=i[1],0<n.ia-n.G&&i[2]<37500&&n.U&&0==n.m&&!n.l&&(n.l=be(j(n.Na,n),6e3));if(En(n.b)<=1&&n.O){try{n.O()}catch(t){}n.O=void 0}}else ir(n,11)}else if(!t.o&&n.a!=t||er(n),!W(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.G=i[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var a=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=a.b;!h.a&&(Y(c,"spdy")||Y(c,"quic")||Y(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(_n(h,h.b),h.b=null))}if(a.s){var l=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(a.ha=l,en(a.v,a.s,l))}}n.u=3,n.c&&n.c.na();var f=t;if((a=n).ea=sr(a,a.w?a.R:null,a.P),f.o){An(a.b,f);var p=f,d=a.D;d&&p.setTimeout(d),p.h&&(Fe(p),Ue(p)),a.a=f}else Zn(a);0<n.f.length&&Yn(n)}else"stop"!=i[0]&&"close"!=i[0]||ir(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ir(n,7):Wn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);ve()}catch(t){}}function He(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(D(t)||"string"==typeof t)G(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(D(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(D(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ze(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ze)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function We(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ke(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ke(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(A=Oe.prototype).setTimeout=function(t){this.N=t},A.Sa=function(t){t=t.target;var e=this.D;e&&3==Bn(t)?e.Ia():this.ya(t)},A.ya=function(t){try{if(t==this.a)t:{var e=Bn(this.a),n=this.a.qa();if(this.a.S(),!(e<3||3==e&&!ct&&!this.a.Y())){this.l||4!=e||7==n||ve(),Fe(this);var r=this.a.S();this.H=r;var i=this.a.Y();if(this.b=200==r){if(this.R&&!this.o){e:{if(this.a){var o,s=this.a;if((o=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.c=3,ye(),Be(this),qe(this);break t}this.o=!0,Ge(this,a)}this.F?(Me(this,e,i),ct&&this.b&&3==e&&(ce(this.G,this.O,"tick",this.Ra),this.O.start())):Ge(this,i),4==e&&Be(this),this.b&&!this.l&&(4==e?nr(this.g,this):(this.b=!1,Ue(this)))}else 400==r&&0<i.indexOf("Unknown SID")?(this.c=3,ye()):(this.c=0,ye()),Be(this),qe(this)}}}catch(t){}},A.Ra=function(){if(this.a){var t=Bn(this.a),e=this.a.Y();this.w<e.length&&(Fe(this),Me(this,t,e),this.b&&4!=t&&Ue(this))}},A.cancel=function(){this.l=!0,Be(this)},A.Qa=function(){this.h=null;var t=V();0<=t-this.P?(2!=this.B&&(ve(),ye()),Be(this),this.c=2,qe(this)):Ve(this,this.P-t)},(A=ze.prototype).I=function(){We(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},A.K=function(){return We(this),this.a.concat()},A.get=function(t,e){return Ke(this.b,t)?this.b[t]:e},A.set=function(t,e){Ke(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},A.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Qe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ye(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ye){this.a=void 0!==e?e:t.a,Je(this,t.f),this.j=t.j,$e(this,t.c),Ze(this,t.h),this.g=t.g,e=t.b;var n=new fn;n.c=e.c,e.a&&(n.a=new ze(e.a),n.b=e.b),tn(this,n),this.i=t.i}else t&&(n=String(t).match(Qe))?(this.a=!!e,Je(this,n[1]||"",!0),this.j=rn(n[2]||""),$e(this,n[3]||"",!0),Ze(this,n[4]),this.g=rn(n[5]||"",!0),tn(this,n[6]||"",!0),this.i=rn(n[7]||"")):(this.a=!!e,this.b=new fn(null,this.a))}function Xe(t){return new Ye(t)}function Je(t,e,n){t.f=n?rn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $e(t,e,n){t.c=n?rn(e,!0):e}function Ze(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function tn(t,e,n){var r,i;e instanceof fn?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(pn(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(dn(this,e),mn(this,n,t))}),r)),r.f=i):(n||(e=on(e,hn)),t.b=new fn(e,t.a))}function en(t,e,n){t.b.set(e,n)}function nn(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^V()).toString(36)),t}function rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function on(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ye.prototype.toString=function(){var t=[],e=this.f;e&&t.push(on(e,an,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(on(e,an,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(on(n,"/"==n.charAt(0)?cn:un,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",on(n,ln)),t.join("")};var an=/[#\/\?@]/g,un=/[#\?:]/g,cn=/[#\?]/g,hn=/[#\?@]/g,ln=/#/g;function fn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function pn(t){t.a||(t.a=new ze,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function dn(t,e){pn(t),e=yn(t,e),Ke(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ke((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&We(t)))}function vn(t,e){return pn(t),e=yn(t,e),Ke(t.a.b,e)}function mn(t,e,n){dn(t,e),0<n.length&&(t.c=null,t.a.set(yn(t,e),z(n)),t.b+=n.length)}function yn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function gn(t,e){this.b=t,this.a=e}function bn(t){this.g=t||wn,t=S.PerformanceNavigationTiming?0<(t=S.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(S.ca&&S.ca.ua&&S.ca.ua()&&S.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(A=fn.prototype).add=function(t,e){pn(this),this.c=null,t=yn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},A.forEach=function(t,e){pn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},A.K=function(){pn(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},A.I=function(t){pn(this);var e=[];if("string"==typeof t)vn(this,t)&&(e=H(e,this.a.get(yn(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},A.set=function(t,e){return pn(this),this.c=null,vn(this,t=yn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},A.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},A.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var wn=10;function In(t){return t.b||t.a&&t.a.size>=t.f}function En(t){return t.b?1:t.a?t.a.size:0}function Tn(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function _n(t,e){t.a?t.a.add(e):t.b=e}function An(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Nn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null==t.a||0===t.a.size)return z(t.c);var r=t.c;try{for(var i=_(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function kn(){}function Sn(){this.a=new kn}function xn(t,e,n){var r=n||"";try{He(t,(function(t,n){var i=t;P(t)&&(i=zt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function On(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}bn.prototype.cancel=function(){var t,e;if(this.c=Nn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},kn.prototype.stringify=function(t){return S.JSON.stringify(t,void 0)},kn.prototype.parse=function(t){return S.JSON.parse(t,void 0)};var Dn=S.JSON.parse;function Pn(t){Gt.call(this),this.headers=new ze,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=Cn,this.B=this.F=!1}F(Pn,Gt);var Cn="",Rn=/^https?$/i,Ln=["POST","PUT"];function Mn(t){return"content-type"==t.toLowerCase()}function jn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Un(t),Fn(t)}function Un(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Vn(t){if(t.b&&void 0!==k&&(!t.s[1]||4!=Bn(t)||2!=t.S()))if(t.l&&4==Bn(t))ie(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==Bn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(Qe)[1]||null;if(!o&&S.self&&S.self.location){var s=S.self.location.protocol;o=s.substr(0,s.length-1)}i=!Rn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Bn(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.S()+"]",Un(t)}}finally{Fn(t)}}}function Fn(t,e){if(t.a){qn(t);var n=t.a,r=t.s[0]?x:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function qn(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(S.clearTimeout(t.m),t.m=null)}function Bn(t){return t.a?t.a.readyState:0}function Gn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",Z(n,(function(t,e){i+=e,i+=":",i+=t,i+="\r\n"})),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):en(t,e,n))}function Hn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=Hn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=Hn("baseRetryDelayMs",5e3,t),this.Ga=Hn("retryDelaySeedMs",1e4,t),this.Da=Hn("forwardChannelMaxRetries",2,t),this.ga=Hn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new bn(t&&t.concurrentRequestLimit),this.ja=new Sn,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function Wn(t){if(Kn(t),3==t.u){var e=t.H++,n=Xe(t.v);en(n,"SID",t.B),en(n,"RID",e),en(n,"TYPE","terminate"),Jn(t,n),(e=new Oe(t,e,void 0)).B=2,e.f=nn(Xe(n)),n=!1,S.navigator&&S.navigator.sendBeacon&&(n=S.navigator.sendBeacon(e.f.toString(),"")),!n&&S.Image&&((new Image).src=e.f,n=!0),n||(e.a=ar(e.g,null),e.a.$(e.f)),e.s=V(),Ue(e)}or(t)}function Kn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(S.clearTimeout(t.i),t.i=null),er(t),t.b.cancel(),t.g&&("number"==typeof t.g&&S.clearTimeout(t.g),t.g=null)}function Qn(t,e){t.f.push(new gn(t.Fa++,e)),3==t.u&&Yn(t)}function Yn(t){In(t.b)||t.g||(t.g=!0,$t(t.xa,t),t.o=0)}function Xn(t,e){var n;n=e?e.W:t.H++;var r=Xe(t.v);en(r,"SID",t.B),en(r,"RID",n),en(r,"AID",t.G),Jn(t,r),t.h&&t.j&&Gn(r,t.h,t.j),n=new Oe(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=$n(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),_n(t.b,n),Re(n,r,e)}function Jn(t,e){t.c&&He({},(function(t,n){en(e,n,t)}))}function $n(t,e,n){n=Math.min(t.f.length,n);var r=t.c?j(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{xn(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Zn(t){t.a||t.i||(t.J=1,$t(t.wa,t),t.m=0)}function tr(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=be(j(t.wa,t),rr(t,t.m)),t.m++,1)}function er(t){null!=t.l&&(S.clearTimeout(t.l),t.l=null)}function nr(t,e){var n=null;if(t.a==e){er(t),t.a=null;var r=2}else{if(!Tn(t.b,e))return;n=e.i,An(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=V()-e.s;var i=t.o;(r=pe()).dispatchEvent(new ge(r)),Yn(t)}else Zn(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){if(!(En(t.b)>=t.b.f-(t.g?1:0))){if(t.g)return t.f=e.i.concat(t.f),1;if(!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)))return t.g=be(j(t.xa,t,e),rr(t,t.o)),t.o++,1}}(t,e)||2==r&&tr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ir(t,5);break;case 4:ir(t,10);break;case 3:ir(t,6);break;default:ir(t,2)}}function rr(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function ir(t,e){if(2==e){var n=null;t.c&&(n=null);var r=j(t.Ta,t);n||(n=new Ye("//www.google.com/images/cleardot.gif"),S.location&&"http"==S.location.protocol||Je(n,"https"),nn(n)),function(t,e){var n=new le;if(S.Image){var r=new Image;r.onload=U(On,n,r,"TestLoadImage: loaded",!0,e),r.onerror=U(On,n,r,"TestLoadImage: error",!1,e),r.onabort=U(On,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=U(On,n,r,"TestLoadImage: timeout",!1,e),S.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ye();t.u=0,t.c&&t.c.la(e),or(t),Kn(t)}function or(t){t.u=0,t.A=-1,t.c&&(0==Nn(t.b).length&&0==t.f.length||(t.b.c.length=0,z(t.f),t.f.length=0),t.c.ka())}function sr(t,e,n){var r,i,o,s,a,u,c=(r=n)instanceof Ye?Xe(r):new Ye(r,void 0);if(""!=c.c)e&&$e(c,e+"."+c.c),Ze(c,c.h);else{var h=S.location;i=h.protocol,o=e?e+"."+h.hostname:h.hostname,s=+h.port,a=n,u=new Ye(null,void 0),i&&Je(u,i),o&&$e(u,o),s&&Ze(u,s),a&&(u.g=a),c=u}return t.N&&Z(t.N,(function(t,e){en(c,e,t)})),e=t.s,n=t.ha,e&&n&&en(c,e,n),en(c,"VER",t.oa),Jn(t,c),c}function ar(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(t.Ea)).F=t.w,e}function ur(){}function cr(){if(at&&!(10<=Number(gt)))throw Error("Environmental error: no available transport.")}function hr(t,e){Gt.call(this),this.a=new zn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!W(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!W(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new pr(this)}function lr(t){ke.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function fr(){Se.call(this),this.status=1}function pr(t){this.a=t}(A=Pn.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?Te(this.G):Te(Ae),this.a.onreadystatechange=j(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void jn(this,t)}t=n||"";var i,o=new ze(this.headers);r&&He(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=Mn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.K()),n=S.FormData&&t instanceof S.FormData,0<=B(Ln,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qn(this),0<this.o&&((this.B=(i=this.a,at&&yt(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=j(this.ta,this)):this.m=ie(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){jn(this,t)}},A.ta=function(){void 0!==k&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},A.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fn(this))},A.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fn(this,!0)),Pn.M.C.call(this)},A.va=function(){this.j||(this.w||this.l||this.g?Vn(this):this.Oa())},A.Oa=function(){Vn(this)},A.S=function(){try{return 2<Bn(this)?this.a.status:-1}catch(t){return-1}},A.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},A.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Dn(e)}},A.qa=function(){return this.h},A.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(A=zn.prototype).oa=8,A.u=1,A.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new Oe(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?nt(r=tt(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$n(this,n,e),en(i=Xe(this.v),"RID",t),en(i,"CVER",22),this.s&&en(i,"X-HTTP-Session-Id",this.s),Jn(this,i),this.h&&r&&Gn(i,this.h,r),_n(this.b,n),this.fa?(en(i,"$req",e),en(i,"SID","null"),n.R=!0,Re(n,i,null)):Re(n,i,e),this.u=2}}else 3==this.u&&(t?Xn(this,t):0==this.f.length||In(this.b)||Xn(this))},A.wa=function(){this.i=null,this.a=new Oe(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Xe(this.ea);en(t,"RID","rpc"),en(t,"SID",this.B),en(t,"CI",this.U?"0":"1"),en(t,"AID",this.G),Jn(this,t),en(t,"TYPE","xmlhttp"),this.h&&this.j&&Gn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=nn(Xe(t)),e.j=null,e.F=!0,Le(e,n)},A.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,tr(this),ye())},A.Ta=function(t){ye()},(A=ur.prototype).na=function(){},A.ma=function(){},A.la=function(){},A.ka=function(){},A.Ha=function(){},cr.prototype.a=function(t,e){return new hr(t,e)},F(hr,Gt),(A=hr.prototype).addEventListener=function(t,e,n,r){hr.M.addEventListener.call(this,t,e,n,r)},A.removeEventListener=function(t,e,n,r){hr.M.removeEventListener.call(this,t,e,n,r)},A.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;ye(),t.P=e,t.N=n||{},t.U=t.W,t.v=sr(t,null,t.P),Yn(t)},A.close=function(){Wn(this.a)},A.La=function(t){if("string"==typeof t){var e={};e.__data__=t,Qn(this.a,e)}else this.g?((e={}).__data__=zt(t),Qn(this.a,e)):Qn(this.a,t)},A.C=function(){this.a.c=null,delete this.f,Wn(this.a),delete this.a,hr.M.C.call(this)},F(lr,ke),F(fr,Se),F(pr,ur),pr.prototype.na=function(){this.a.dispatchEvent("a")},pr.prototype.ma=function(t){this.a.dispatchEvent(new lr(t))},pr.prototype.la=function(t){this.a.dispatchEvent(new fr)},pr.prototype.ka=function(){this.a.dispatchEvent("b")},cr.prototype.createWebChannel=cr.prototype.a,hr.prototype.send=hr.prototype.La,hr.prototype.open=hr.prototype.Ka,hr.prototype.close=hr.prototype.close,we.NO_ERROR=0,we.TIMEOUT=8,we.HTTP_ERROR=6,Ie.COMPLETE="complete",(_e.EventType=Ne).OPEN="a",Ne.CLOSE="b",Ne.ERROR="c",Ne.MESSAGE="d",Gt.prototype.listen=Gt.prototype.ra,Pn.prototype.listenOnce=Pn.prototype.sa,Pn.prototype.getLastError=Pn.prototype.Ma,Pn.prototype.getLastErrorCode=Pn.prototype.qa,Pn.prototype.getStatus=Pn.prototype.S,Pn.prototype.getResponseJson=Pn.prototype.Ja,Pn.prototype.getResponseText=Pn.prototype.Y,Pn.prototype.send=Pn.prototype.$;var dr={createWebChannelTransport:function(){return new cr},ErrorCode:we,EventType:Ie,WebChannel:_e,XhrIo:Pn},vr=dr.createWebChannelTransport,mr=dr.ErrorCode,yr=dr.EventType,gr=dr.WebChannel,br=dr.XhrIo,wr=(Ir.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},Ir.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},Ir.prototype.setServiceProps=function(t){return this.serviceProps=t,this},Ir);function Ir(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var Er=e.SDK_VERSION,Tr=new v("@firebase/firestore");function _r(){return Tr.logLevel}function Ar(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tr.logLevel<=r.DEBUG){var i=e.map(kr);Tr.debug.apply(Tr,c(["Firestore ("+Er+"): "+t],i))}}function Nr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tr.logLevel<=r.ERROR){var i=e.map(kr);Tr.error.apply(Tr,c(["Firestore ("+Er+"): "+t],i))}}function kr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Sr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+Er+") INTERNAL ASSERTION FAILED: "+t;throw Nr(e),new Error(e)}function xr(t){t||Sr()}function Or(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Dr=(Pr.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Or(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Pr);function Pr(){}function Cr(t,e){return t<e?-1:e<t?1:0}function Rr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Lr(t){return t+"\0"}function Mr(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}var jr=(Object.defineProperty(Ur.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),Ur.prototype.isEqual=function(t){return t instanceof Ur&&t.projectId===this.projectId&&t.database===this.database},Ur.prototype.o=function(t){return Cr(this.projectId,t.projectId)||Cr(this.database,t.database)},Ur);function Ur(t,e){this.projectId=t,this.database=e||"(default)"}function Vr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Br,Gr,Hr=(ni.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.u(s,t))return a}},ni.prototype.has=function(t){return void 0!==this.get(t)},ni.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},ni.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},ni.prototype.forEach=function(t){Fr(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},ni.prototype._=function(){return qr(this.l)},ni),zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wr=(s(ei,Gr=Error),ei),Kr=(ti.now=function(){return ti.fromMillis(Date.now())},ti.fromDate=function(t){return ti.fromMillis(t.getTime())},ti.fromMillis=function(t){var e=Math.floor(t/1e3);return new ti(e,1e6*(t-1e3*e))},ti.prototype.toDate=function(){return new Date(this.toMillis())},ti.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},ti.prototype.T=function(t){return this.seconds===t.seconds?Cr(this.nanoseconds,t.nanoseconds):Cr(this.seconds,t.seconds)},ti.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},ti.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},ti.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},ti),Qr=(Zr.I=function(t){return new Zr(t)},Zr.min=function(){return new Zr(new Kr(0,0))},Zr.prototype.o=function(t){return this.timestamp.T(t.timestamp)},Zr.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},Zr.prototype.A=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Zr.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Zr.prototype.R=function(){return this.timestamp},Zr),Yr=(Object.defineProperty($r.prototype,"length",{get:function(){return this.m},enumerable:!0,configurable:!0}),$r.prototype.isEqual=function(t){return 0===$r.P(this,t)},$r.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof $r?t.forEach((function(t){e.push(t)})):e.push(t),this.V(e)},$r.prototype.limit=function(){return this.offset+this.length},$r.prototype.g=function(t){return t=void 0===t?1:t,this.V(this.segments,this.offset+t,this.length-t)},$r.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},$r.prototype.v=function(){return this.segments[this.offset]},$r.prototype.S=function(){return this.get(this.length-1)},$r.prototype.get=function(t){return this.segments[this.offset+t]},$r.prototype._=function(){return 0===this.length},$r.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},$r.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},$r.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},$r.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},$r.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},$r),Xr=(s(Jr,Br=Yr),Jr.prototype.V=function(t,e,n){return new Jr(t,e,n)},Jr.prototype.N=function(){return this.F().join("/")},Jr.prototype.toString=function(){return this.N()},Jr.$=function(t){if(0<=t.indexOf("//"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new Jr(t.split("/").filter((function(t){return 0<t.length})))},Jr);function Jr(){return null!==Br&&Br.apply(this,arguments)||this}function $r(t,e,n){void 0===e?e=0:e>t.length&&Sr(),void 0===n?n=t.length-e:n>t.length-e&&Sr(),this.segments=t,this.offset=e,this.m=n}function Zr(t){this.timestamp=t}function ti(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Wr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function ei(t,e){var n=this;return(n=Gr.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function ni(t,e){this.h=t,this.u=e,this.l={}}Xr.k=new Xr([]);var ri,ii=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oi=(s(si,ri=Yr),si.prototype.V=function(t,e,n){return new si(t,e,n)},si.M=function(t){return ii.test(t)},si.prototype.N=function(){return this.F().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),si.M(t)||(t="`"+t+"`"),t})).join(".")},si.prototype.toString=function(){return this.N()},si.prototype.L=function(){return 1===this.length&&"__name__"===this.get(0)},si.O=function(){return new si(["__name__"])},si.B=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new Wr(zr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Wr(zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new Wr(zr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new si(e)},si);function si(){return null!==ri&&ri.apply(this,arguments)||this}oi.k=new oi([]);var ai=(ui.q=function(t){return new ui(Xr.$(t).g(5))},ui.prototype.U=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},ui.prototype.isEqual=function(t){return null!==t&&0===Xr.P(this.path,t.path)},ui.prototype.toString=function(){return this.path.toString()},ui.P=function(t,e){return Xr.P(t.path,e.path)},ui.W=function(t){return t.length%2==0},ui.j=function(t){return new ui(new Xr(t.slice()))},ui);function ui(t){this.path=t}function ci(t){return null==t}function hi(t){return-0===t&&1/t==-1/0}function li(t){return"number"==typeof t&&Number.isInteger(t)&&!hi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}ai.EMPTY=new ai(new Xr([]));var fi=(pi.fromBase64String=function(t){return new pi(atob(t))},pi.fromUint8Array=function(t){return new pi(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},pi.prototype.toBase64=function(){return t=this.K,btoa(t);var t},pi.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.K)},pi.prototype.G=function(){return 2*this.K.length},pi.prototype.o=function(t){return Cr(this.K,t.K)},pi.prototype.isEqual=function(t){return this.K===t.K},pi);function pi(t){this.K=t}function di(t){this.count=t}fi.H=new fi("");var vi,mi,yi=(gi.prototype.X=function(t){return new gi(this.target,this.targetId,this.Y,t,this.J,this.lastLimboFreeSnapshotVersion,this.resumeToken)},gi.prototype.Z=function(t,e){return new gi(this.target,this.targetId,this.Y,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},gi.prototype.tt=function(t){return new gi(this.target,this.targetId,this.Y,this.sequenceNumber,this.J,t,this.resumeToken)},gi);function gi(t,e,n,r,i,o,s){void 0===i&&(i=Qr.min()),void 0===o&&(o=Qr.min()),void 0===s&&(s=fi.H),this.target=t,this.targetId=e,this.Y=n,this.sequenceNumber=r,this.J=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function bi(t){switch(t){case zr.OK:return Sr();case zr.CANCELLED:case zr.UNKNOWN:case zr.DEADLINE_EXCEEDED:case zr.RESOURCE_EXHAUSTED:case zr.INTERNAL:case zr.UNAVAILABLE:case zr.UNAUTHENTICATED:return;case zr.INVALID_ARGUMENT:case zr.NOT_FOUND:case zr.ALREADY_EXISTS:case zr.PERMISSION_DENIED:case zr.FAILED_PRECONDITION:case zr.ABORTED:case zr.OUT_OF_RANGE:case zr.UNIMPLEMENTED:case zr.DATA_LOSS:return 1;default:return Sr()}}function wi(t){if(void 0===t)return Nr("GRPC error has no .code"),zr.UNKNOWN;switch(t){case vi.OK:return zr.OK;case vi.CANCELLED:return zr.CANCELLED;case vi.UNKNOWN:return zr.UNKNOWN;case vi.DEADLINE_EXCEEDED:return zr.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return zr.RESOURCE_EXHAUSTED;case vi.INTERNAL:return zr.INTERNAL;case vi.UNAVAILABLE:return zr.UNAVAILABLE;case vi.UNAUTHENTICATED:return zr.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return zr.INVALID_ARGUMENT;case vi.NOT_FOUND:return zr.NOT_FOUND;case vi.ALREADY_EXISTS:return zr.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return zr.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return zr.FAILED_PRECONDITION;case vi.ABORTED:return zr.ABORTED;case vi.OUT_OF_RANGE:return zr.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return zr.UNIMPLEMENTED;case vi.DATA_LOSS:return zr.DATA_LOSS;default:return Sr()}}(mi=vi=vi||{})[mi.OK=0]="OK",mi[mi.CANCELLED=1]="CANCELLED",mi[mi.UNKNOWN=2]="UNKNOWN",mi[mi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mi[mi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mi[mi.NOT_FOUND=5]="NOT_FOUND",mi[mi.ALREADY_EXISTS=6]="ALREADY_EXISTS",mi[mi.PERMISSION_DENIED=7]="PERMISSION_DENIED",mi[mi.UNAUTHENTICATED=16]="UNAUTHENTICATED",mi[mi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mi[mi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mi[mi.ABORTED=10]="ABORTED",mi[mi.OUT_OF_RANGE=11]="OUT_OF_RANGE",mi[mi.UNIMPLEMENTED=12]="UNIMPLEMENTED",mi[mi.INTERNAL=13]="INTERNAL",mi[mi.UNAVAILABLE=14]="UNAVAILABLE",mi[mi.DATA_LOSS=15]="DATA_LOSS";var Ii=(Ni.prototype.et=function(t,e){return new Ni(this.P,this.root.et(t,e,this.P).st(null,null,Ti.nt,null,null))},Ni.prototype.remove=function(t){return new Ni(this.P,this.root.remove(t,this.P).st(null,null,Ti.nt,null,null))},Ni.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Ni.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Ni.prototype._=function(){return this.root._()},Object.defineProperty(Ni.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),Ni.prototype.it=function(){return this.root.it()},Ni.prototype.rt=function(){return this.root.rt()},Ni.prototype.ot=function(t){return this.root.ot(t)},Ni.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},Ni.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},Ni.prototype.ht=function(t){return this.root.ht(t)},Ni.prototype.at=function(){return new Ei(this.root,null,this.P,!1)},Ni.prototype.ut=function(t){return new Ei(this.root,t,this.P,!1)},Ni.prototype.ct=function(){return new Ei(this.root,null,this.P,!0)},Ni.prototype.lt=function(t){return new Ei(this.root,t,this.P,!0)},Ni),Ei=(Ai.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},Ai.prototype.wt=function(){return 0<this.ft.length},Ai.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},Ai),Ti=(_i.prototype.st=function(t,e,n,r,i){return new _i(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},_i.prototype._=function(){return!1},_i.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},_i.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},_i.prototype.min=function(){return this.left._()?this:this.left.min()},_i.prototype.it=function(){return this.min().key},_i.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},_i.prototype.et=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.st(null,null,null,r.left.et(t,e,n),null):0===i?r.st(null,e,null,null,null):r.st(null,null,null,null,r.right.et(t,e,n))).Et()},_i.prototype.It=function(){if(this.left._())return _i.EMPTY;var t=this;return t.left.At()||t.left.left.At()||(t=t.Rt()),(t=t.st(null,null,null,t.left.It(),null)).Et()},_i.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left._()||r.left.At()||r.left.left.At()||(r=r.Rt()),r=r.st(null,null,null,r.left.remove(t,e),null);else{if(r.left.At()&&(r=r.Pt()),r.right._()||r.right.At()||r.right.left.At()||(r=r.Vt()),0===e(t,r.key)){if(r.right._())return _i.EMPTY;n=r.right.min(),r=r.st(n.key,n.value,null,null,r.right.It())}r=r.st(null,null,null,null,r.right.remove(t,e))}return r.Et()},_i.prototype.At=function(){return this.color},_i.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.pt()),t},_i.prototype.Rt=function(){var t=this.pt();return t.right.left.At()&&(t=(t=(t=t.st(null,null,null,null,t.right.Pt())).gt()).pt()),t},_i.prototype.Vt=function(){var t=this.pt();return t.left.left.At()&&(t=(t=t.Pt()).pt()),t},_i.prototype.gt=function(){var t=this.st(null,null,_i.RED,null,this.right.left);return this.right.st(null,null,this.color,t,null)},_i.prototype.Pt=function(){var t=this.st(null,null,_i.RED,this.left.right,null);return this.left.st(null,null,this.color,null,t)},_i.prototype.pt=function(){var t=this.left.st(null,null,!this.left.color,null,null),e=this.right.st(null,null,!this.right.color,null,null);return this.st(null,null,!this.color,t,e)},_i.prototype.yt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},_i.prototype.bt=function(){if(this.At()&&this.left.At())throw Sr();if(this.right.At())throw Sr();var t=this.left.bt();if(t!==this.right.bt())throw Sr();return t+(this.At()?0:1)},_i);function _i(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:_i.RED,this.left=null!=r?r:_i.EMPTY,this.right=null!=i?i:_i.EMPTY,this.size=this.left.size+1+this.right.size}function Ai(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}function Ni(t,e){this.P=t,this.root=e||Ti.EMPTY}function ki(){this.size=0}Ti.EMPTY=null,Ti.RED=!0,Ti.nt=!1,Ti.EMPTY=(Object.defineProperty(ki.prototype,"key",{get:function(){throw Sr()},enumerable:!0,configurable:!0}),Object.defineProperty(ki.prototype,"value",{get:function(){throw Sr()},enumerable:!0,configurable:!0}),Object.defineProperty(ki.prototype,"color",{get:function(){throw Sr()},enumerable:!0,configurable:!0}),Object.defineProperty(ki.prototype,"left",{get:function(){throw Sr()},enumerable:!0,configurable:!0}),Object.defineProperty(ki.prototype,"right",{get:function(){throw Sr()},enumerable:!0,configurable:!0}),ki.prototype.st=function(t,e,n,r,i){return this},ki.prototype.et=function(t,e,n){return new Ti(t,e)},ki.prototype.remove=function(t,e){return this},ki.prototype._=function(){return!0},ki.prototype.ot=function(t){return!1},ki.prototype.ht=function(t){return!1},ki.prototype.it=function(){return null},ki.prototype.rt=function(){return null},ki.prototype.At=function(){return!1},ki.prototype.yt=function(){return!0},ki.prototype.bt=function(){return 0},new ki);var Si=(Pi.prototype.has=function(t){return null!==this.data.get(t)},Pi.prototype.first=function(){return this.data.it()},Pi.prototype.last=function(){return this.data.rt()},Object.defineProperty(Pi.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),Pi.prototype.indexOf=function(t){return this.data.indexOf(t)},Pi.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},Pi.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(0<=this.P(r.key,t[1]))return;e(r.key)}},Pi.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},Pi.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},Pi.prototype.at=function(){return new xi(this.data.at())},Pi.prototype.ut=function(t){return new xi(this.data.ut(t))},Pi.prototype.add=function(t){return this.st(this.data.remove(t).et(t,!0))},Pi.prototype.delete=function(t){return this.has(t)?this.st(this.data.remove(t)):this},Pi.prototype._=function(){return this.data._()},Pi.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},Pi.prototype.isEqual=function(t){if(!(t instanceof Pi))return!1;if(this.size!==t.size)return!1;for(var e=this.data.at(),n=t.data.at();e.wt();){var r=e.dt().key,i=n.dt().key;if(0!==this.P(r,i))return!1}return!0},Pi.prototype.F=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},Pi.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},Pi.prototype.st=function(t){var e=new Pi(this.P);return e.data=t,e},Pi),xi=(Di.prototype.dt=function(){return this.Ft.dt().key},Di.prototype.wt=function(){return this.Ft.wt()},Di),Oi=new Ii(ai.P);function Di(t){this.Ft=t}function Pi(t){this.P=t,this.data=new Ii(this.P)}function Ci(){return Oi}function Ri(){return Ci()}var Li=new Ii(ai.P);function Mi(){return Li}var ji=new Ii(ai.P),Ui=new Si(ai.P);function Vi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ui,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Fi=new Si(Cr);function qi(){return Fi}function Bi(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r}function Gi(t,e){this.targetId=t,this.ee=e}function Hi(t,e,n,r){void 0===n&&(n=fi.H),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}var zi=(io.kt=function(t){return new io(t.P)},io.prototype.has=function(t){return null!=this.Nt.get(t)},io.prototype.get=function(t){return this.Nt.get(t)},io.prototype.first=function(){return this.$t.it()},io.prototype.last=function(){return this.$t.rt()},io.prototype._=function(){return this.$t._()},io.prototype.indexOf=function(t){var e=this.Nt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(io.prototype,"size",{get:function(){return this.$t.size},enumerable:!0,configurable:!0}),io.prototype.forEach=function(t){this.$t.ot((function(e,n){return t(e),!1}))},io.prototype.add=function(t){var e=this.delete(t.key);return e.st(e.Nt.et(t.key,t),e.$t.et(t,null))},io.prototype.delete=function(t){var e=this.get(t);return e?this.st(this.Nt.remove(t),this.$t.remove(e)):this},io.prototype.isEqual=function(t){if(!(t instanceof io))return!1;if(this.size!==t.size)return!1;for(var e=this.$t.at(),n=t.$t.at();e.wt();){var r=e.dt().key,i=n.dt().key;if(!r.isEqual(i))return!1}return!0},io.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},io.prototype.st=function(t,e){var n=new io;return n.P=this.P,n.Nt=t,n.$t=e,n},io),Wi=(ro.prototype.track=function(t){var e=t.doc.key,n=this.xt.get(e);!n||0!==t.type&&3===n.type?this.xt=this.xt.et(e,t):3===t.type&&1!==n.type?this.xt=this.xt.et(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.xt=this.xt.et(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.xt=this.xt.et(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.xt=this.xt.remove(e):1===t.type&&2===n.type?this.xt=this.xt.et(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.xt=this.xt.et(e,{type:2,doc:t.doc}):Sr()},ro.prototype.Mt=function(){var t=[];return this.xt.ot((function(e,n){t.push(n)})),t},ro),Ki=(no.Ut=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:0,doc:t})})),new no(t,e,zi.kt(e),i,n,r,!0,!1)},Object.defineProperty(no.prototype,"hasPendingWrites",{get:function(){return!this.Ot._()},enumerable:!0,configurable:!0}),no.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.Ot.isEqual(t.Ot)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.Lt.isEqual(t.Lt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},no),Qi=(eo.Gt=function(t,e){var n=new Map;return n.set(t,Yi.zt(t,e)),new eo(Qr.min(),n,qi(),Ci(),Vi())},eo),Yi=(to.zt=function(t,e){return new to(fi.H,e,Vi(),Vi(),Vi())},to),Xi=(Object.defineProperty(Zi.prototype,"Ht",{get:function(){return this.re},enumerable:!0,configurable:!0}),Object.defineProperty(Zi.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!0,configurable:!0}),Object.defineProperty(Zi.prototype,"he",{get:function(){return 0!==this.se},enumerable:!0,configurable:!0}),Object.defineProperty(Zi.prototype,"ae",{get:function(){return this.oe},enumerable:!0,configurable:!0}),Zi.prototype.ue=function(t){0<t.G()&&(this.oe=!0,this.ie=t)},Zi.prototype.ce=function(){var t=Vi(),e=Vi(),n=Vi();return this.ne.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Sr()}})),new Yi(this.ie,this.re,t,e,n)},Zi.prototype.le=function(){this.oe=!1,this.ne=so()},Zi.prototype._e=function(t,e){this.oe=!0,this.ne=this.ne.et(t,e)},Zi.prototype.fe=function(t){this.oe=!0,this.ne=this.ne.remove(t)},Zi.prototype.de=function(){this.se+=1},Zi.prototype.we=function(){--this.se},Zi.prototype.Te=function(){this.oe=!0,this.re=!0},Zi),Ji=($i.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof Ks?this.Ve(r,t.te):t.te instanceof Qs&&this.ge(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.ge(s,t.key,t.te)}},$i.prototype.pe=function(t){var e=this;this.ye(t,(function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:Sr()}}))},$i.prototype.ye=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.ve(r)&&e(r)}))},$i.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if(Aa(i))if(0===n){var o=new ai(i.path);this.ge(e,o,new Qs(o,Qr.min()))}else xr(1===n);else this.Fe(e)!==n&&(this.Se(e),this.me=this.me.add(e))}},$i.prototype.Ne=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ce(i);if(o){if(r.Ht&&Aa(o.target)){var s=new ai(o.target.path);null!==e.Ae.get(s)||e.$e(i,s)||e.ge(i,s,new Qs(s,t))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=Vi();this.Re.forEach((function(t,n){var i=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.Y||(i=!1)})),i&&(r=r.add(t))}));var i=new Qi(t,n,this.me,this.Ae,r);return this.Ae=Ci(),this.Re=oo(),this.me=new Si(Cr),i},$i.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.$e(t,e.key)?2:0;this.be(t)._e(e.key,n),this.Ae=this.Ae.et(e.key,e),this.Re=this.Re.et(e.key,this.ke(e.key).add(t))}},$i.prototype.ge=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.$e(t,e)?r._e(e,1):r.fe(e),this.Re=this.Re.et(e,this.ke(e).delete(t)),n&&(this.Ae=this.Ae.et(e,n))}},$i.prototype.removeTarget=function(t){this.Ie.delete(t)},$i.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},$i.prototype.de=function(t){this.be(t).de()},$i.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new Xi,this.Ie.set(t,e)),e},$i.prototype.ke=function(t){var e=this.Re.get(t);return e||(e=new Si(Cr),this.Re=this.Re.et(t,e)),e},$i.prototype.ve=function(t){var e=null!==this.Ce(t);return e||Ar("WatchChangeAggregator","Detected inactive target",t),e},$i.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},$i.prototype.Se=function(t){var e=this;this.Ie.set(t,new Xi),this.Ee.xe(t).forEach((function(n){e.ge(t,n,null)}))},$i.prototype.$e=function(t,e){return this.Ee.xe(t).has(e)},$i);function $i(t){this.Ee=t,this.Ie=new Map,this.Ae=Ci(),this.Re=oo(),this.me=new Si(Cr)}function Zi(){this.se=0,this.ne=so(),this.ie=fi.H,this.re=!1,this.oe=!0}function to(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}function eo(t,e,n,r,i){this.J=t,this.Qt=e,this.Wt=n,this.jt=r,this.Kt=i}function no(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Lt=n,this.docChanges=r,this.Ot=i,this.fromCache=o,this.Bt=s,this.qt=a}function ro(){this.xt=new Ii(ai.P)}function io(t){this.P=t?function(e,n){return t(e,n)||ai.P(e.key,n.key)}:function(t,e){return ai.P(t.key,e.key)},this.Nt=Mi(),this.$t=new Ii(this.P)}function oo(){return new Ii(ai.P)}function so(){return new Ii(ai.P)}function ao(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function uo(t){var e=yo(t.mapValue.fields.__local_write_time__.timestampValue);return new Kr(e.seconds,e.nanos)}var co=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ao(t)?4:10:Sr()}function lo(t,e){var n,r,i,o=ho(t);if(o!==ho(e))return!1;switch(o){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uo(t).isEqual(uo(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=yo(t.timestampValue),r=yo(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,bo(t.bytesValue).isEqual(bo(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return r=e,go((n=t).geoPointValue.latitude)===go(r.geoPointValue.latitude)&&go(n.geoPointValue.longitude)===go(r.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return go(t.integerValue)===go(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=go(t.doubleValue),r=go(e.doubleValue);return n===r?hi(n)===hi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Rr(t.arrayValue.values||[],e.arrayValue.values||[],lo);case 10:return function(e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Vr(n)!==Vr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lo(n[i],r[i])))return!1;return!0}(e);default:return Sr()}}function fo(t,e){return void 0!==(t.values||[]).find((function(t){return lo(t,e)}))}function po(t,e){var n,r,i,o,s,a,u,c,h,l,f=ho(t),p=ho(e);if(f!==p)return Cr(f,p);switch(f){case 0:return 0;case 1:return Cr(t.booleanValue,e.booleanValue);case 2:return c=e,(h=go(t.integerValue||t.doubleValue))<(l=go(c.integerValue||c.doubleValue))?-1:l<h?1:h===l?0:isNaN(h)?isNaN(l)?0:-1:1;case 3:return vo(t.timestampValue,e.timestampValue);case 4:return vo(uo(t),uo(e));case 5:return Cr(t.stringValue,e.stringValue);case 6:return o=t.bytesValue,s=e.bytesValue,a=bo(o),u=bo(s),a.o(u);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Cr(n[i],r[i]);if(0!==o)return o}return Cr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,r=e.geoPointValue,0!==(i=Cr(go(n.latitude),go(r.latitude)))?i:Cr(go(n.longitude),go(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=po(n[i],r[i]);if(o)return o}return Cr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Cr(r[s],o[s]);if(0!==a)return a;var u=po(n[r[s]],i[o[s]]);if(0!==u)return u}return Cr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Sr()}}function vo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Cr(t,e);var n=yo(t),r=yo(e),i=Cr(n.seconds,r.seconds);return 0!==i?i:Cr(n.nanos,r.nanos)}function mo(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(n=yo(e.timestampValue)).seconds+","+n.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?bo(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,ai.q(i).toString()):"geoPointValue"in e?"geo("+(r=e.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in e?function(){for(var n="[",r=!0,i=0,o=e.arrayValue.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}():"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Sr();var n,r,i}(t)}function yo(t){if(xr(!!t),"string"!=typeof t)return{seconds:go(t.seconds),nanos:go(t.nanos)};var e=0,n=co.exec(t);if(xr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}function go(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bo(t){return"string"==typeof t?fi.fromBase64String(t):fi.fromUint8Array(t)}function wo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.N()}}function Io(t){return t&&"integerValue"in t}function Eo(t){return!!t&&"arrayValue"in t}function To(t){return t&&"nullValue"in t}function _o(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ao(t){return t&&"mapValue"in t}var No={asc:"ASCENDING",desc:"DESCENDING"},ko={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},So=function(t,e){this.s=t,this.Le=e};function xo(t){return{integerValue:""+t}}function Oo(t,e){if(t.Le){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hi(e)?"-0":e}}function Do(t,e){return t.Le?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Po(t,e){return t.Le?e.toBase64():e.toUint8Array()}function Co(t,e){return t.Le?(xr(void 0===e||"string"==typeof e),fi.fromBase64String(e||"")):(xr(void 0===e||e instanceof Uint8Array),fi.fromUint8Array(e||new Uint8Array))}function Ro(t){return xr(!!t),Qr.I((e=yo(t),new Kr(e.seconds,e.nanos)));var e}function Lo(t,e){return new Xr(["projects",t.projectId,"databases",t.database]).child("documents").child(e).N()}function Mo(t){var e=Xr.$(t);return xr($o(e)),e}function jo(t,e){return Lo(t.s,e.path)}function Uo(t,e){var n=Mo(e);return xr(n.get(1)===t.s.projectId),xr(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new ai(Bo(n))}function Vo(t,e){return Lo(t.s,e)}function Fo(t){var e=Mo(t);return 4===e.length?Xr.k:Bo(e)}function qo(t){return new Xr(["projects",t.s.projectId,"databases",t.s.database]).N()}function Bo(t){return xr(4<t.length&&"documents"===t.get(4)),t.g(5)}function Go(t,e,n){return{name:jo(t,e),fields:n.proto.mapValue.fields}}function Ho(t,e){var n,r,i,o,s,a,u;if(e instanceof gs)n={update:Go(t,e.key,e.value)};else if(e instanceof Is)n={delete:jo(t,e.key)};else if(e instanceof bs)n={update:Go(t,e.key,e.data),updateMask:(r=e.Oe,i=[],r.fields.forEach((function(t){return i.push(t.N())})),{fieldPaths:i})};else if(e instanceof ws)n={transform:{document:jo(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t){var e=t.transform;if(e instanceof Zo)return{fieldPath:t.field.N(),setToServerValue:"REQUEST_TIME"};if(e instanceof es)return{fieldPath:t.field.N(),appendMissingElements:{values:e.elements}};if(e instanceof ns)return{fieldPath:t.field.N(),removeAllFromArray:{values:e.elements}};if(e instanceof rs)return{fieldPath:t.field.N(),increment:e.Be};throw Sr()}(t)}))}};else{if(!(e instanceof Es))return Sr();n={verify:jo(t,e.key)}}return e.Ue.qe||(n.currentDocument=(o=t,void 0!==(s=e.Ue).updateTime?{updateTime:(a=o,u=s.updateTime,Do(a,u.R()))}:void 0!==s.exists?{exists:s.exists}:Sr())),n}function zo(t,e){var n,r,i=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?ms.updateTime(Ro(n.updateTime)):void 0!==n.exists?ms.exists(n.exists):ms.Qe():ms.Qe();if(e.update){e.update.name;var o=Uo(t,e.update.name),s=new Ts({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=(r=e.updateMask.fieldPaths||[],new ds(r.map((function(t){return oi.B(t)}))));return new bs(o,s,a,i)}return new gs(o,s,i)}if(e.delete){var u=Uo(t,e.delete);return new Is(u,i)}if(e.transform){var c=Uo(t,e.transform.document),h=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)xr("REQUEST_TIME"===e.setToServerValue),n=Zo.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new es(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ns(i)}else"increment"in e?n=new rs(t,e.increment):Sr();var o=oi.B(e.fieldPath);return new vs(o,n)}(t,e)}));return xr(!0===i.exists),new ws(c,h)}if(e.verify){var l=Uo(t,e.verify);return new Es(l,i)}return Sr()}function Wo(t,e){return{documents:[Vo(t,e.path)]}}function Ko(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Vo(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Vo(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return t instanceof Js?function(t){if("=="===t.op){if(_o(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(To(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:(e=t.op,ko[e]),value:t.value}};var e}(t):Sr()}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Xo((e=t).field),direction:(n=e.dir,No[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.Le||ci(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Qo(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Qo(e.endAt)),n}function Qo(t){return{before:t.before,values:t.position}}function Yo(t){var e=!!t.before,n=t.values||[];return new ra(n,e)}function Xo(t){return{fieldPath:t.N()}}function Jo(t){return oi.B(t.fieldPath)}function $o(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}var Zo=(ts.prototype.je=function(t,e){return n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}},t&&(n.fields.__previous_value__=t),{mapValue:n};var n},ts.prototype.Ke=function(t,e){return e},ts.prototype.Ge=function(t){return null},ts.prototype.isEqual=function(t){return t instanceof ts},ts);function ts(){}Zo.instance=new Zo;var es=(ss.prototype.je=function(t,e){return this.apply(t)},ss.prototype.Ke=function(t,e){return this.apply(t)},ss.prototype.apply=function(t){for(var e=as(t),n=function(t){e.some((function(e){return lo(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},ss.prototype.Ge=function(t){return null},ss.prototype.isEqual=function(t){return t instanceof ss&&Rr(this.elements,t.elements,lo)},ss),ns=(os.prototype.je=function(t,e){return this.apply(t)},os.prototype.Ke=function(t,e){return this.apply(t)},os.prototype.apply=function(t){for(var e=as(t),n=function(t){e=e.filter((function(e){return!lo(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},os.prototype.Ge=function(t){return null},os.prototype.isEqual=function(t){return t instanceof os&&Rr(this.elements,t.elements,lo)},os),rs=(is.prototype.je=function(t,e){var n=this.Ge(t),r=this.asNumber(n)+this.asNumber(this.Be);return Io(n)&&Io(this.Be)?xo(r):Oo(this.serializer,r)},is.prototype.Ke=function(t,e){return e},is.prototype.Ge=function(t){return Io(e=t)||e&&"doubleValue"in e?t:{integerValue:0};var e},is.prototype.isEqual=function(t){return t instanceof is&&lo(this.Be,t.Be)},is.prototype.asNumber=function(t){return go(t.integerValue||t.doubleValue)},is);function is(t,e){this.serializer=t,this.Be=e}function os(t){this.elements=t}function ss(t){this.elements=t}function as(t){return Eo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function us(t,e){this.version=t,this.transformResults=e}var cs,hs,ls,fs,ps,ds=(Ls.prototype.ze=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},Ls.prototype.isEqual=function(t){return Rr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},Ls),vs=(Rs.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},Rs),ms=(Cs.Qe=function(){return new Cs},Cs.exists=function(t){return new Cs(void 0,t)},Cs.updateTime=function(t){return new Cs(t)},Object.defineProperty(Cs.prototype,"qe",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),Cs.prototype.He=function(t){return void 0!==this.updateTime?t instanceof Ks&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof Ks},Cs.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},Cs),ys=(Ps.prototype.Ye=function(t){},Ps.Je=function(t){return t instanceof Ks?t.version:Qr.min()},Ps),gs=(s(Ds,ps=ys),Ds.prototype.Ke=function(t,e){this.Ye(t);var n=e.version;return new Ks(this.key,n,this.value,{hasCommittedMutations:!0})},Ds.prototype.je=function(t,e,n){if(this.Ye(t),!this.Ue.He(t))return t;var r=ys.Je(t);return new Ks(this.key,r,this.value,{Xe:!0})},Ds.prototype.Ze=function(t){return null},Ds.prototype.isEqual=function(t){return t instanceof Ds&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Ue.isEqual(t.Ue)},Ds),bs=(s(Os,fs=ys),Os.prototype.Ke=function(t,e){if(this.Ye(t),!this.Ue.He(t))return new Ys(this.key,e.version);var n=this.ts(t);return new Ks(this.key,e.version,n,{hasCommittedMutations:!0})},Os.prototype.je=function(t,e,n){if(this.Ye(t),!this.Ue.He(t))return t;var r=ys.Je(t),i=this.ts(t);return new Ks(this.key,r,i,{Xe:!0})},Os.prototype.Ze=function(t){return null},Os.prototype.isEqual=function(t){return t instanceof Os&&this.key.isEqual(t.key)&&this.Oe.isEqual(t.Oe)&&this.Ue.isEqual(t.Ue)},Os.prototype.ts=function(t){var e;return e=t instanceof Ks?t.data():Ts.empty(),this.es(e)},Os.prototype.es=function(t){var e=this,n=new _s(t);return this.Oe.fields.forEach((function(t){if(!t._()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.ss()},Os),ws=(s(xs,ls=ys),xs.prototype.Ke=function(t,e){if(this.Ye(t),xr(null!=e.transformResults),!this.Ue.He(t))return new Ys(this.key,e.version);var n=this.ns(t),r=this.rs(t,e.transformResults),i=e.version,o=this.os(n.data(),r);return new Ks(this.key,i,o,{hasCommittedMutations:!0})},xs.prototype.je=function(t,e,n){if(this.Ye(t),!this.Ue.He(t))return t;var r=this.ns(t),i=this.hs(n,t,e),o=this.os(r.data(),i);return new Ks(this.key,r.version,o,{Xe:!0})},xs.prototype.Ze=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof Ks?t.field(i.field):void 0,s=i.transform.Ge(o||null);null!=s&&(e=null==e?(new _s).set(i.field,s):e.set(i.field,s))}return e?e.ss():null},xs.prototype.isEqual=function(t){return t instanceof xs&&this.key.isEqual(t.key)&&Rr(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Ue.isEqual(t.Ue)},xs.prototype.ns=function(t){return t},xs.prototype.rs=function(t,e){var n=[];xr(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof Ks&&(s=t.field(i.field)),n.push(o.Ke(s,e[r]))}return n},xs.prototype.hs=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof Ks&&(u=e.field(s.field)),null===u&&n instanceof Ks&&(u=n.field(s.field)),r.push(a.je(u,t))}return r},xs.prototype.os=function(t,e){for(var n=new _s(t),r=0;r<this.fieldTransforms.length;r++){var i=this.fieldTransforms[r].field;n.set(i,e[r])}return n.ss()},xs),Is=(s(Ss,hs=ys),Ss.prototype.Ke=function(t,e){return this.Ye(t),new Qs(this.key,e.version,{hasCommittedMutations:!0})},Ss.prototype.je=function(t,e,n){return this.Ye(t),this.Ue.He(t)?new Qs(this.key,Qr.min()):t},Ss.prototype.Ze=function(t){return null},Ss.prototype.isEqual=function(t){return t instanceof Ss&&this.key.isEqual(t.key)&&this.Ue.isEqual(t.Ue)},Ss),Es=(s(ks,cs=ys),ks.prototype.Ke=function(t,e){Sr()},ks.prototype.je=function(t,e,n){Sr()},ks.prototype.Ze=function(t){Sr()},ks.prototype.isEqual=function(t){return t instanceof ks&&this.key.isEqual(t.key)&&this.Ue.isEqual(t.Ue)},ks),Ts=(Ns.empty=function(){return new Ns({mapValue:{}})},Ns.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ao(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},Ns.prototype.isEqual=function(t){return lo(this.proto,t.proto)},Ns),_s=(As.prototype.set=function(t,e){return this.cs(t,e),this},As.prototype.delete=function(t){return this.cs(t,null),this},As.prototype.cs=function(t,e){for(var n=this.us,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===ho(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.S(),e)},As.prototype.ss=function(){var t=this.ls(oi.k,this.us);return null!=t?new Ts(t):this.as},As.prototype.ls=function(t,e){var n=this,r=!1,i=this.as.field(t),o=Ao(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.ls(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},As);function As(t){void 0===t&&(t=Ts.empty()),this.as=t,this.us=new Map}function Ns(t){this.proto=t}function ks(t,e){var n=this;return(n=cs.call(this)||this).key=t,n.Ue=e,n.type=4,n}function Ss(t,e){var n=this;return(n=hs.call(this)||this).key=t,n.Ue=e,n.type=3,n}function xs(t,e){var n=this;return(n=ls.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.Ue=ms.exists(!0),n}function Os(t,e,n,r){var i=this;return(i=fs.call(this)||this).key=t,i.data=e,i.Oe=n,i.Ue=r,i.type=1,i}function Ds(t,e,n){var r=this;return(r=ps.call(this)||this).key=t,r.value=e,r.Ue=n,r.type=0,r}function Ps(){}function Cs(t,e){this.updateTime=t,this.exists=e}function Rs(t,e){this.field=t,this.transform=e}function Ls(t){(this.fields=t).sort(oi.P)}function Ms(t){var e=[];return Fr(t.fields||{},(function(t,n){var r=new oi([t]);if(Ao(n)){var i=Ms(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new ds(e)}function js(t,e){this.key=t,this.version=e}var Us,Vs,Fs,qs,Bs,Gs,Hs,zs,Ws,Ks=(s(pa,Ws=js),pa.prototype.field=function(t){return this._s.field(t)},pa.prototype.data=function(){return this._s},pa.prototype.fs=function(){return this._s.proto},pa.prototype.isEqual=function(t){return t instanceof pa&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Xe===t.Xe&&this.hasCommittedMutations===t.hasCommittedMutations&&this._s.isEqual(t._s)},pa.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this._s.toString()+", {hasLocalMutations: "+this.Xe+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(pa.prototype,"hasPendingWrites",{get:function(){return this.Xe||this.hasCommittedMutations},enumerable:!0,configurable:!0}),pa),Qs=(s(fa,zs=js),fa.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(fa.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),fa.prototype.isEqual=function(t){return t instanceof fa&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},fa),Ys=(s(la,Hs=js),la.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(la.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),la.prototype.isEqual=function(t){return t instanceof la&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},la),Xs=(ha.As=function(t){return new ha(t)},Object.defineProperty(ha.prototype,"orderBy",{get:function(){if(null===this.Ts){this.Ts=[];var t=this.Rs(),e=this.ms();if(null!==t&&null===e)t.L()||this.Ts.push(new ga(t)),this.Ts.push(new ga(oi.O(),"asc"));else{for(var n=!1,r=0,i=this.ds;r<i.length;r++){var o=i[r];this.Ts.push(o),o.field.L()&&(n=!0)}if(!n){var s=0<this.ds.length?this.ds[this.ds.length-1].dir:"asc";this.Ts.push(new ga(oi.O(),s))}}}return this.Ts},enumerable:!0,configurable:!0}),ha.prototype.Ps=function(t){var e=this.filters.concat([t]);return new ha(this.path,this.collectionGroup,this.ds.slice(),e,this.limit,this.ws,this.startAt,this.endAt)},ha.prototype.Vs=function(t){var e=this.ds.concat([t]);return new ha(this.path,this.collectionGroup,e,this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},ha.prototype.gs=function(t){return new ha(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),t,"F",this.startAt,this.endAt)},ha.prototype.ps=function(t){return new ha(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),t,"L",this.startAt,this.endAt)},ha.prototype.ys=function(t){return new ha(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,t,this.endAt)},ha.prototype.bs=function(t){return new ha(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,t)},ha.prototype.vs=function(t){return new ha(t,null,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},ha.prototype.Ss=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.ds.length||1===this.ds.length&&this.ds[0].field.L())},ha.prototype.canonicalId=function(){return Ta(this.We())+"|lt:"+this.ws},ha.prototype.toString=function(){return"Query(target="+(e=(t=this.We()).path.N(),null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),0<t.filters.length&&(e+=", filters: ["+t.filters.join(", ")+"]"),ci(t.limit)||(e+=", limit: "+t.limit),0<t.orderBy.length&&(e+=", orderBy: ["+t.orderBy.join(", ")+"]"),t.startAt&&(e+=", startAt: "+da(t.startAt)),t.endAt&&(e+=", endAt: "+da(t.endAt)),"Target("+e+"); limitType=")+this.ws+")";var t,e},ha.prototype.isEqual=function(t){return _a(this.We(),t.We())&&this.ws===t.ws},ha.prototype.Ds=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.L()}return 0},ha.prototype.matches=function(t){return this.Cs(t)&&this.Fs(t)&&this.Ns(t)&&this.$s(t)},ha.prototype.ks=function(){return!ci(this.limit)&&"F"===this.ws},ha.prototype.xs=function(){return!ci(this.limit)&&"L"===this.ws},ha.prototype.ms=function(){return 0<this.ds.length?this.ds[0].field:null},ha.prototype.Rs=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Js&&n.Ms())return n.field}return null},ha.prototype.Ls=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Js&&0<=t.indexOf(r.op))return r.op}return null},ha.prototype.Os=function(){return Aa(this.We())},ha.prototype.Bs=function(){return null!==this.collectionGroup},ha.prototype.We=function(){if(!this.Es)if("F"===this.ws)this.Es=Ea(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i="desc"===r.dir?"asc":"desc";t.push(new ga(r.field,i))}var o=this.endAt?new ra(this.endAt.position,!this.endAt.before):null,s=this.startAt?new ra(this.startAt.position,!this.startAt.before):null;this.Es=Ea(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.Es},ha.prototype.Cs=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.U(this.collectionGroup)&&this.path.D(e):ai.W(this.path)?this.path.isEqual(e):this.path.C(e)},ha.prototype.Fs=function(t){for(var e=0,n=this.ds;e<n.length;e++){var r=n[e];if(!r.field.L()&&null===t.field(r.field))return!1}return!0},ha.prototype.Ns=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},ha.prototype.$s=function(t){return!(this.startAt&&!va(this.startAt,this.orderBy,t)||this.endAt&&va(this.endAt,this.orderBy,t))},ha.prototype.Is=function(t){},ha),Js=(s(ca,Gs=function(){}),ca.create=function(t,e,n){if(t.L())return"in"===e?new Zs(t,n):new $s(t,e,n);if(To(n)){if("=="!==e)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new ca(t,e,n)}if(_o(n)){if("=="!==e)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new ca(t,e,n)}return"array-contains"===e?new ta(t,n):"in"===e?new ea(t,n):"array-contains-any"===e?new na(t,n):new ca(t,e,n)},ca.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ho(this.value)===ho(e)&&this.qs(po(e,this.value))},ca.prototype.qs=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return 0<t;case">=":return 0<=t;default:return Sr()}},ca.prototype.Ms=function(){return 0<=["<","<=",">",">="].indexOf(this.op)},ca.prototype.canonicalId=function(){return this.field.N()+this.op.toString()+mo(this.value)},ca.prototype.isEqual=function(t){return t instanceof ca&&this.op===t.op&&this.field.isEqual(t.field)&&lo(this.value,t.value)},ca.prototype.toString=function(){return this.field.N()+" "+this.op+" "+mo(this.value)},ca),$s=(s(ua,Bs=Js),ua.prototype.matches=function(t){var e=ai.P(t.key,this.key);return this.qs(e)},ua),Zs=(s(aa,qs=Js),aa.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},aa),ta=(s(sa,Fs=Js),sa.prototype.matches=function(t){var e=t.field(this.field);return Eo(e)&&fo(e.arrayValue,this.value)},sa),ea=(s(oa,Vs=Js),oa.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&fo(this.value.arrayValue,e)},oa),na=(s(ia,Us=Js),ia.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Eo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return fo(e.value.arrayValue,t)}))},ia),ra=function(t,e){this.position=t,this.before=e};function ia(t,e){return Us.call(this,t,"array-contains-any",e)||this}function oa(t,e){return Vs.call(this,t,"in",e)||this}function sa(t,e){return Fs.call(this,t,"array-contains",e)||this}function aa(t,e){var n=this;return(n=qs.call(this,t,"in",e)||this).keys=(e.arrayValue.values||[]).map((function(t){return ai.q(t.referenceValue)})),n}function ua(t,e,n){var r=this;return(r=Bs.call(this,t,e,n)||this).key=ai.q(n.referenceValue),r}function ca(t,e,n){var r=this;return(r=Gs.call(this)||this).field=t,r.op=e,r.value=n,r}function ha(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.ds=n,this.filters=r,this.limit=i,this.ws=o,this.startAt=s,this.endAt=a,this.Ts=null,this.Es=null,this.startAt&&this.Is(this.startAt),this.endAt&&this.Is(this.endAt)}function la(){return null!==Hs&&Hs.apply(this,arguments)||this}function fa(t,e,n){var r=this;return(r=zs.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function pa(t,e,n,r){var i=this;return(i=Ws.call(this,t,e)||this)._s=n,i.Xe=!!r.Xe,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function da(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return mo(t)})).join(",")}function va(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.L()?ai.P(ai.q(s.referenceValue),n.key):po(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ma(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!lo(t.position[n],e.position[n]))return!1;return!0}var ya,ga=(Ia.prototype.compare=function(t,e){var n,r,i,o,s=this.Us?ai.P(t.key,e.key):(n=this.field,r=e,i=t.field(n),o=r.field(n),null!==i&&null!==o?po(i,o):Sr());switch(this.dir){case"asc":return s;case"desc":return-1*s;default:return Sr()}},Ia.prototype.canonicalId=function(){return this.field.N()+this.dir.toString()},Ia.prototype.toString=function(){return this.field.N()+" ("+this.dir+")"},Ia.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},Ia),ba=(s(wa,ya=function(t,e,n,r,i,o,s){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s}),wa);function wa(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null);var a=this;return(a=ya.call(this,t,e,n,r,i,o,s)||this).Qs=null,a}function Ia(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.Us=t.L()}function Ea(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ba(t,e,n,r,i,o,s)}function Ta(t){var e=t;if(null===e.Qs){var n=e.path.N();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return t.canonicalId()})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return t.canonicalId()})).join(","),ci(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=da(e.startAt)),e.endAt&&(n+="|ub:",n+=da(e.endAt)),e.Qs=n}return e.Qs}function _a(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!t.orderBy[n].isEqual(e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(!t.filters[r].isEqual(e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ma(t.startAt,e.startAt)&&ma(t.endAt,e.endAt)}function Aa(t){return ai.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Na=(Ba.prototype.Ke=function(t,e,n){for(var r=n.js,i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var s=r[i];e=o.Ke(e,s)}}return e},Ba.prototype.je=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.je(e,e,this.Ws))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=u.je(e,o,this.Ws))}return e},Ba.prototype.Ks=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.je(r.key,t.get(r.key));i&&(n=n.et(r.key,i))})),n},Ba.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Vi())},Ba.prototype.isEqual=function(t){return this.batchId===t.batchId&&Rr(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Rr(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},Ba),ka=(qa.from=function(t,e,n){xr(t.mutations.length===n.length);for(var r=ji,i=t.mutations,o=0;o<i.length;o++)r=r.et(i[o].key,n[o].version);return new qa(t,e,n,r)},qa),Sa=(Fa.prototype.catch=function(t){return this.next(void 0,t)},Fa.prototype.next=function(t,e){var n=this;return this.Xs&&Sr(),this.Xs=!0,this.Js?this.error?this.Zs(e,this.error):this.tn(t,this.result):new Fa((function(r,i){n.Hs=function(e){n.tn(t,e).next(r,i)},n.Ys=function(t){n.Zs(e,t).next(r,i)}}))},Fa.prototype.en=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},Fa.prototype.sn=function(t){try{var e=t();return e instanceof Fa?e:Fa.resolve(e)}catch(t){return Fa.reject(t)}},Fa.prototype.tn=function(t,e){return t?this.sn((function(){return t(e)})):Fa.resolve(e)},Fa.prototype.Zs=function(t,e){return t?this.sn((function(){return t(e)})):Fa.reject(e)},Fa.resolve=function(t){return new Fa((function(e,n){e(t)}))},Fa.reject=function(t){return new Fa((function(e,n){n(t)}))},Fa.nn=function(t){return new Fa((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},Fa.rn=function(t){for(var e=Fa.resolve(!1),n=function(t){e=e.next((function(e){return e?Fa.resolve(e):t()}))},r=0,i=t;r<i.length;r++)n(i[r]);return e},Fa.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.nn(r)},Fa),xa=(Object.defineProperty(Va.prototype,"readTime",{get:function(){return this.an},set:function(t){this.an=t},enumerable:!0,configurable:!0}),Va.prototype.un=function(t,e){this.cn(),this.readTime=e,this.on.set(t.key,t)},Va.prototype.ln=function(t,e){this.cn(),e&&(this.readTime=e),this.on.set(t,null)},Va.prototype._n=function(t,e){this.cn();var n=this.on.get(e);return void 0!==n?Sa.resolve(n):this.fn(t,e)},Va.prototype.getEntries=function(t,e){return this.dn(t,e)},Va.prototype.apply=function(t){return this.cn(),this.hn=!0,this.wn(t)},Va.prototype.cn=function(){},Va),Oa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Da=(Ua.prototype.En=function(t){this.Tn.push(t)},Ua.prototype.In=function(){this.Tn.forEach((function(t){return t()}))},Ua),Pa=(ja.prototype.Pn=function(t,e){var n=this;return this.Rn.Vn(t,e).next((function(r){return n.gn(t,e,r)}))},ja.prototype.gn=function(t,e,n){return this.An._n(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].je(e,t);return t}))},ja.prototype.pn=function(t,e,n){var r=Ri();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].je(t,e);r=r.et(t,e)})),r},ja.prototype.yn=function(t,e){var n=this;return this.An.getEntries(t,e).next((function(e){return n.bn(t,e)}))},ja.prototype.bn=function(t,e){var n=this;return this.Rn.vn(t,e).next((function(r){var i=n.pn(t,e,r),o=Ci();return i.forEach((function(t,e){e=e||new Qs(t,Qr.min()),o=o.et(t,e)})),o}))},ja.prototype.Sn=function(t,e,n){return e.Os()?this.Dn(t,e.path):e.Bs()?this.Cn(t,e,n):this.Fn(t,e,n)},ja.prototype.Dn=function(t,e){return this.Pn(t,new ai(e)).next((function(t){var e=Mi();return t instanceof Ks&&(e=e.et(t.key,t)),e}))},ja.prototype.Cn=function(t,e,n){var r=this,i=e.collectionGroup,o=Mi();return this.mn.Nn(t,i).next((function(s){return Sa.forEach(s,(function(s){var a=e.vs(s.child(i));return r.Fn(t,a,n).next((function(t){t.forEach((function(t,e){o=o.et(t,e)}))}))})).next((function(){return o}))}))},ja.prototype.Fn=function(t,e,n){var r,i,o=this;return this.An.Sn(t,e,n).next((function(n){return r=n,o.Rn.$n(t,e)})).next((function(e){return i=e,o.kn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),l=u.je(h,h,o.Ws);r=l instanceof Ks?r.et(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},ja.prototype.kn=function(t,e,n){for(var r=Vi(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof bs&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.An.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Ks&&(c=c.et(t,e))})),c}))},ja),Ca=(Ma.Ln=function(t,e){for(var n=Vi(),r=Vi(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new Ma(t,e.fromCache,n,r)},Ma),Ra=(La.prototype.Bn=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},La.prototype.next=function(){var t=++this.previousValue;return this.qn&&this.qn(t),t},La);function La(t,e){var n=this;this.previousValue=t,e&&(e.On=function(t){return n.Bn(t)},this.qn=function(t){return e.Un(t)})}function Ma(t,e,n,r){this.targetId=t,this.fromCache=e,this.xn=n,this.Mn=r}function ja(t,e,n){this.An=t,this.Rn=e,this.mn=n}function Ua(){this.Tn=[]}function Va(){this.on=new Hr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.hn=!1}function Fa(t){var e=this;this.Hs=null,this.Ys=null,this.result=void 0,this.error=void 0,this.Js=!1,this.Xs=!1,t((function(t){e.Js=!0,e.result=t,e.Hs&&e.Hs(t)}),(function(t){e.Js=!0,e.error=t,e.Ys&&e.Ys(t)}))}function qa(t,e,n,r){this.batch=t,this.Gs=e,this.js=n,this.zs=r}function Ba(t,e,n,r){this.batchId=t,this.Ws=e,this.baseMutations=n,this.mutations=r}function Ga(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}Ra.Qn=-1;var Ha=(za.prototype.reset=function(){this.Hn=0},za.prototype.Xn=function(){this.Hn=this.zn},za.prototype.Zn=function(t){var e=this;this.cancel();var n=Math.floor(this.Hn+this.ti()),r=Math.max(0,Date.now()-this.Jn),i=Math.max(0,n-r);0<i&&Ar("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Hn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Yn=this.Wn.ei(this.jn,i,(function(){return e.Jn=Date.now(),t()})),this.Hn*=this.Gn,this.Hn<this.Kn&&(this.Hn=this.Kn),this.Hn>this.zn&&(this.Hn=this.zn)},za.prototype.si=function(){null!==this.Yn&&(this.Yn.ni(),this.Yn=null)},za.prototype.cancel=function(){null!==this.Yn&&(this.Yn.cancel(),this.Yn=null)},za.prototype.ti=function(){return(Math.random()-.5)*this.Hn},za);function za(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Wn=t,this.jn=e,this.Kn=n,this.Gn=r,this.zn=i,this.Hn=0,this.Yn=null,this.Jn=Date.now(),this.reset()}function Wa(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=Qa(e)),e=Ka(t.get(n),e);return Qa(e)}function Ka(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Qa(t){return t+""}function Ya(t){var e=t.length;if(xr(2<=e),2===e)return xr(""===t.charAt(0)&&""===t.charAt(1)),Xr.k;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||n<s)&&Sr(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Sr()}o=s+2}return new Xr(r)}var Xa=(eu.prototype.ri=function(t,e){return this.ii.add(e),Sa.resolve()},eu.prototype.Nn=function(t,e){return Sa.resolve(this.ii.getEntries(e))},eu),Ja=(tu.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new Si(Xr.P),i=!r.has(n);return this.index[e]=r.add(n),i},tu.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},tu.prototype.getEntries=function(t){return(this.index[t]||new Si(Xr.P)).F()},tu),$a=(Za.prototype.ri=function(t,e){var n=this;if(this.oi.has(e))return Sa.resolve();var r=e.S(),i=e.p();t.En((function(){n.oi.add(e)}));var o={collectionId:r,parent:Wa(i)};return nu(t).put(o)},Za.prototype.Nn=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Lr(e),""],!1,!0);return nu(t).hi(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ya(o.parent))}return n}))},Za);function Za(){this.oi=new Ja}function tu(){this.index={}}function eu(){this.ii=new Ja}function nu(t){return Du.ai(t,uc.store)}function ru(t){this.ui=t}function iu(t,e){if(e.document)return n=t.ui,r=e.document,i=!!e.hasCommittedMutations,o=Uo(n,r.name),s=Ro(r.updateTime),a=new Ts({mapValue:{fields:r.fields}}),new Ks(o,s,a,{hasCommittedMutations:!!i});var n,r,i,o,s,a;if(e.noDocument){var u=ai.j(e.noDocument.path),c=cu(e.noDocument.readTime);return new Qs(u,c,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var h=ai.j(e.unknownDocument.path),l=cu(e.unknownDocument.version);return new Ys(h,l)}return Sr()}function ou(t,e,n){var r,i,o=su(n),s=e.key.path.p().F();if(e instanceof Ks){var a={name:jo(r=t.ui,(i=e).key),fields:i.fs().mapValue.fields,updateTime:Do(r,i.version.R())},u=e.hasCommittedMutations;return new rc(null,null,a,u,o,s)}if(e instanceof Qs){var c=e.key.path.F(),h=uu(e.version),l=e.hasCommittedMutations;return new rc(null,new ec(c,h),null,l,o,s)}if(e instanceof Ys){var f=e.key.path.F(),p=uu(e.version);return new rc(new nc(f,p),null,null,!0,o,s)}return Sr()}function su(t){var e=t.R();return[e.seconds,e.nanoseconds]}function au(t){var e=new Kr(t[0],t[1]);return Qr.I(e)}function uu(t){var e=t.R();return new Qu(e.seconds,e.nanoseconds)}function cu(t){var e=new Kr(t.seconds,t.nanoseconds);return Qr.I(e)}function hu(t,e){var n=(e.baseMutations||[]).map((function(e){return zo(t.ui,e)})),r=e.mutations.map((function(e){return zo(t.ui,e)})),i=Kr.fromMillis(e.localWriteTimeMs);return new Na(e.batchId,i,n,r)}function lu(t){var e,n=cu(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?cu(t.lastLimboFreeSnapshotVersion):Qr.min();return e=(void 0!==t.query.documents?function(t){xr(1===t.documents.length);var e=t.documents[0];return Xs.As(Fo(e)).We()}:function(t){var e=Fo(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){xr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Jo(t.unaryFilter.field);return Js.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Jo(t.unaryFilter.field);return Js.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Sr()}}(e)]:void 0!==e.fieldFilter?[(n=e,Js.create(Jo(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Sr()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Sr():[];var n}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new ga(Jo((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e})));var u,c,h=null;n.limit&&(h=ci(c="object"==typeof(u=n.limit)?u.value:u)?null:c);var l=null;n.startAt&&(l=Yo(n.startAt));var f=null;return n.endAt&&(f=Yo(n.endAt)),new Xs(e,i,a,s,h,"F",l,f).We()})(t.query),new yi(e,t.targetId,0,t.lastListenSequenceNumber,n,r,fi.fromBase64String(t.resumeToken))}function fu(t,e){var n,r=uu(e.J),i=uu(e.lastLimboFreeSnapshotVersion);n=(Aa(e.target)?Wo:Ko)(t.ui,e.target);var o=e.resumeToken.toBase64();return new oc(e.targetId,Ta(e.target),r,o,e.sequenceNumber,i,n)}var pu,du=(vu.prototype.un=function(t,e,n){return yu(t).put(gu(e),n)},vu.prototype.ln=function(t,e){var n=yu(t),r=gu(e);return n.delete(r)},vu.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ci(t,r)}))},vu.prototype._n=function(t,e){var n=this;return yu(t).get(gu(e)).next((function(t){return n.li(t)}))},vu.prototype._i=function(t,e){var n=this;return yu(t).get(gu(e)).next((function(t){var e=n.li(t);return e?{fi:e,size:bu(t)}:null}))},vu.prototype.getEntries=function(t,e){var n=this,r=Ri();return this.di(t,e,(function(t,e){var i=n.li(e);r=r.et(t,i)})).next((function(){return r}))},vu.prototype.wi=function(t,e){var n=this,r=Ri(),i=new Ii(ai.P);return this.di(t,e,(function(t,e){var o=n.li(e);i=o?(r=r.et(t,o),i.et(t,bu(e))):(r=r.et(t,null),i.et(t,0))})).next((function(){return{Ti:r,Ei:i}}))},vu.prototype.di=function(t,e,n){if(e._())return Sa.resolve();var r=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),i=e.at(),o=i.dt();return yu(t).Ii({range:r},(function(t,e,r){for(var s=ai.j(t);o&&ai.P(o,s)<0;)n(o,null),o=i.dt();o&&o.isEqual(s)&&(n(o,e),o=i.wt()?i.dt():null),o?r.Ai(o.path.F()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},vu.prototype.Sn=function(t,e,n){var r=this,i=Mi(),o=e.path.length+1,s={};if(n.isEqual(Qr.min())){var a=e.path.F();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.F(),c=su(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=rc.collectionReadTimeIndex}return yu(t).Ii(s,(function(t,n,s){if(t.length===o){var a=iu(r.serializer,n);e.path.D(a.key.path)?a instanceof Ks&&e.matches(a)&&(i=i.et(a.key,a)):s.done()}})).next((function(){return i}))},vu.prototype.Ri=function(t,e){var n=this,r=Ci(),i=su(e),o=yu(t),s=IDBKeyRange.lowerBound(i,!0);return o.Ii({index:rc.readTimeIndex,range:s},(function(t,e){var o=iu(n.serializer,e);r=r.et(o.key,o),i=e.readTime})).next((function(){return{mi:r,readTime:au(i)}}))},vu.prototype.Pi=function(t){var e=yu(t),n=Qr.min();return e.Ii({index:rc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=au(e.readTime)),r.done()})).next((function(){return n}))},vu.prototype.Vi=function(t){return new vu.gi(this,!!t&&t.pi)},vu.prototype.yi=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},vu.prototype.getMetadata=function(t){return mu(t).get(ic.key).next((function(t){return xr(!!t),t}))},vu.prototype.ci=function(t,e){return mu(t).put(ic.key,e)},vu.prototype.li=function(t){if(t){var e=iu(this.serializer,t);return e instanceof Qs&&e.version.isEqual(Qr.min())?null:e}return null},vu);function vu(t,e){this.serializer=t,this.mn=e}function mu(t){return Du.ai(t,ic.store)}function yu(t){return Du.ai(t,rc.store)}function gu(t){return t.path.F()}function bu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Sr();e=t.noDocument}return JSON.stringify(e).length}function wu(t,e){var n=this;return(n=pu.call(this)||this).bi=t,n.pi=e,n.vi=new Hr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),n}du.gi=(s(wu,pu=xa),wu.prototype.wn=function(t){var e=this,n=[],r=0,i=new Si((function(t,e){return Cr(t.N(),e.N())}));return this.on.forEach((function(o,s){var a=e.vi.get(o);if(s){var u=ou(e.bi.serializer,s,e.readTime);i=i.add(o.path.p());var c=bu(u);r+=c-a,n.push(e.bi.un(t,o,u))}else if(r-=a,e.pi){var h=ou(e.bi.serializer,new Qs(o,Qr.min()),e.readTime);n.push(e.bi.un(t,o,h))}else n.push(e.bi.ln(t,o))})),i.forEach((function(r){n.push(e.bi.mn.ri(t,r))})),n.push(this.bi.updateMetadata(t,r)),Sa.nn(n)},wu.prototype.fn=function(t,e){var n=this;return this.bi._i(t,e).next((function(t){return null===t?(n.vi.set(e,0),null):(n.vi.set(e,t.size),t.fi)}))},wu.prototype.dn=function(t,e){var n=this;return this.bi.wi(t,e).next((function(t){var e=t.Ti;return t.Ei.forEach((function(t,e){n.vi.set(t,e)})),e}))},wu);var Iu=(_u.prototype.next=function(){return this.Si+=2,this.Si},_u.Di=function(){return new _u(0)},_u.Ci=function(){return new _u(-1)},_u),Eu=(Tu.prototype.Ni=function(t){var e=this;return this.$i(t).next((function(n){var r=new Iu(n.highestTargetId);return n.highestTargetId=r.next(),e.ki(t,n).next((function(){return n.highestTargetId}))}))},Tu.prototype.xi=function(t){return this.$i(t).next((function(t){return Qr.I(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},Tu.prototype.Mi=function(t){return this.$i(t).next((function(t){return t.highestListenSequenceNumber}))},Tu.prototype.Li=function(t,e,n){var r=this;return this.$i(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.R()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ki(t,i)}))},Tu.prototype.Oi=function(t,e){var n=this;return this.Bi(t,e).next((function(){return n.$i(t).next((function(r){return r.targetCount+=1,n.qi(e,r),n.ki(t,r)}))}))},Tu.prototype.Ui=function(t,e){return this.Bi(t,e)},Tu.prototype.Qi=function(t,e){var n=this;return this.Wi(t,e.targetId).next((function(){return Au(t).delete(e.targetId)})).next((function(){return n.$i(t)})).next((function(e){return xr(0<e.targetCount),--e.targetCount,n.ki(t,e)}))},Tu.prototype.ji=function(t,e,n){var r=this,i=0,o=[];return Au(t).Ii((function(s,a){var u=lu(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Qi(t,u)))})).next((function(){return Sa.nn(o)})).next((function(){return i}))},Tu.prototype.ye=function(t,e){return Au(t).Ii((function(t,n){var r=lu(n);e(r)}))},Tu.prototype.$i=function(t){return Nu(t).get(ac.key).next((function(t){return xr(null!==t),t}))},Tu.prototype.ki=function(t,e){return Nu(t).put(ac.key,e)},Tu.prototype.Bi=function(t,e){return Au(t).put(fu(this.serializer,e))},Tu.prototype.qi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},Tu.prototype.Ki=function(t){return this.$i(t).next((function(t){return t.targetCount}))},Tu.prototype.Gi=function(t,e){var n=Ta(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Au(t).Ii({range:r,index:oc.queryTargetsIndexName},(function(t,n,r){var o=lu(n);_a(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},Tu.prototype.zi=function(t,e,n){var r=this,i=[],o=ku(t);return e.forEach((function(e){var s=Wa(e.path);i.push(o.put(new sc(n,s))),i.push(r.Fi.Hi(t,n,e))})),Sa.nn(i)},Tu.prototype.Yi=function(t,e,n){var r=this,i=ku(t);return Sa.forEach(e,(function(e){var o=Wa(e.path);return Sa.nn([i.delete([n,o]),r.Fi.Ji(t,n,e)])}))},Tu.prototype.Wi=function(t,e){var n=ku(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},Tu.prototype.Xi=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ku(t),i=Vi();return r.Ii({range:n,Zi:!0},(function(t,e,n){var r=Ya(t[1]),o=new ai(r);i=i.add(o)})).next((function(){return i}))},Tu.prototype.tr=function(t,e){var n=Wa(e.path),r=IDBKeyRange.bound([n],[Lr(n)],!1,!0),i=0;return ku(t).Ii({index:sc.documentTargetsIndex,Zi:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return 0<i}))},Tu.prototype.Me=function(t,e){return Au(t).get(e).next((function(t){return t?lu(t):null}))},Tu);function Tu(t,e){this.Fi=t,this.serializer=e}function _u(t){this.Si=t}function Au(t){return Du.ai(t,oc.store)}function Nu(t){return Du.ai(t,ac.store)}function ku(t){return Du.ai(t,sc.store)}var Su,xu="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ou=(s(Cu,Su=Da),Cu),Du=(Pu.ai=function(t,e){if(t instanceof Ou)return pc.ai(t.er,e);throw Sr()},Pu.prototype.start=function(){var t=this;return pc.Ir(this.dr,Wu,new Ku(this.serializer)).then((function(e){return t.Ar=e,t.Rr()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Wr(zr.FAILED_PRECONDITION,xu);return t.mr(),t.Pr(),t.Vr(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Tr.Mi(e)}))})).then((function(e){t.rr=new Ra(e,t.nr)})).then((function(){t.or=!0})).catch((function(e){return t.Ar&&t.Ar.close(),Promise.reject(e)}))},Pu.prototype.gr=function(t){var e=this;return this.lr=function(n){return a(e,void 0,void 0,(function(){return u(this,(function(e){return this.pr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},Pu.prototype.yr=function(t){var e=this;this.Ar.br((function(n){return a(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},Pu.prototype.vr=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Wn.Sr((function(){return a(e,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.pr?[4,this.Rr()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},Pu.prototype.Rr=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Lu(e).put(new hc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Dr(e).next((function(e){e||(t.isPrimary=!1,t.Wn.Cr((function(){return t.lr(!1)})))}))})).next((function(){return t.Fr(e)})).next((function(n){return t.isPrimary&&!n?t.Nr(e).next((function(){return!1})):!!n&&t.$r(e).next((function(){return!0}))}))})).catch((function(e){if(bc(e))return Ar("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ar("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Wn.Cr((function(){return t.lr(e)})),t.isPrimary=e}))},Pu.prototype.Dr=function(t){var e=this;return Ru(t).get(Yu.key).next((function(t){return Sa.resolve(e.kr(t))}))},Pu.prototype.xr=function(t){return Lu(t).delete(this.clientId)},Pu.prototype.Mr=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i=this;return u(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Lr(this.cr,18e5)?[3,2]:(this.cr=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Pu.ai(t,hc.store);return e.hi().next((function(t){var n=i.Or(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Sa.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Er)for(e=0,n=t;e<n.length;e++)r=n[e],this.Er.removeItem(this.Br(r.clientId));o.label=2;case 2:return[2]}}))}))},Pu.prototype.Vr=function(){var t=this;this.ur=this.Wn.ei("client_metadata_refresh",4e3,(function(){return t.Rr().then((function(){return t.Mr()})).then((function(){return t.Vr()}))}))},Pu.prototype.kr=function(t){return!!t&&t.ownerId===this.clientId},Pu.prototype.Fr=function(t){var e=this;return this.ir?Sa.resolve(!0):Ru(t).get(Yu.key).next((function(n){if(null!==n&&e.Lr(n.leaseTimestampMs,5e3)&&!e.qr(n.ownerId)){if(e.kr(n)&&e.networkEnabled)return!0;if(!e.kr(n)){if(!n.allowTabSynchronization)throw new Wr(zr.FAILED_PRECONDITION,xu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Lu(t).hi().next((function(t){return void 0===e.Or(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ar("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},Pu.prototype.Ur=function(){return a(this,void 0,void 0,(function(){var t=this;return u(this,(function(e){switch(e.label){case 0:return this.or=!1,this.Qr(),this.ur&&(this.ur.cancel(),this.ur=null),this.Wr(),this.jr(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.Nr(e).next((function(){return t.xr(e)}))})).catch((function(t){Ar("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Ar.close(),this.Kr(),[2]}}))}))},Pu.prototype.Or=function(t,e){var n=this;return t.filter((function(t){return n.Lr(t.updateTimeMs,e)&&!n.qr(t.clientId)}))},Pu.prototype.Gr=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Lu(e).hi().next((function(e){return t.Or(e,18e5).map((function(t){return t.clientId}))}))}))},Pu.clearPersistence=function(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return Pu._r()?(e=t+Pu.wr,[4,pc.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(Pu.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),Pu.prototype.zr=function(t){return Vu.Hr(t,this.serializer,this.mn,this.Fi)},Pu.prototype.Yr=function(){return this.Tr},Pu.prototype.Jr=function(){return this.An},Pu.prototype.Xr=function(){return this.mn},Pu.prototype.runTransaction=function(t,e,n){var r=this;Ar("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Ar.runTransaction(o,fc,(function(o){return i=new Ou(o,r.rr?r.rr.next():Ra.Qn),"readwrite-primary"===e?r.Dr(i).next((function(t){return!!t||r.Fr(i)})).next((function(e){if(!e)throw Nr("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Wn.Cr((function(){return r.lr(!1)})),new Wr(zr.FAILED_PRECONDITION,Oa);return n(i)})).next((function(t){return r.$r(i).next((function(){return t}))})):r.Zr(i).next((function(){return n(i)}))})).then((function(t){return i.In(),t}))},Pu.prototype.Zr=function(t){var e=this;return Ru(t).get(Yu.key).next((function(t){if(null!==t&&e.Lr(t.leaseTimestampMs,5e3)&&!e.qr(t.ownerId)&&!e.kr(t)&&!(e.ir||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Wr(zr.FAILED_PRECONDITION,xu)}))},Pu.prototype.$r=function(t){var e=new Yu(this.clientId,this.allowTabSynchronization,Date.now());return Ru(t).put(Yu.key,e)},Pu._r=function(){return pc._r()},Pu.to=function(t){var e=t.s.projectId;return t.s.i||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},Pu.prototype.Nr=function(t){var e=this,n=Ru(t);return n.get(Yu.key).next((function(t){return e.kr(t)?(Ar("IndexedDbPersistence","Releasing primary lease."),n.delete(Yu.key)):Sa.resolve()}))},Pu.prototype.Lr=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Nr("Detected an update time that is in the future: "+t+" > "+n),1))},Pu.prototype.mr=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ar=function(){t.Wn.Sr((function(){return t.inForeground="visible"===t.document.visibilityState,t.Rr()}))},this.document.addEventListener("visibilitychange",this.ar),this.inForeground="visible"===this.document.visibilityState)},Pu.prototype.Wr=function(){this.ar&&(this.document.removeEventListener("visibilitychange",this.ar),this.ar=null)},Pu.prototype.Pr=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.hr=function(){e.Qr(),e.Wn.Sr((function(){return e.Ur()}))},this.window.addEventListener("unload",this.hr))},Pu.prototype.jr=function(){this.hr&&(this.window.removeEventListener("unload",this.hr),this.hr=null)},Pu.prototype.qr=function(t){var e;try{var n=null!==(null===(e=this.Er)||void 0===e?void 0:e.getItem(this.Br(t)));return Ar("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Nr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},Pu.prototype.Qr=function(){if(this.Er)try{this.Er.setItem(this.Br(this.clientId),String(Date.now()))}catch(t){Nr("Failed to set zombie client id.",t)}},Pu.prototype.Kr=function(){if(this.Er)try{this.Er.removeItem(this.Br(this.clientId))}catch(t){}},Pu.prototype.Br=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},Pu);function Pu(t,e,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Wn=i,this.window=o,this.document=s,this.nr=u,this.ir=c,this.rr=null,this.or=!1,this.isPrimary=!1,this.networkEnabled=!0,this.hr=null,this.inForeground=!1,this.ar=null,this.ur=null,this.cr=Number.NEGATIVE_INFINITY,this.lr=function(t){return Promise.resolve()},!Pu._r())throw new Wr(zr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Fi=new Mu(this,r),this.dr=e+Pu.wr,this.serializer=new ru(a),this.Tr=new Eu(this.Fi,this.serializer),this.mn=new $a,this.An=new du(this.serializer,this.mn),this.window&&this.window.localStorage?this.Er=this.window.localStorage:(this.Er=null,!1===c&&Nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function Cu(t,e){var n=this;return(n=Su.call(this)||this).er=t,n.sr=e,n}function Ru(t){return Du.ai(t,Yu.store)}function Lu(t){return Du.ai(t,hc.store)}Du.wr="main";var Mu=(ju.prototype.so=function(t){var e=this.no(t);return this.db.Yr().Ki(t).next((function(t){return e.next((function(e){return t+e}))}))},ju.prototype.no=function(t){var e=0;return this.io(t,(function(t){e++})).next((function(){return e}))},ju.prototype.ye=function(t,e){return this.db.Yr().ye(t,e)},ju.prototype.io=function(t,e){return this.ro(t,(function(t,n){return e(n)}))},ju.prototype.Hi=function(t,e,n){return Uu(t,n)},ju.prototype.Ji=function(t,e,n){return Uu(t,n)},ju.prototype.ji=function(t,e,n){return this.db.Yr().ji(t,e,n)},ju.prototype.oo=function(t,e){return Uu(t,e)},ju.prototype.ho=function(t,e){return r=e,i=!1,zu(n=t).ao((function(t){return qu(n,t,r).next((function(t){return t&&(i=!0),Sa.resolve(!t)}))})).next((function(){return i}));var n,r,i},ju.prototype.uo=function(t,e){var n=this,r=this.db.Jr().Vi(),i=[],o=0;return this.ro(t,(function(s,a){if(a<=e){var u=n.ho(t,s).next((function(e){if(!e)return o++,r._n(t,s).next((function(){return r.ln(s),ku(t).delete([0,Wa(s.path)])}))}));i.push(u)}})).next((function(){return Sa.nn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},ju.prototype.removeTarget=function(t,e){var n=e.X(t.sr);return this.db.Yr().Ui(t,n)},ju.prototype.co=function(t,e){return Uu(t,e)},ju.prototype.ro=function(t,e){var n,r=ku(t),i=Ra.Qn;return r.Ii({index:sc.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Ra.Qn&&e(new ai(Ya(n)),i),i=a,n=s):i=Ra.Qn})).next((function(){i!==Ra.Qn&&e(new ai(Ya(n)),i)}))},ju.prototype.lo=function(t){return this.db.Jr().yi(t)},ju);function ju(t,e){this.db=t,this.eo=new Fc(this,e)}function Uu(t,e){return ku(t).put((n=e,r=t.sr,new sc(0,Wa(n.path),r)));var n,r}var Vu=(Fu.Hr=function(t,e,n,r){return xr(""!==t.uid),new Fu(t.fo()?t.uid:"",e,n,r)},Fu.prototype.do=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gu(t).Ii({index:$u.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},Fu.prototype.wo=function(t,e,n,r){var i=this,o=Hu(t),s=Gu(t);return s.add({}).next((function(a){xr("number"==typeof a);for(var u=new Na(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ho(t.ui,e)})),i=n.mutations.map((function(e){return Ho(t.ui,e)}));return new $u(e,n.batchId,n.Ws.toMillis(),r,i)}(i.serializer,i.userId,u),h=[],l=new Si((function(t,e){return Cr(t.N(),e.N())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Zu.key(i.userId,d.key.path,a);l=l.add(d.key.path.p()),h.push(s.put(c)),h.push(o.put(v,Zu.PLACEHOLDER))}return l.forEach((function(e){h.push(i.mn.ri(t,e))})),t.En((function(){i._o[a]=u.keys()})),Sa.nn(h).next((function(){return u}))}))},Fu.prototype.To=function(t,e){var n=this;return Gu(t).get(e).next((function(t){return t?(xr(t.userId===n.userId),hu(n.serializer,t)):null}))},Fu.prototype.Eo=function(t,e){var n=this;return this._o[e]?Sa.resolve(this._o[e]):this.To(t,e).next((function(t){if(t){var r=t.keys();return n._o[e]=r}return null}))},Fu.prototype.Io=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Gu(t).Ii({index:$u.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(xr(e.batchId>=r),o=hu(n.serializer,e)),i.done()})).next((function(){return o}))},Fu.prototype.Ao=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gu(t).Ii({index:$u.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},Fu.prototype.Ro=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gu(t).hi($u.userMutationsIndex,n).next((function(t){return t.map((function(t){return hu(e.serializer,t)}))}))},Fu.prototype.Vn=function(t,e){var n=this,r=Zu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Hu(t).Ii({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Ya(u);if(a===n.userId&&e.path.isEqual(h))return Gu(t).get(c).next((function(t){if(!t)throw Sr();xr(t.userId===n.userId),o.push(hu(n.serializer,t))}));s.done()})).next((function(){return o}))},Fu.prototype.vn=function(t,e){var n=this,r=new Si(Cr),i=[];return e.forEach((function(e){var o=Zu.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Hu(t).Ii({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Ya(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Sa.nn(i).next((function(){return n.mo(t,r)}))},Fu.prototype.$n=function(t,e){var n=this,r=e.path,i=r.length+1,o=Zu.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Si(Cr);return Hu(t).Ii({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Ya(u);s===n.userId&&r.D(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.mo(t,a)}))},Fu.prototype.mo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Gu(t).get(e).next((function(t){if(null===t)throw Sr();xr(t.userId===n.userId),r.push(hu(n.serializer,t))})))})),Sa.nn(i).next((function(){return r}))},Fu.prototype.Po=function(t,e){var n=this;return Bu(t.er,this.userId,e).next((function(r){return t.En((function(){n.Vo(e.batchId)})),Sa.forEach(r,(function(e){return n.Fi.oo(t,e)}))}))},Fu.prototype.Vo=function(t){delete this._o[t]},Fu.prototype.po=function(t){var e=this;return this.do(t).next((function(n){if(!n)return Sa.resolve();var r=IDBKeyRange.lowerBound(Zu.prefixForUser(e.userId)),i=[];return Hu(t).Ii({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Ya(t[1]);i.push(o)}else r.done()})).next((function(){xr(0===i.length)}))}))},Fu.prototype.tr=function(t,e){return qu(t,this.userId,e)},Fu.prototype.yo=function(t){var e=this;return zu(t).get(this.userId).next((function(t){return t||new Ju(e.userId,-1,"")}))},Fu);function Fu(t,e,n,r){this.userId=t,this.serializer=e,this.mn=n,this.Fi=r,this._o={}}function qu(t,e,n){var r=Zu.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Hu(t).Ii({range:o,Zi:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Bu(t,e,n){var r=t.store($u.store),i=t.store(Zu.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ii({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){xr(1===a)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=Zu.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Sa.nn(o).next((function(){return c}))}function Gu(t){return Du.ai(t,$u.store)}function Hu(t){return Du.ai(t,Zu.store)}function zu(t){return Du.ai(t,Ju.store)}var Wu=10,Ku=(Xu.prototype.createOrUpgrade=function(t,e,n,r){var i=this;xr(n<r&&0<=n&&r<=Wu);var o,s=new wc(e);n<1&&1<=r&&(t.createObjectStore(Yu.store),(o=t).createObjectStore(Ju.store,{keyPath:Ju.keyPath}),o.createObjectStore($u.store,{keyPath:$u.keyPath,autoIncrement:!0}).createIndex($u.userMutationsIndex,$u.userMutationsKeyPath,{unique:!0}),o.createObjectStore(Zu.store),cc(t),t.createObjectStore(rc.store));var a,u=Sa.resolve();return n<3&&3<=r&&(0!==n&&((a=t).deleteObjectStore(sc.store),a.deleteObjectStore(oc.store),a.deleteObjectStore(ac.store),cc(t)),u=u.next((function(){return t=s.store(ac.store),e=new ac(0,0,Qr.min().R(),0),t.put(ac.key,e);var t,e}))),n<4&&4<=r&&(0!==n&&(u=u.next((function(){return e=t,(n=s).store($u.store).hi().next((function(t){e.deleteObjectStore($u.store),e.createObjectStore($u.store,{keyPath:$u.keyPath,autoIncrement:!0}).createIndex($u.userMutationsIndex,$u.userMutationsKeyPath,{unique:!0});var r=n.store($u.store),i=t.map((function(t){return r.put(t)}));return Sa.nn(i)}));var e,n}))),u=u.next((function(){t.createObjectStore(hc.store,{keyPath:hc.keyPath})}))),n<5&&5<=r&&(u=u.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&6<=r&&(u=u.next((function(){return t.createObjectStore(ic.store),i.addDocumentGlobal(s)}))),n<7&&7<=r&&(u=u.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&8<=r&&(u=u.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&9<=r&&(u=u.next((function(){var n,r;(r=t).objectStoreNames.contains("remoteDocumentChanges")&&r.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(rc.store)).createIndex(rc.readTimeIndex,rc.readTimeIndexPath,{unique:!1}),n.createIndex(rc.collectionReadTimeIndex,rc.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(u=u.next((function(){return i.rewriteCanonicalIds(s)}))),u},Xu.prototype.addDocumentGlobal=function(t){var e=0;return t.store(rc.store).Ii((function(t,n){e+=bu(n)})).next((function(){var n=new ic(e);return t.store(ic.store).put(ic.key,n)}))},Xu.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ju.store),r=t.store($u.store);return n.hi().next((function(n){return Sa.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.hi($u.userMutationsIndex,i).next((function(r){return Sa.forEach(r,(function(r){xr(r.userId===n.userId);var i=hu(e.serializer,r);return Bu(t,n.userId,i).next((function(){}))}))}))}))}))},Xu.prototype.ensureSequenceNumbers=function(t){var e=t.store(sc.store),n=t.store(rc.store);return t.store(ac.store).get(ac.key).next((function(t){var r=[];return n.Ii((function(n,i){var o=new Xr(n),s=[0,Wa(o)];r.push(e.get(s).next((function(n){return n?Sa.resolve():(r=o,e.put(new sc(0,Wa(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return Sa.nn(r)}))}))},Xu.prototype.createCollectionParentIndex=function(t,e){function n(t){if(i.add(t)){var e=t.S(),n=t.p();return r.put({collectionId:e,parent:Wa(n)})}}t.createObjectStore(uc.store,{keyPath:uc.keyPath});var r=e.store(uc.store),i=new Ja;return e.store(rc.store).Ii({Zi:!0},(function(t,e){return n(new Xr(t).p())})).next((function(){return e.store(Zu.store).Ii({Zi:!0},(function(t,e){t[0];var r=t[1];return n((t[2],Ya(r)).p())}))}))},Xu.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(oc.store);return n.Ii((function(t,r){var i=lu(r),o=fu(e.serializer,i);return n.put(o)}))},Xu),Qu=function(t,e){this.seconds=t,this.nanoseconds=e},Yu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function Xu(t){this.serializer=t}Yu.store="owner",Yu.key="owner";var Ju=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ju.store="mutationQueues",Ju.keyPath="userId";var $u=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$u.store="mutations",$u.keyPath="batchId",$u.userMutationsIndex="userMutationsIndex",$u.userMutationsKeyPath=["userId","batchId"];var Zu=(tc.prefixForUser=function(t){return[t]},tc.prefixForPath=function(t,e){return[t,Wa(e)]},tc.key=function(t,e,n){return[t,Wa(e),n]},tc);function tc(){}Zu.store="documentMutations",Zu.PLACEHOLDER=new Zu;var ec=function(t,e){this.path=t,this.readTime=e},nc=function(t,e){this.path=t,this.version=e},rc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};rc.store="remoteDocuments",rc.readTimeIndex="readTimeIndex",rc.readTimeIndexPath="readTime",rc.collectionReadTimeIndex="collectionReadTimeIndex",rc.collectionReadTimeIndexPath=["parentPath","readTime"];var ic=function(t){this.byteSize=t};ic.store="remoteDocumentGlobal",ic.key="remoteDocumentGlobalKey";var oc=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};oc.store="targets",oc.keyPath="targetId",oc.queryTargetsIndexName="queryTargetsIndex",oc.queryTargetsKeyPath=["canonicalId","targetId"];var sc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sc.store="targetDocuments",sc.keyPath=["targetId","path"],sc.documentTargetsIndex="documentTargetsIndex",sc.documentTargetsKeyPath=["path","targetId"];var ac=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ac.key="targetGlobalKey",ac.store="targetGlobal";var uc=function(t,e){this.collectionId=t,this.parent=e};function cc(t){t.createObjectStore(sc.store,{keyPath:sc.keyPath}).createIndex(sc.documentTargetsIndex,sc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(oc.store,{keyPath:oc.keyPath}).createIndex(oc.queryTargetsIndexName,oc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ac.store)}uc.store="collectionParents",uc.keyPath=["collectionId","parent"];var hc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};hc.store="clientMetadata",hc.keyPath="clientId";var lc,fc=c(c(c([Ju.store,$u.store,Zu.store,rc.store,oc.store,Yu.store,ac.store,sc.store],[hc.store]),[ic.store]),[uc.store]),pc=(gc.Ir=function(t,e,n){return Ar("SimpleDb","Opening database:",t),new Sa((function(r,i){var o=indexedDB.open(t,e);o.onsuccess=function(t){var e=t.target.result;r(new gc(e))},o.onblocked=function(){i(new Wr(zr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;"VersionError"===e.name?i(new Wr(zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(e)},o.onupgradeneeded=function(e){Ar("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var r=e.target.result;n.createOrUpgrade(r,o.transaction,e.oldVersion,Wu).next((function(){Ar("SimpleDb","Database upgrade to version "+Wu+" complete")}))}})).en()},gc.delete=function(t){return Ar("SimpleDb","Removing database:",t),_c(window.indexedDB.deleteDatabase(t)).en()},gc._r=function(){if("undefined"==typeof indexedDB)return!1;if(gc.vo())return!0;var t=y(),e=gc.bo(t),n=0<e&&e<10,r=gc.So(t),i=0<r&&r<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||i)},gc.vo=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.Do)},gc.ai=function(t,e){return t.store(e)},gc.bo=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},gc.So=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},gc.prototype.br=function(t){this.db.onversionchange=function(e){return t(e)}},gc.prototype.runTransaction=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,s,a;return u(this,(function(c){switch(c.label){case 0:r="readonly"===t,i=0,o=function(){var t,o,a,c,h;return u(this,(function(u){switch(u.label){case 0:++i,t=wc.open(s.db,r?"readonly":"readwrite",e),u.label=1;case 1:return u.trys.push([1,3,,4]),o=n(t).catch((function(e){return t.abort(e),Sa.reject(e)})).en(),a={},o.catch((function(){})),[4,t.Co];case 2:return[2,(a.value=(u.sent(),o),a)];case 3:return c=u.sent(),h="FirebaseError"!==c.name&&i<3,Ar("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,h),h?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},s=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},gc.prototype.close=function(){this.db.close()},gc),dc=(Object.defineProperty(yc.prototype,"Js",{get:function(){return this.No},enumerable:!0,configurable:!0}),Object.defineProperty(yc.prototype,"ko",{get:function(){return this.$o},enumerable:!0,configurable:!0}),Object.defineProperty(yc.prototype,"cursor",{set:function(t){this.Fo=t},enumerable:!0,configurable:!0}),yc.prototype.done=function(){this.No=!0},yc.prototype.Ai=function(t){this.$o=t},yc.prototype.delete=function(){return _c(this.Fo.delete())},yc),vc=(s(mc,lc=Wr),mc);function mc(t){var e=this;return(e=lc.call(this,zr.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",e}function yc(t){this.Fo=t,this.No=!1,this.$o=null}function gc(t){this.db=t,12.2===gc.bo(y())&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function bc(t){return"IndexedDbTransactionError"===t.name}var wc=(Tc.open=function(t,e,n){return new Tc(t.transaction(n,e))},Object.defineProperty(Tc.prototype,"Co",{get:function(){return this.xo.promise},enumerable:!0,configurable:!0}),Tc.prototype.abort=function(t){t&&this.xo.reject(t),this.aborted||(Ar("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},Tc.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ic(e)},Tc),Ic=(Ec.prototype.put=function(t,e){return _c(void 0!==e?(Ar("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Ar("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},Ec.prototype.add=function(t){return Ar("SimpleDb","ADD",this.store.name,t,t),_c(this.store.add(t))},Ec.prototype.get=function(t){var e=this;return _c(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ar("SimpleDb","GET",e.store.name,t,n),n}))},Ec.prototype.delete=function(t){return Ar("SimpleDb","DELETE",this.store.name,t),_c(this.store.delete(t))},Ec.prototype.count=function(){return Ar("SimpleDb","COUNT",this.store.name),_c(this.store.count())},Ec.prototype.hi=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mo(n,(function(t,e){r.push(e)})).next((function(){return r}))},Ec.prototype.Lo=function(t,e){Ar("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Zi=!1;var r=this.cursor(n);return this.Mo(r,(function(t,e,n){return n.delete()}))},Ec.prototype.Ii=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mo(r,e)},Ec.prototype.ao=function(t){var e=this.cursor({});return new Sa((function(n,r){e.onerror=function(t){var e=Nc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},Ec.prototype.Mo=function(t,e){var n=[];return new Sa((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new dc(i),s=e(i.primaryKey,i.value,o);if(s instanceof Sa){var a=s.catch((function(t){return o.done(),Sa.reject(t)}));n.push(a)}o.Js?r():null===o.ko?i.continue():i.continue(o.ko)}else r()}})).next((function(){return Sa.nn(n)}))},Ec.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},Ec.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Zi?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},Ec);function Ec(t){this.store=t}function Tc(t){var e=this;this.transaction=t,this.aborted=!1,this.xo=new Ga,this.transaction.oncomplete=function(){e.xo.resolve()},this.transaction.onabort=function(){t.error?e.xo.reject(new vc(t.error)):e.xo.resolve()},this.transaction.onerror=function(t){var n=Nc(t.target.error);e.xo.reject(new vc(n))}}function _c(t){return new Sa((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Nc(t.target.error);n(e)}}))}var Ac=!1;function Nc(t){var e=pc.bo(y());if(12.2<=e&&e<13){var n="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(n)){var r=new Wr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ac||(Ac=!0,setTimeout((function(){throw r}),0)),r}}return t}function kc(){return"undefined"!=typeof window?window:null}var Sc=(Dc.Qo=function(t,e,n,r,i){var o=new Dc(t,e,Date.now()+n,r,i);return o.start(n),o},Dc.prototype.start=function(t){var e=this;this.Wo=setTimeout((function(){return e.jo()}),t)},Dc.prototype.ni=function(){return this.jo()},Dc.prototype.cancel=function(t){null!==this.Wo&&(this.clearTimeout(),this.Uo.reject(new Wr(zr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Dc.prototype.jo=function(){var t=this;this.Oo.Sr((function(){return null!==t.Wo?(t.clearTimeout(),t.op().then((function(e){return t.Uo.resolve(e)}))):Promise.resolve()}))},Dc.prototype.clearTimeout=function(){null!==this.Wo&&(this.qo(this),clearTimeout(this.Wo),this.Wo=null)},Dc),xc=(Object.defineProperty(Oc.prototype,"eh",{get:function(){return this.zo},enumerable:!0,configurable:!0}),Oc.prototype.Sr=function(t){this.enqueue(t)},Oc.prototype.sh=function(t){this.nh(),this.ih(t)},Oc.prototype.rh=function(t){return this.nh(),this.ih(t)},Oc.prototype.oh=function(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return this.nh(),this.zo?[3,2]:(this.zo=!0,(e=kc())&&e.removeEventListener("visibilitychange",this.th),[4,this.rh(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},Oc.prototype.enqueue=function(t){return this.nh(),this.zo?new Promise((function(t){})):this.ih(t)},Oc.prototype.Cr=function(t){var e=this;this.nh(),this.zo||(this.Go=this.Go.then((function(){var n=new Ga,r=function(){return a(e,void 0,void 0,(function(){var e;return u(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return i.sent(),n.resolve(),this.Zo.reset(),[3,3];case 2:if(!bc(e=i.sent()))throw n.resolve(),e;return Ar("AsyncQueue","Operation failed with retryable error: "+e),this.Zo.Zn(r),[3,3];case 3:return[2]}}))}))};return e.Sr(r),n.promise})))},Oc.prototype.ih=function(t){var e=this,n=this.Ko.then((function(){return e.Jo=!0,t().catch((function(t){throw e.Yo=t,e.Jo=!1,Nr("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.Jo=!1,t}))}));return this.Ko=n},Oc.prototype.ei=function(t,e,n){var r=this;this.nh(),-1<this.Xo.indexOf(t)&&(e=0);var i=Sc.Qo(this,t,e,n,(function(t){return r.hh(t)}));return this.Ho.push(i),i},Oc.prototype.nh=function(){this.Yo&&Sr()},Oc.prototype.ah=function(){},Oc.prototype.uh=function(){return a(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return[4,t=this.Ko];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ko)return[3,0];e.label=3;case 3:return[2]}}))}))},Oc.prototype.lh=function(t){for(var e=0,n=this.Ho;e<n.length;e++)if(n[e].jn===t)return!0;return!1},Oc.prototype._h=function(t){var e=this;return this.uh().then((function(){e.Ho.sort((function(t,e){return t.Bo-e.Bo}));for(var n=0,r=e.Ho;n<r.length;n++){var i=r[n];if(i.ni(),"all"!==t&&i.jn===t)break}return e.uh()}))},Oc.prototype.fh=function(t){this.Xo.push(t)},Oc.prototype.hh=function(t){var e=this.Ho.indexOf(t);this.Ho.splice(e,1)},Oc);function Oc(){var t=this;this.Ko=Promise.resolve(),this.Go=Promise.resolve(),this.zo=!1,this.Ho=[],this.Yo=null,this.Jo=!1,this.Xo=[],this.Zo=new Ha(this,"async_queue_retry"),this.th=function(){return t.Zo.si()};var e=kc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.th)}function Dc(t,e,n,r,i){this.Oo=t,this.jn=e,this.Bo=n,this.op=r,this.qo=i,this.Uo=new Ga,this.then=this.Uo.promise.then.bind(this.Uo.promise),this.Uo.promise.catch((function(t){}))}function Pc(t,e){if(Nr("AsyncQueue",e+": "+t),bc(t))return new Wr(zr.UNAVAILABLE,e+": "+t);throw t}function Cc(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Cr(n,i);return 0===s?Cr(r,o):s}var Rc=(Uc.prototype.Th=function(){return++this.wh},Uc.prototype.Eh=function(t){var e=[t,this.Th()];if(this.buffer.size<this.dh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Cc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(Uc.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Uc),Lc={Ih:!1,Ah:0,Rh:0,mh:0},Mc=(jc.ph=function(t){return new jc(t,jc.yh,jc.bh)},jc);function jc(t,e,n){this.Ph=t,this.Vh=e,this.gh=n}function Uc(t){this.dh=t,this.buffer=new Si(Cc),this.wh=0}Mc.vh=-1,Mc.Sh=1048576,Mc.Dh=41943040,Mc.yh=10,Mc.bh=1e3,Mc.Ch=new Mc(Mc.Dh,Mc.yh,Mc.bh),Mc.DISABLED=new Mc(Mc.vh,0,0);var Vc=(Hc.prototype.start=function(t){this.eo.$h.Ph!==Mc.vh&&this.kh(t)},Hc.prototype.stop=function(){this.Nh&&(this.Nh.cancel(),this.Nh=null)},Object.defineProperty(Hc.prototype,"pr",{get:function(){return null!==this.Nh},enumerable:!0,configurable:!0}),Hc.prototype.kh=function(t){var e=this,n=this.Fh?3e5:6e4;Ar("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Nh=this.Oo.ei("lru_garbage_collection",n,(function(){return a(e,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:this.Nh=null,this.Fh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.xh(this.eo)];case 2:return n.sent(),[3,7];case 3:return bc(e=n.sent())?(Ar("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Qc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.kh(t)];case 8:return n.sent(),[2]}}))}))}))},Hc),Fc=(Gc.prototype.Lh=function(t,e){return this.Mh.so(t).next((function(t){return Math.floor(e/100*t)}))},Gc.prototype.Oh=function(t,e){var n=this;if(0===e)return Sa.resolve(Ra.Qn);var r=new Rc(e);return this.Mh.ye(t,(function(t){return r.Eh(t.sequenceNumber)})).next((function(){return n.Mh.io(t,(function(t){return r.Eh(t)}))})).next((function(){return r.maxValue}))},Gc.prototype.ji=function(t,e,n){return this.Mh.ji(t,e,n)},Gc.prototype.uo=function(t,e){return this.Mh.uo(t,e)},Gc.prototype.Bh=function(t,e){var n=this;return this.$h.Ph===Mc.vh?(Ar("LruGarbageCollector","Garbage collection skipped; disabled"),Sa.resolve(Lc)):this.lo(t).next((function(r){return r<n.$h.Ph?(Ar("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.$h.Ph),Lc):n.qh(t,e)}))},Gc.prototype.lo=function(t){return this.Mh.lo(t)},Gc.prototype.qh=function(t,e){var n,i,o,s,a,u,c,h=this,l=Date.now();return this.Lh(t,this.$h.Vh).next((function(e){return i=e>h.$h.gh?(Ar("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.$h.gh+" from "+e),h.$h.gh):e,s=Date.now(),h.Oh(t,i)})).next((function(r){return n=r,a=Date.now(),h.ji(t,n,e)})).next((function(e){return o=e,u=Date.now(),h.uo(t,n)})).next((function(t){return c=Date.now(),_r()<=r.DEBUG&&Ar("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+i+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),Sa.resolve({Ih:!0,Ah:i,Rh:o,mh:t})}))},Gc),qc=(Bc.prototype.start=function(){return Promise.resolve()},Bc.prototype.Hh=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i=this;return u(this,(function(o){switch(o.label){case 0:return e=this.Rn,n=this.Gh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var o;return i.Rn.Ro(r).next((function(s){return o=s,e=i.persistence.zr(t),n=new Pa(i.Kh,e,i.persistence.Xr()),e.Ro(r)})).next((function(t){for(var e=[],i=[],s=Vi(),a=0,u=o;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var m=0,y=v.mutations;m<y.length;m++){var g=y[m];s=s.add(g.key)}}return n.yn(r,s).next((function(t){return{Yh:t,Jh:e,Xh:i}}))}))}))];case 1:return r=o.sent(),[2,(this.Rn=e,this.Gh=n,this.Uh.zh(this.Gh),r)]}}))}))},Bc.prototype.Zh=function(t){var e,n=this,r=Kr.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Vi());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Gh.yn(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],h=c.Ze(e.get(c.key));null!=h&&s.push(new bs(c.key,h,Ms(h.proto.mapValue),ms.exists(!0)))}return n.Rn.wo(o,r,s,t)}))})).then((function(t){var n=t.Ks(e);return{batchId:t.batchId,on:n}}))},Bc.prototype.ta=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Kh.Vi({pi:!0});return e.ea(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.Rn.po(n)})).next((function(){return e.Gh.yn(n,r)}))}))},Bc.prototype.sa=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Rn.To(n,t).next((function(t){return xr(null!==t),r=t.keys(),e.Rn.Po(n,t)})).next((function(){return e.Rn.po(n)})).next((function(){return e.Gh.yn(n,r)}))}))},Bc.prototype.Ao=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Rn.Ao(e)}))},Bc.prototype.xi=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Tr.xi(e)}))},Bc.prototype.na=function(t){var e=this,n=t.J,r=this.Qh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(i){var o=e.Kh.Vi({pi:!0});r=e.Qh;var s=[];t.Qt.forEach((function(t,o){var a=r.get(o);if(a){s.push(e.Tr.Yi(i,t.Xt,o).next((function(){return e.Tr.zi(i,t.Yt,o)})));var u=t.resumeToken;if(0<u.G()){var c=a.Z(u,n).X(i.sr);r=r.et(o,c),Bc.ia(a,c,t)&&s.push(e.Tr.Ui(i,c))}}}));var a=Ci(),u=Vi();if(t.jt.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(i,u).next((function(r){t.jt.forEach((function(u,c){var h=r.get(u);c instanceof Qs&&c.version.isEqual(Qr.min())?(o.ln(u,n),a=a.et(u,c)):null==h||0<c.version.o(h.version)||0===c.version.o(h.version)&&h.hasPendingWrites?(o.un(c,n),a=a.et(u,c)):Ar("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version),t.Kt.has(u)&&s.push(e.persistence.Fi.co(i,u))}))}))),!n.isEqual(Qr.min())){var c=e.Tr.xi(i).next((function(t){return e.Tr.Li(i,i.sr,n)}));s.push(c)}return Sa.nn(s).next((function(){return o.apply(i)})).next((function(){return e.Gh.bn(i,a)}))})).then((function(t){return e.Qh=r,t}))},Bc.ia=function(t,e,n){return xr(0<e.resumeToken.G()),0===t.resumeToken.G()||e.J.A()-t.J.A()>=this.ra||0<n.Yt.size+n.Jt.size+n.Xt.size},Bc.prototype.oa=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,h=this;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Sa.forEach(t,(function(t){return Sa.forEach(t.xn,(function(n){return h.persistence.Fi.Hi(e,t.targetId,n)})).next((function(){return Sa.forEach(t.Mn,(function(n){return h.persistence.Fi.Ji(e,t.targetId,n)}))}))}))}))];case 1:return u.sent(),[3,3];case 2:if(!bc(e=u.sent()))throw e;return Ar("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)i=r[n],o=i.targetId,i.fromCache||(s=this.Qh.get(o),a=s.J,c=s.tt(a),this.Qh=this.Qh.et(o,c));return[2]}}))}))},Bc.prototype.ha=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Rn.Io(n,t)}))},Bc.prototype.aa=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Gh.Pn(n,t)}))},Bc.prototype.ua=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Tr.Gi(n,t).next((function(i){return i?(r=i,Sa.resolve(r)):e.Tr.Ni(n).next((function(i){return r=new yi(t,i,0,n.sr),e.Tr.Oi(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.Qh.get(n.targetId);return(null===r||0<n.J.o(r.J))&&(e.Qh=e.Qh.et(n.targetId,n),e.Wh.set(t,n.targetId)),n}))},Bc.prototype.Gi=function(t,e){var n=this.Wh.get(e);return void 0!==n?Sa.resolve(this.Qh.get(n)):this.Tr.Gi(t,e)},Bc.prototype.ca=function(t,e){var n=this,r=this.Qh.get(t),i=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",i,(function(t){return e?Sa.resolve():n.persistence.Fi.removeTarget(t,r)})).then((function(){n.Qh=n.Qh.remove(t),n.Wh.delete(r.target)}))},Bc.prototype.la=function(t,e){var n=this,r=Qr.min(),i=Vi();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Gi(o,t.We()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Tr.Xi(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Uh.Sn(o,t,e?r:Qr.min(),e?i:Vi())})).next((function(t){return{documents:t,_a:i}}))}))},Bc.prototype.ea=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Sa.resolve();return o.forEach((function(r){s=s.next((function(){return n._n(t,r)})).next((function(t){var o=t,s=e.zs.get(r);xr(null!==s),(!o||o.version.o(s)<0)&&(o=i.Ke(r,o,e))&&n.un(o,e.Gs)}))})),s.next((function(){return r.Rn.Po(t,i)}))},Bc.prototype.xh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Bh(n,e.Qh)}))},Bc);function Bc(t,e,n){this.persistence=t,this.Uh=e,this.Qh=new Ii(Cr),this.Wh=new Hr((function(t){return Ta(t)}),_a),this.jh=Qr.min(),this.Rn=t.zr(n),this.Kh=t.Jr(),this.Tr=t.Yr(),this.Gh=new Pa(this.Kh,this.Rn,this.persistence.Xr()),this.Uh.zh(this.Gh)}function Gc(t,e){this.Mh=t,this.$h=e}function Hc(t,e){this.eo=t,this.Oo=e,this.Fh=!1,this.Nh=null}qc.ra=3e8;var zc,Wc=(s(Kc,zc=qc),Kc.prototype.start=function(){return this.fa()},Kc.prototype.da=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Rn.Eo(n,t).next((function(t){return t?e.Gh.yn(n,t):Sa.resolve(null)}))}))},Kc.prototype.wa=function(t){this.Rn.Vo(t)},Kc.prototype.vr=function(t){this.persistence.vr(t)},Kc.prototype.Gr=function(){return this.persistence.Gr()},Kc.prototype.Ta=function(t){var e=this,n=this.Qh.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Tr.Me(n,t).next((function(t){return t?t.target:null}))}))},Kc.prototype.Ri=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Kh.Ri(e,t.jh)})).then((function(e){var n=e.mi,r=e.readTime;return t.jh=r,n}))},Kc.prototype.fa=function(){return a(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){switch(n.label){case 0:return[4,(t=this).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Kh.Pi(t)}))];case 1:return t.jh=n.sent(),[2]}}))}))},Kc);function Kc(t,e,n){var r=this;return(r=zc.call(this,t,e,n)||this).persistence=t,r.Rn=t.zr(n),r.Kh=t.Jr(),r.Tr=t.Yr(),r}function Qc(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){if(t.code!==zr.FAILED_PRECONDITION||t.message!==Oa)throw t;return Ar("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Yc=($c.prototype._=function(){return this.Ea._()},$c.prototype.Hi=function(t,e){var n=new Xc(t,e);this.Ea=this.Ea.add(n),this.Aa=this.Aa.add(n)},$c.prototype.ma=function(t,e){var n=this;t.forEach((function(t){return n.Hi(t,e)}))},$c.prototype.Ji=function(t,e){this.Pa(new Xc(t,e))},$c.prototype.Va=function(t,e){var n=this;t.forEach((function(t){return n.Ji(t,e)}))},$c.prototype.ga=function(t){var e=this,n=ai.EMPTY,r=new Xc(n,t),i=new Xc(n,t+1),o=[];return this.Aa.vt([r,i],(function(t){e.Pa(t),o.push(t.key)})),o},$c.prototype.pa=function(){var t=this;this.Ea.forEach((function(e){return t.Pa(e)}))},$c.prototype.Pa=function(t){this.Ea=this.Ea.delete(t),this.Aa=this.Aa.delete(t)},$c.prototype.ya=function(t){var e=ai.EMPTY,n=new Xc(e,t),r=new Xc(e,t+1),i=Vi();return this.Aa.vt([n,r],(function(t){i=i.add(t.key)})),i},$c.prototype.tr=function(t){var e=new Xc(t,0),n=this.Ea.Dt(e);return null!==n&&t.isEqual(n.key)},$c),Xc=(Jc.Ia=function(t,e){return ai.P(t.key,e.key)||Cr(t.ba,e.ba)},Jc.Ra=function(t,e){return Cr(t.ba,e.ba)||ai.P(t.key,e.key)},Jc);function Jc(t,e){this.key=t,this.ba=e}function $c(){this.Ea=new Si(Xc.Ia),this.Aa=new Si(Xc.Ra)}function Zc(t,e){if(0!==e.length)throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+yh(e.length,"argument")+".")}function th(t,e,n){if(e.length!==n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() requires "+yh(n,"argument")+", but was called with "+yh(e.length,"argument")+".")}function eh(t,e,n){if(e.length<n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() requires at least "+yh(n,"argument")+", but was called with "+yh(e.length,"argument")+".")}function nh(t,e,n,r){if(e.length<n||e.length>r)throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+yh(e.length,"argument")+".")}function rh(t,e,n,r){ch(t,e,mh(n)+" argument",r)}function ih(t,e,n,r){void 0!==r&&rh(t,e,n,r)}function oh(t,e,n,r){ch(t,e,n+" option",r)}function sh(t,e,n,r){void 0!==r&&oh(t,e,n,r)}function ah(t,e,n,r,i){void 0!==r&&function(t,e,n){for(var r=[],o=0,s=i;o<s.length;o++){var a=s[o];if(a===n)return;r.push(lh(a))}var u=lh(n);throw new Wr(zr.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+e+'". Acceptable values: '+r.join(", "))}(t,n,r)}function uh(t,e,n,r){if(!e.some((function(t){return t===r})))throw new Wr(zr.INVALID_ARGUMENT,"Invalid value "+lh(r)+" provided to function "+t+"() for its "+mh(n)+" argument. Acceptable values: "+e.join(", "));return r}function ch(t,e,n,r){if(!("object"===e?hh(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=lh(r);throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function hh(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function lh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Sr();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function fh(t,e,n){if(void 0===n)throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+mh(e)+" argument, but it was undefined.")}function ph(t,e,n){Fr(e,(function(e,r){if(n.indexOf(e)<0)throw new Wr(zr.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function dh(t,e,n,r){var i=lh(r);return new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() requires its "+mh(n)+" argument to be a "+e+", but it was: "+i)}function vh(t,e,n){if(n<=0)throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() requires its "+mh(e)+" argument to be a positive number, but it was: "+n+".")}function mh(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function yh(t,e){return t+" "+e+(1===t?"":"s")}function gh(){if("undefined"==typeof Uint8Array)throw new Wr(zr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function bh(){if("undefined"==typeof atob)throw new Wr(zr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function wh(t){!function(){if(!(t instanceof Array)||t.length<1)throw new Wr(zr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least 1 element.")}();for(var e=0;e<t.length;++e)if(rh("FieldPath","string",e,t[e]),0===t[e].length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Sa=new oi(t)}var Ih,Eh=(Ah.fromBase64String=function(t){th("Blob.fromBase64String",arguments,1),rh("Blob.fromBase64String","string",1,t),bh();try{return new Ah(fi.fromBase64String(t))}catch(t){throw new Wr(zr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},Ah.fromUint8Array=function(t){if(th("Blob.fromUint8Array",arguments,1),gh(),!(t instanceof Uint8Array))throw dh("Blob.fromUint8Array","Uint8Array",1,t);return new Ah(fi.fromUint8Array(t))},Ah.prototype.toBase64=function(){return th("Blob.toBase64",arguments,0),bh(),this.va.toBase64()},Ah.prototype.toUint8Array=function(){return th("Blob.toUint8Array",arguments,0),gh(),this.va.toUint8Array()},Ah.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Ah.prototype.isEqual=function(t){return this.va.isEqual(t.va)},Ah),Th=(s(_h,Ih=wh),_h.documentId=function(){return _h.Da},_h.prototype.isEqual=function(t){if(!(t instanceof _h))throw dh("isEqual","FieldPath",1,t);return this.Sa.isEqual(t.Sa)},_h);function _h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ih.call(this,t)||this}function Ah(t){bh(),this.va=t}Th.Da=new Th(oi.O().N());var Nh,kh,Sh,xh,Oh,Dh,Ph,Ch=new RegExp("[~\\*/\\[\\]]"),Rh=function(){this.Ca=this},Lh=(s(Xh,Ph=Rh),Xh.prototype.Na=function(t){if(2!==t.$a)throw 1===t.$a?t.ka(this.Fa+"() can only appear at the top level of your update data"):t.ka(this.Fa+"() cannot be used with set() unless you pass {merge:true}");return t.Oe.push(t.path),null},Xh.prototype.isEqual=function(t){return t instanceof Xh},Xh),Mh=(s(Yh,Dh=Rh),Yh.prototype.Na=function(t){return new vs(t.path,Zo.instance)},Yh.prototype.isEqual=function(t){return t instanceof Yh},Yh),jh=(s(Qh,Oh=Rh),Qh.prototype.Na=function(t){var e=new ol({$a:3,methodName:this.Fa,Ma:!0},t.s,t.serializer,t.ignoreUndefinedProperties),n=this.xa.map((function(t){return cl(t,e)})),r=new es(n);return new vs(t.path,r)},Qh.prototype.isEqual=function(t){return this===t},Qh),Uh=(s(Kh,xh=Rh),Kh.prototype.Na=function(t){var e=new ol({$a:3,methodName:this.Fa,Ma:!0},t.s,t.serializer,t.ignoreUndefinedProperties),n=this.xa.map((function(t){return cl(t,e)})),r=new ns(n);return new vs(t.path,r)},Kh.prototype.isEqual=function(t){return this===t},Kh),Vh=(s(Wh,Sh=Rh),Wh.prototype.Na=function(t){var e=new ol({$a:3,methodName:this.Fa},t.s,t.serializer,t.ignoreUndefinedProperties),n=cl(this.La,e),r=new rs(t.serializer,n);return new vs(t.path,r)},Wh.prototype.isEqual=function(t){return this===t},Wh),Fh=(s(zh,kh=Rh),zh.delete=function(){return Zc("FieldValue.delete",arguments),new qh(new Lh("FieldValue.delete"))},zh.serverTimestamp=function(){return Zc("FieldValue.serverTimestamp",arguments),new qh(new Mh("FieldValue.serverTimestamp"))},zh.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return eh("FieldValue.arrayUnion",arguments,1),new qh(new jh("FieldValue.arrayUnion",t))},zh.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return eh("FieldValue.arrayRemove",arguments,1),new qh(new Uh("FieldValue.arrayRemove",t))},zh.increment=function(t){return rh("FieldValue.increment","number",1,t),th("FieldValue.increment",arguments,1),new qh(new Vh("FieldValue.increment",t))},zh),qh=(s(Hh,Nh=Fh),Hh.prototype.Na=function(t){return this.Ca.Na(t)},Hh.prototype.isEqual=function(t){return t instanceof Hh&&this.Ca.isEqual(t.Ca)},Hh),Bh=(Object.defineProperty(Gh.prototype,"latitude",{get:function(){return this.Oa},enumerable:!0,configurable:!0}),Object.defineProperty(Gh.prototype,"longitude",{get:function(){return this.Ba},enumerable:!0,configurable:!0}),Gh.prototype.isEqual=function(t){return this.Oa===t.Oa&&this.Ba===t.Ba},Gh.prototype.T=function(t){return Cr(this.Oa,t.Oa)||Cr(this.Ba,t.Ba)},Gh);function Gh(t,e){if(th("GeoPoint",arguments,2),rh("GeoPoint","number",1,t),rh("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new Wr(zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Wr(zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Oa=t,this.Ba=e}function Hh(t){var e=this;return(e=Nh.call(this)||this).Ca=t,e.Fa=t.Fa,e}function zh(){return null!==kh&&kh.apply(this,arguments)||this}function Wh(t,e){var n=this;return(n=Sh.call(this)||this).Fa=t,n.La=e,n}function Kh(t,e){var n=this;return(n=xh.call(this)||this).Fa=t,n.xa=e,n}function Qh(t,e){var n=this;return(n=Oh.call(this)||this).Fa=t,n.xa=e,n}function Yh(t){var e=this;return(e=Dh.call(this)||this).Fa=t,e}function Xh(t){var e=this;return(e=Ph.call(this)||this).Fa=t,e}function Jh(t){return new So(t,!0)}var $h=/^__.*__$/,Zh=function(t,e,n){this.qa=t,this.Ua=e,this.Qa=n},tl=(rl.prototype.Wa=function(t,e){var n=[];return null!==this.Oe?n.push(new bs(t,this.data,this.Oe,e)):n.push(new gs(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new ws(t,this.fieldTransforms)),n},rl),el=(nl.prototype.Wa=function(t,e){var n=[new bs(t,this.data,this.Oe,e)];return 0<this.fieldTransforms.length&&n.push(new ws(t,this.fieldTransforms)),n},nl);function nl(t,e,n){this.data=t,this.Oe=e,this.fieldTransforms=n}function rl(t,e,n){this.data=t,this.Oe=e,this.fieldTransforms=n}function il(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Sr()}}var ol=(Object.defineProperty(ul.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(ul.prototype,"$a",{get:function(){return this.settings.$a},enumerable:!0,configurable:!0}),ul.prototype.Ka=function(t){return new ul(Object.assign(Object.assign({},this.settings),t),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Oe)},ul.prototype.Ga=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ka({path:n,Ma:!1});return r.za(t),r},ul.prototype.Ha=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ka({path:n,Ma:!1});return r.ja(),r},ul.prototype.Ya=function(t){return this.Ka({path:void 0,Ma:!0})},ul.prototype.ka=function(t){var e=!this.path||this.path._()?"":" (found in field "+this.path.toString()+")";return new Wr(zr.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},ul.prototype.contains=function(t){return void 0!==this.Oe.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},ul.prototype.ja=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.za(this.path.get(t))},ul.prototype.za=function(t){if(0===t.length)throw this.ka("Document fields must not be empty");if(il(this.$a)&&$h.test(t))throw this.ka('Document fields cannot begin and end with "__"')},ul),sl=(al.prototype.Ja=function(t,e,n){void 0===n&&(n={});var r=this.Xa(n.merge||n.mergeFields?2:0,t);fl("Data must be an object, but it was:",r,e);var i,o,s=hl(e,r);if(n.merge)i=new ds(r.Oe),o=r.fieldTransforms;else if(n.mergeFields){for(var a=[],u=0,c=n.mergeFields;u<c.length;u++){var h=c[u],l=void 0;if(h instanceof wh)l=h.Sa;else{if("string"!=typeof h)throw Sr();l=dl(t,h)}if(!r.contains(l))throw new Wr(zr.INVALID_ARGUMENT,"Field '"+l+"' is specified in your field mask but missing from your input data.");vl(a,l)||a.push(l)}i=new ds(a),o=r.fieldTransforms.filter((function(t){return i.ze(t.field)}))}else i=null,o=r.fieldTransforms;return new tl(new Ts(s),i,o)},al.prototype.Za=function(t,e){var n=this.Xa(1,t);fl("Data must be an object, but it was:",n,e);var r=[],i=new _s;Fr(e,(function(e,o){var s=dl(t,e),a=n.Ha(s);if(o instanceof Rh&&o.Ca instanceof Lh)r.push(s);else{var u=cl(o,a);null!=u&&(r.push(s),i.set(s,u))}}));var o=new ds(r);return new el(i.ss(),o,n.fieldTransforms)},al.prototype.tu=function(t,e,n,r){var i=this.Xa(1,t),o=[pl(t,e)],s=[n];if(r.length%2!=0)throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(pl(t,r[a])),s.push(r[a+1]);for(var u=[],c=new _s,h=o.length-1;0<=h;--h)if(!vl(u,o[h])){var l=o[h],f=s[h],p=i.Ha(l);if(f instanceof Rh&&f.Ca instanceof Lh)u.push(l);else{var d=cl(f,p);null!=d&&(u.push(l),c.set(l,d))}}var v=new ds(u);return new el(c.ss(),v,i.fieldTransforms)},al.prototype.Xa=function(t,e){return new ol({$a:t,methodName:e,path:oi.k,Ma:!1},this.s,this.serializer,this.ignoreUndefinedProperties)},al.prototype.eu=function(t,e,n){return void 0===n&&(n=!1),cl(e,this.Xa(n?4:3,t))},al);function al(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||Jh(t)}function ul(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ja(),this.fieldTransforms=i||[],this.Oe=o||[]}function cl(t,e){if(ll(t))return fl("Unsupported field value:",e,t),hl(t,e);if(t instanceof Rh)return function(t,e){if(!il(e.$a))throw e.ka(t.Fa+"() can only be used with update() and set()");if(!e.path)throw e.ka(t.Fa+"() is not currently supported inside arrays");var n=t.Na(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Oe.push(e.path),t instanceof Array){if(e.settings.Ma&&4!==e.$a)throw e.ka("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=cl(o[i],e.Ya(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return n=e.serializer,li(r=t)?xo(r):Oo(n,r);var n,r;if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var i=Kr.fromDate(t);return{timestampValue:Do(e.serializer,i)}}if(t instanceof Kr){var o=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Do(e.serializer,o)}}if(t instanceof Bh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Eh)return{bytesValue:Po(e.serializer,t)};if(t instanceof Zh){var s=e.s,a=t.qa;if(!a.isEqual(s))throw e.ka("Document reference is for database "+a.projectId+"/"+a.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:Lo(t.qa||e.s,t.Ua.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.ka("Unsupported field value: "+lh(t))}(t,e)}function hl(t,e){var n={};return qr(t)?e.path&&0<e.path.length&&e.Oe.push(e.path):Fr(t,(function(t,r){var i=cl(r,e.Ga(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function ll(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Kr||t instanceof Bh||t instanceof Eh||t instanceof Zh||t instanceof Rh)}function fl(t,e,n){if(!ll(n)||!hh(n)){var r=lh(n);throw"an object"===r?e.ka(t+" a custom object"):e.ka(t+" "+r)}}function pl(t,e){if(e instanceof wh)return e.Sa;if("string"==typeof e)return dl(t,e);throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function dl(t,e){try{return function(t){if(0<=t.search(Ch))throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Th.bind.apply(Th,c([void 0],t.split("."))))}catch(e){throw new Wr(zr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Sa}catch(e){var n=e instanceof Error?e.message:e.toString();throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function vl(t,e){return t.some((function(t){return t.isEqual(e)}))}var ml=(yl.prototype.fo=function(){return null!=this.uid},yl.prototype.su=function(){return this.fo()?"uid:"+this.uid:"anonymous-user"},yl.prototype.isEqual=function(t){return t.uid===this.uid},yl);function yl(t){this.uid=t}function gl(t,e){this.user=e,this.type="OAuth",this.ru={},this.ru.Authorization="Bearer "+t}ml.UNAUTHENTICATED=new ml(null),ml.nu=new ml("google-credentials-uid"),ml.iu=new ml("first-party-uid");var bl,wl,Il,El=(Gl.prototype.getToken=function(){return Promise.resolve(null)},Gl.prototype.hu=function(){},Gl.prototype.au=function(t){(this.ou=t)(ml.UNAUTHENTICATED)},Gl.prototype.uu=function(){this.ou=null},Gl),Tl=(Bl.prototype.getToken=function(){var t=this,e=this._u,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t._u!==e?(Ar("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xr("string"==typeof n.accessToken),new gl(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},Bl.prototype.hu=function(){this.forceRefresh=!0},Bl.prototype.au=function(t){this.ou=t,this.lu&&t(this.currentUser)},Bl.prototype.uu=function(){this.auth&&this.auth.removeAuthTokenListener(this.cu),this.cu=null,this.ou=null},Bl.prototype.fu=function(){var t=this.auth&&this.auth.getUid();return xr(null===t||"string"==typeof t),new ml(t)},Bl),_l=(Object.defineProperty(ql.prototype,"ru",{get:function(){var t={"X-Goog-AuthUser":this.wu},e=this.du.auth.Tu([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),ql),Al=(Fl.prototype.getToken=function(){return Promise.resolve(new _l(this.du,this.wu))},Fl.prototype.au=function(t){t(ml.iu)},Fl.prototype.uu=function(){},Fl.prototype.hu=function(){},Fl),Nl=(Vl.prototype.Pu=function(){return 1===this.state||2===this.state||4===this.state},Vl.prototype.Vu=function(){return 2===this.state},Vl.prototype.start=function(){3!==this.state?this.auth():this.gu()},Vl.prototype.stop=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Pu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Vl.prototype.pu=function(){this.state=0,this.Zo.reset()},Vl.prototype.yu=function(){var t=this;this.Vu()&&null===this.mu&&(this.mu=this.Wn.ei(this.Eu,6e4,(function(){return t.bu()})))},Vl.prototype.vu=function(t){this.Su(),this.stream.send(t)},Vl.prototype.bu=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){return this.Vu()?[2,this.close(0)]:[2]}))}))},Vl.prototype.Su=function(){this.mu&&(this.mu.cancel(),this.mu=null)},Vl.prototype.close=function(t,e){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return this.Su(),this.Zo.cancel(),this.Ru++,3!==t?this.Zo.reset():e&&e.code===zr.RESOURCE_EXHAUSTED?(Nr(e.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.Zo.Xn()):e&&e.code===zr.UNAUTHENTICATED&&this.Au.hu(),null!==this.stream&&(this.Du(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Cu(e)];case 1:return n.sent(),[2]}}))}))},Vl.prototype.Du=function(){},Vl.prototype.auth=function(){var t=this;this.state=1;var e=this.Fu(this.Ru),n=this.Ru;this.Au.getToken().then((function(e){t.Ru===n&&t.Nu(e)}),(function(n){e((function(){var e=new Wr(zr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.$u(e)}))}))},Vl.prototype.Nu=function(t){var e=this,n=this.Fu(this.Ru);this.stream=this.ku(t),this.stream.xu((function(){n((function(){return e.state=2,e.listener.xu()}))})),this.stream.Cu((function(t){n((function(){return e.$u(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},Vl.prototype.gu=function(){var t=this;this.state=4,this.Zo.Zn((function(){return a(t,void 0,void 0,(function(){return u(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},Vl.prototype.$u=function(t){return Ar("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},Vl.prototype.Fu=function(t){var e=this;return function(n){e.Wn.Sr((function(){return e.Ru===t?n():(Ar("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},Vl),kl=(s(Ul,Il=Nl),Ul.prototype.ku=function(t){return this.Iu.Mu("Listen",t)},Ul.prototype.onMessage=function(t){this.Zo.reset();var e=function(t,e){var n,r,i,o;if("targetChange"in e){e.targetChange;var s="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:Sr(),a=e.targetChange.targetIds||[],u=Co(t,e.targetChange.resumeToken),c=e.targetChange.cause;n=new Hi(s,a,u,c&&(i=void 0===(r=c).code?zr.UNKNOWN:wi(r.code),new Wr(i,r.message||""))||null)}else if("documentChange"in e){e.documentChange;var h=e.documentChange;h.document,h.document.name,h.document.updateTime;var l=Uo(t,h.document.name),f=Ro(h.document.updateTime),p=new Ts({mapValue:{fields:h.document.fields}}),d=new Ks(l,f,p,{});n=new Bi(h.targetIds||[],h.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var m=Uo(t,v.document),y=v.readTime?Ro(v.readTime):Qr.min(),g=new Qs(m,y);n=new Bi([],v.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){e.documentRemove;var b=e.documentRemove;b.document;var w=Uo(t,b.document);n=new Bi([],b.removedTargetIds||[],w,null)}else{if(!("filter"in e))return Sr();e.filter;var I=e.filter;I.targetId;var E=new di(I.count||0);n=new Gi(I.targetId,E)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Qr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?Qr.min():Ro(e.readTime)}(t);return this.listener.Lu(e,n)},Ul.prototype.Ou=function(t){var e,n,r,i,o={};o.database=qo(this.serializer),o.addTarget=(e=this.serializer,(r=Aa(i=(n=t).target)?{documents:Wo(e,i)}:{query:Ko(e,i)}).targetId=n.targetId,0<n.resumeToken.G()&&(r.resumeToken=Po(e,n.resumeToken)),r);var s,a,u=(this.serializer,s=t,null==(a=function(){switch(s.Y){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sr()}}())?null:{"goog-listen-tags":a});u&&(o.labels=u),this.vu(o)},Ul.prototype.Bu=function(t){var e={};e.database=qo(this.serializer),e.removeTarget=t,this.vu(e)},Ul),Sl=(s(jl,wl=Nl),Object.defineProperty(jl.prototype,"Uu",{get:function(){return this.qu},enumerable:!0,configurable:!0}),jl.prototype.start=function(){this.qu=!1,this.lastStreamToken=fi.H,wl.prototype.start.call(this)},jl.prototype.Du=function(){this.qu&&this.Qu([])},jl.prototype.ku=function(t){return this.Iu.Mu("Write",t)},jl.prototype.onMessage=function(t){if(xr(!!t.streamToken),this.lastStreamToken=Co(this.serializer,t.streamToken),this.qu){this.Zo.reset();var e=(r=t.writeResults,i=t.commitTime,r&&0<r.length?(xr(void 0!==i),r.map((function(t){return function(t,e){var n=t.updateTime?Ro(t.updateTime):Ro(e);n.isEqual(Qr.min())&&(n=Ro(e));var r=null;return t.transformResults&&0<t.transformResults.length&&(r=t.transformResults),new us(n,r)}(t,i)}))):[]),n=Ro(t.commitTime);return this.listener.Wu(n,e)}var r,i;return xr(!t.writeResults||0===t.writeResults.length),this.qu=!0,this.listener.ju()},jl.prototype.Ku=function(){var t={};t.database=qo(this.serializer),this.vu(t)},jl.prototype.Qu=function(t){var e=this,n={streamToken:Po(this.serializer,this.lastStreamToken),writes:t.map((function(t){return Ho(e.serializer,t)}))};this.vu(n)},jl),xl=(s(Ml,bl=function(){this.Gu=void 0}),Ml.prototype.Hu=function(){if(this.zu)throw new Wr(zr.FAILED_PRECONDITION,"The client has already been terminated.")},Ml.prototype.Yu=function(t,e){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Yu(t,e,r)})).catch((function(t){throw t.code===zr.UNAUTHENTICATED&&n.credentials.hu(),t}))},Ml.prototype.Ju=function(t,e){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Ju(t,e,r)})).catch((function(t){throw t.code===zr.UNAUTHENTICATED&&n.credentials.hu(),t}))},Ml),Ol=(Ll.prototype.nc=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:if(this.ic(),0<this.mutations.length)throw new Wr(zr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,s;return u(this,(function(a){switch(a.label){case 0:return r={database:qo((n=t).serializer),documents:e.map((function(t){return jo(n.serializer,t)}))},[4,n.Ju("BatchGetDocuments",r)];case 1:return i=a.sent(),o=new Map,i.forEach((function(t){var e,r,i=(e=n.serializer,"found"in(r=t)?function(t,e){xr(!!e.found),e.found.name,e.found.updateTime;var n=Uo(t,e.found.name),r=Ro(e.found.updateTime),i=new Ts({mapValue:{fields:e.found.fields}});return new Ks(n,r,i,{})}(e,r):"missing"in r?function(t,e){xr(!!e.missing),xr(!!e.readTime);var n=Uo(t,e.missing),r=Ro(e.readTime);return new Qs(n,r)}(e,r):Sr());o.set(i.key.toString(),i)})),s=[],[2,(e.forEach((function(t){var e=o.get(t.toString());xr(!!e),s.push(e)})),s)]}}))}))}(this.Xu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Qs||t instanceof Ks?n.rc(t):Sr()})),e)]}}))}))},Ll.prototype.set=function(t,e){this.write(e.Wa(t,this.Ue(t))),this.sc.add(t)},Ll.prototype.update=function(t,e){try{this.write(e.Wa(t,this.oc(t)))}catch(t){this.ec=t}this.sc.add(t)},Ll.prototype.delete=function(t){this.write([new Is(t,this.Ue(t))]),this.sc.add(t)},Ll.prototype.commit=function(){return a(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){switch(n.label){case 0:if(this.ic(),this.ec)throw this.ec;return t=this.Zu,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new ai(Xr.$(n));e.mutations.push(new Es(r,e.Ue(r)))})),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return r={database:qo((n=t).serializer),writes:e.map((function(t){return Ho(n.serializer,t)}))},[4,n.Yu("Commit",r)];case 1:return i.sent(),[2]}}))}))}(this.Xu,this.mutations)];case 1:return n.sent(),this.tc=!0,[2]}}))}))},Ll.prototype.rc=function(t){var e;if(t instanceof Ks)e=t.version;else{if(!(t instanceof Qs))throw Sr();e=Qr.min()}var n=this.Zu.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Wr(zr.ABORTED,"Document version changed between two reads.")}else this.Zu.set(t.key.toString(),e)},Ll.prototype.Ue=function(t){var e=this.Zu.get(t.toString());return!this.sc.has(t)&&e?ms.updateTime(e):ms.Qe()},Ll.prototype.oc=function(t){var e=this.Zu.get(t.toString());if(this.sc.has(t)||!e)return ms.exists(!0);if(e.isEqual(Qr.min()))throw new Wr(zr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ms.updateTime(e)},Ll.prototype.write=function(t){this.ic(),this.mutations=this.mutations.concat(t)},Ll.prototype.ic=function(){},Ll),Dl=(Rl.prototype.lc=function(){var t=this;0===this.ac&&(this._c("Unknown"),this.uc=this.Oo.ei("online_state_timeout",1e4,(function(){return t.uc=null,t.fc("Backend didn't respond within 10 seconds."),t._c("Offline"),Promise.resolve()})))},Rl.prototype.dc=function(t){"Online"===this.state?this._c("Unknown"):(this.ac++,1<=this.ac&&(this.wc(),this.fc("Connection failed 1 times. Most recent error: "+t.toString()),this._c("Offline")))},Rl.prototype.set=function(t){this.wc(),this.ac=0,"Online"===t&&(this.cc=!1),this._c(t)},Rl.prototype._c=function(t){t!==this.state&&(this.state=t,this.hc(t))},Rl.prototype.fc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.cc?(Nr(e),this.cc=!1):Ar("OnlineStateTracker",e)},Rl.prototype.wc=function(){null!==this.uc&&(this.uc.cancel(),this.uc=null)},Rl),Pl=(Cl.prototype.start=function(){return this.enableNetwork()},Cl.prototype.enableNetwork=function(){return this.Rc.delete(0),this.$c()},Cl.prototype.$c=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Vc()?(this.kc()?this.xc():this.pc.set("Unknown"),[4,this.Mc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Cl.prototype.disableNetwork=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Rc.add(0),[4,this.Lc()];case 1:return t.sent(),this.pc.set("Offline"),[2]}}))}))},Cl.prototype.Lc=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.Dc.stop()];case 1:return t.sent(),[4,this.yc.stop()];case 2:return t.sent(),0<this.Ec.length&&(Ar("RemoteStore","Stopping write stream with "+this.Ec.length+" pending writes"),this.Ec=[]),this.Oc(),[2]}}))}))},Cl.prototype.Ur=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return Ar("RemoteStore","RemoteStore shutting down."),this.Rc.add(5),[4,this.Lc()];case 1:return t.sent(),this.mc.Ur(),this.pc.set("Unknown"),[2]}}))}))},Cl.prototype.listen=function(t){this.Ic.has(t.targetId)||(this.Ic.set(t.targetId,t),this.kc()?this.xc():this.yc.Vu()&&this.Bc(t))},Cl.prototype.qc=function(t){this.Ic.delete(t),this.yc.Vu()&&this.Uc(t),0===this.Ic.size&&(this.yc.Vu()?this.yc.yu():this.Vc()&&this.pc.set("Unknown"))},Cl.prototype.Me=function(t){return this.Ic.get(t)||null},Cl.prototype.xe=function(t){return this.Qc.xe(t)},Cl.prototype.Bc=function(t){this.Ac.de(t.targetId),this.yc.Ou(t)},Cl.prototype.Uc=function(t){this.Ac.de(t),this.yc.Bu(t)},Cl.prototype.xc=function(){this.Ac=new Ji(this),this.yc.start(),this.pc.lc()},Cl.prototype.kc=function(){return this.Vc()&&!this.yc.Pu()&&0<this.Ic.size},Cl.prototype.Vc=function(){return 0===this.Rc.size},Cl.prototype.Oc=function(){this.Ac=null},Cl.prototype.bc=function(){return a(this,void 0,void 0,(function(){var t=this;return u(this,(function(e){return this.Ic.forEach((function(e,n){t.Bc(e)})),[2]}))}))},Cl.prototype.vc=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){return this.Oc(),this.kc()?(this.pc.dc(t),this.xc()):this.pc.set("Unknown"),[2]}))}))},Cl.prototype.Sc=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:if(this.pc.set("Online"),!(t instanceof Hi&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.Wc(t)];case 2:return o.sent(),[3,5];case 3:return n=o.sent(),Ar("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.jc(n)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Bi?this.Ac.Pe(t):t instanceof Gi?this.Ac.De(t):this.Ac.pe(t),e.isEqual(Qr.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,this.Tc.xi()];case 8:return r=o.sent(),0<=e.o(r)?[4,this.Kc(e)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Ar("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,this.jc(i)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))},Cl.prototype.jc=function(t,e){return a(this,void 0,void 0,(function(){var n=this;return u(this,(function(r){switch(r.label){case 0:if(!bc(t))throw t;return this.Rc.add(1),[4,this.Lc()];case 1:return r.sent(),this.pc.set("Offline"),e=e||function(){return n.Tc.xi()},this.Oo.Cr((function(){return a(n,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return Ar("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Rc.delete(1),[4,this.$c()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},Cl.prototype.Gc=function(t){var e=this;return t().catch((function(n){return e.jc(n,t)}))},Cl.prototype.Kc=function(t){var e=this,n=this.Ac.Ne(t);return n.Qt.forEach((function(n,r){if(0<n.resumeToken.G()){var i=e.Ic.get(r);i&&e.Ic.set(r,i.Z(n.resumeToken,t))}})),n.Wt.forEach((function(t){var n=e.Ic.get(t);if(n){e.Ic.set(t,n.Z(fi.H,n.J)),e.Uc(t);var r=new yi(n.target,t,1,n.sequenceNumber);e.Bc(r)}})),this.Qc.na(n)},Cl.prototype.Wc=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){switch(o.label){case 0:e=t.cause,n=0,r=t.targetIds,o.label=1;case 1:return n<r.length?(i=r[n],this.Ic.has(i)?[4,this.Qc.zc(i,e)]:[3,3]):[3,5];case 2:o.sent(),this.Ic.delete(i),this.Ac.removeTarget(i),o.label=3;case 3:o.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},Cl.prototype.Mc=function(){return a(this,void 0,void 0,(function(){var t,e,n;return u(this,(function(r){switch(r.label){case 0:t=0<this.Ec.length?this.Ec[this.Ec.length-1].batchId:-1,r.label=1;case 1:if(!this.Hc())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.Tc.ha(t)];case 3:return null===(e=r.sent())?(0===this.Ec.length&&this.Dc.yu(),[3,7]):(t=e.batchId,this.Yc(e),[3,6]);case 4:return n=r.sent(),[4,this.jc(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Jc()&&this.Xc(),[2]}}))}))},Cl.prototype.Hc=function(){return this.Vc()&&this.Ec.length<10},Cl.prototype.Zc=function(){return this.Ec.length},Cl.prototype.Yc=function(t){this.Ec.push(t),this.Dc.Vu()&&this.Dc.Uu&&this.Dc.Qu(t.mutations)},Cl.prototype.Jc=function(){return this.Vc()&&!this.Dc.Pu()&&0<this.Ec.length},Cl.prototype.Xc=function(){this.Dc.start()},Cl.prototype.Cc=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){return this.Dc.Ku(),[2]}))}))},Cl.prototype.Nc=function(){return a(this,void 0,void 0,(function(){var t,e,n;return u(this,(function(r){for(t=0,e=this.Ec;t<e.length;t++)n=e[t],this.Dc.Qu(n.mutations);return[2]}))}))},Cl.prototype.Wu=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i=this;return u(this,(function(o){switch(o.label){case 0:return n=this.Ec.shift(),r=ka.from(n,t,e),[4,this.Gc((function(){return i.Qc.tl(r)}))];case 1:return o.sent(),[4,this.Mc()];case 2:return o.sent(),[2]}}))}))},Cl.prototype.Fc=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return t&&this.Dc.Uu?[4,this.el(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Jc()&&this.Xc(),[2]}}))}))},Cl.prototype.el=function(t){return a(this,void 0,void 0,(function(){var e,n,r=this;return u(this,(function(i){switch(i.label){case 0:return bi(n=t.code)&&n!==zr.ABORTED?(e=this.Ec.shift(),this.Dc.pu(),[4,this.Gc((function(){return r.Qc.sl(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.Mc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},Cl.prototype.nl=function(){return new Ol(this.Xu)},Cl.prototype.gc=function(){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Rc.add(4),[4,this.Lc()];case 1:return t.sent(),this.pc.set("Unknown"),this.Rc.delete(4),[4,this.$c()];case 2:return t.sent(),[2]}}))}))},Cl.prototype.il=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.Oo.ah(),Ar("RemoteStore","RemoteStore received new credentials"),this.Rc.add(3),[4,this.Lc()];case 1:return e.sent(),this.pc.set("Unknown"),[4,this.Qc.il(t)];case 2:return e.sent(),this.Rc.delete(3),[4,this.$c()];case 3:return e.sent(),[2]}}))}))},Cl.prototype.rl=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return t?(this.Rc.delete(2),[4,this.$c()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Rc.add(2),[4,this.Lc()]);case 3:e.sent(),this.pc.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},Cl);function Cl(t,e,n,r,i){var o,s,c,h,l,f,p,d,v=this;this.Tc=t,this.Xu=e,this.Oo=n,this.Ec=[],this.Ic=new Map,this.Ac=null,this.Rc=new Set,this.mc=i,this.mc.Pc((function(t){n.Sr((function(){return a(v,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Vc()?(Ar("RemoteStore","Restarting streams for network reachability change."),[4,this.gc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.pc=new Dl(n,r),this.yc=(l=this.Xu,f=n,p={xu:this.bc.bind(this),Cu:this.vc.bind(this),Lu:this.Sc.bind(this)},new kl(f,(d=l).Iu,d.credentials,d.serializer,p)),this.Dc=(o=this.Xu,s=n,c={xu:this.Cc.bind(this),Cu:this.Fc.bind(this),ju:this.Nc.bind(this),Wu:this.Wu.bind(this)},new Sl(s,(h=o).Iu,h.credentials,h.serializer,c))}function Rl(t,e){this.Oo=t,this.hc=e,this.state="Unknown",this.ac=0,this.uc=null,this.cc=!0}function Ll(t){this.Xu=t,this.Zu=new Map,this.mutations=[],this.tc=!1,this.ec=null,this.sc=new Set}function Ml(t,e,n){var r=this;return(r=bl.call(this)||this).Iu=t,r.credentials=e,r.serializer=n,r.zu=!1,r}function jl(t,e,n,r,i){var o=this;return(o=wl.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.qu=!1,o.lastStreamToken=fi.H,o}function Ul(t,e,n,r,i){var o=this;return(o=Il.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function Vl(t,e,n,r,i,o){this.Wn=t,this.Eu=n,this.Iu=r,this.Au=i,this.listener=o,this.state=0,this.Ru=0,this.mu=null,this.stream=null,this.Zo=new Ha(t,e)}function Fl(t,e){this.du=t,this.wu=e}function ql(t,e){this.du=t,this.wu=e,this.type="FirstParty",this.user=ml.iu}function Bl(t){var e=this;this.cu=null,this.currentUser=ml.UNAUTHENTICATED,this.lu=!1,this._u=0,this.ou=null,this.forceRefresh=!1,this.cu=function(){e._u++,e.currentUser=e.fu(),e.lu=!0,e.ou&&e.ou(e.currentUser)},this._u=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.cu):(this.cu(null),t.get().then((function(t){e.auth=t,e.cu&&e.auth.addAuthTokenListener(e.cu)}),(function(){})))}function Gl(){this.ou=null}function Hl(t,e){return"firestore_clients_"+t+"_"+e}function zl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.fo()&&(r+="_"+e.uid),r}function Wl(t,e){return"firestore_targets_"+t+"_"+e}function Kl(t){this.key=t}function Ql(t){this.key=t}function Yl(t,e,n){this.query=t,this.targetId=e,this.view=n}function Xl(t){this.key=t,this.R_=!1}function Jl(){this.if=void 0,this.rf=[]}var $l,Zl,tf=(Pf.ol=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Wr(r.error.code,r.error.message)),i?new Pf(t,e,r.state,o):(Nr("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},Pf.prototype.hl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Pf),ef=(Df.ol=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Wr(n.error.code,n.error.message)),r?new Df(t,n.state,i):(Nr("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},Df.prototype.hl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Df),nf=(Of.ol=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=qi(),o=0;r&&o<n.activeTargetIds.length;++o)r=li(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Of(t,i):(Nr("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},Of),rf=(xf.ol=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new xf(e.clientId,e.onlineState):(Nr("SharedClientState","Failed to parse online state: "+t),null)},xf),of=(Sf.prototype.al=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},Sf.prototype.ul=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},Sf.prototype.hl=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},Sf),sf=(kf._r=function(t){return!(!t||!t.localStorage)},kf.prototype.start=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,c,h,l,f=this;return u(this,(function(u){switch(u.label){case 0:return[4,this.Qc.Gr()];case 1:for(t=u.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.cl&&(i=this.getItem(Hl(this.persistenceKey,r)))&&(o=nf.ol(r,i))&&(this.fl=this.fl.et(o.clientId,o));for(this.ml(),(s=this.storage.getItem(this.Rl))&&(a=this.Pl(s))&&this.Vl(a),c=0,h=this.dl;c<h.length;c++)l=h[c],this._l(l);return this.dl=[],this.window.addEventListener("unload",(function(){return f.Ur()})),this.pr=!0,[2]}}))}))},kf.prototype.Un=function(t){this.setItem(this.Tl,JSON.stringify(t))},kf.prototype.gl=function(){return this.pl(this.fl)},kf.prototype.yl=function(t){var e=!1;return this.fl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},kf.prototype.bl=function(t){this.vl(t,"pending")},kf.prototype.Sl=function(t,e,n){this.vl(t,e,n),this.Dl(t)},kf.prototype.Cl=function(t){var e="not-current";if(this.yl(t)){var n=this.storage.getItem(Wl(this.persistenceKey,t));if(n){var r=ef.ol(t,n);r&&(e=r.state)}}return this.Fl.al(t),this.ml(),e},kf.prototype.Nl=function(t){this.Fl.ul(t),this.ml()},kf.prototype.$l=function(t){return this.Fl.activeTargetIds.has(t)},kf.prototype.kl=function(t){this.removeItem(Wl(this.persistenceKey,t))},kf.prototype.xl=function(t,e,n){this.Ml(t,e,n)},kf.prototype.Hh=function(t,e,n){var r=this;e.forEach((function(t){r.Dl(t)})),this.currentUser=t,n.forEach((function(t){r.bl(t)}))},kf.prototype.Ll=function(t){this.Ol(t)},kf.prototype.Ur=function(){this.pr&&(this.window.removeEventListener("storage",this.ll),this.removeItem(this.wl),this.pr=!1)},kf.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ar("SharedClientState","READ",t,e),e},kf.prototype.setItem=function(t,e){Ar("SharedClientState","SET",t,e),this.storage.setItem(t,e)},kf.prototype.removeItem=function(t){Ar("SharedClientState","REMOVE",t),this.storage.removeItem(t)},kf.prototype._l=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ar("SharedClientState","EVENT",n.key,n.newValue),n.key===this.wl)return void Nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Wn.Cr((function(){return a(e,void 0,void 0,(function(){var t,e,r,i,o,s;return u(this,(function(a){if(this.pr){if(null!==n.key)if(this.El.test(n.key)){if(null==n.newValue)return t=this.Bl(n.key),[2,this.ql(t,null)];if(e=this.Ul(n.key,n.newValue))return[2,this.ql(e.clientId,e)]}else if(this.Il.test(n.key)){if(null!==n.newValue&&(r=this.Ql(n.key,n.newValue)))return[2,this.Wl(r)]}else if(this.Al.test(n.key)){if(null!==n.newValue&&(i=this.jl(n.key,n.newValue)))return[2,this.Kl(i)]}else if(n.key===this.Rl){if(null!==n.newValue&&(o=this.Pl(n.newValue)))return[2,this.Vl(o)]}else n.key===this.Tl&&(s=function(t){var e=Ra.Qn;if(null!=t)try{var n=JSON.parse(t);xr("number"==typeof n),e=n}catch(t){Nr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ra.Qn&&this.On(s)}else this.dl.push(n);return[2]}))}))}))}},Object.defineProperty(kf.prototype,"Fl",{get:function(){return this.fl.get(this.cl)},enumerable:!0,configurable:!0}),kf.prototype.ml=function(){this.setItem(this.wl,this.Fl.hl())},kf.prototype.vl=function(t,e,n){var r=new tf(this.currentUser,t,e,n),i=zl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.hl())},kf.prototype.Dl=function(t){var e=zl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},kf.prototype.Ol=function(t){var e={clientId:this.cl,onlineState:t};this.storage.setItem(this.Rl,JSON.stringify(e))},kf.prototype.Ml=function(t,e,n){var r=Wl(this.persistenceKey,t),i=new ef(t,e,n);this.setItem(r,i.hl())},kf.prototype.Bl=function(t){var e=this.El.exec(t);return e?e[1]:null},kf.prototype.Ul=function(t,e){var n=this.Bl(t);return nf.ol(n,e)},kf.prototype.Ql=function(t,e){var n=this.Il.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return tf.ol(new ml(i),r,e)},kf.prototype.jl=function(t,e){var n=this.Al.exec(t),r=Number(n[1]);return ef.ol(r,e)},kf.prototype.Pl=function(t){return rf.ol(t)},kf.prototype.Wl=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Qc.Gl(t.batchId,t.state,t.error)]:(Ar("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},kf.prototype.Kl=function(t){return this.Qc.zl(t.targetId,t.state,t.error)},kf.prototype.ql=function(t,e){var n=this,r=e?this.fl.et(t,e):this.fl.remove(t),i=this.pl(this.fl),o=this.pl(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.Qc.Hl(s,a).then((function(){n.fl=r}))},kf.prototype.Vl=function(t){this.fl.get(t.clientId)&&this.hc(t.onlineState)},kf.prototype.pl=function(t){var e=qi();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},kf),af=(Nf.prototype.bl=function(t){},Nf.prototype.Sl=function(t,e,n){},Nf.prototype.Cl=function(t){return this.Yl.al(t),this.Jl[t]||"not-current"},Nf.prototype.xl=function(t,e,n){this.Jl[t]=e},Nf.prototype.Nl=function(t){this.Yl.ul(t)},Nf.prototype.$l=function(t){return this.Yl.activeTargetIds.has(t)},Nf.prototype.kl=function(t){delete this.Jl[t]},Nf.prototype.gl=function(){return this.Yl.activeTargetIds},Nf.prototype.yl=function(t){return this.Yl.activeTargetIds.has(t)},Nf.prototype.start=function(){return this.Yl=new of,Promise.resolve()},Nf.prototype.Hh=function(t,e,n){},Nf.prototype.Ll=function(t){},Nf.prototype.Ur=function(){},Nf.prototype.Un=function(t){},Nf),uf=(Object.defineProperty(Af.prototype,"s_",{get:function(){return this.Xl},enumerable:!0,configurable:!0}),Af.prototype.n_=function(t,e){var n=this,r=e?e.i_:new Wi,i=e?e.e_:this.e_,o=e?e.Ot:this.Ot,s=i,a=!1,u=this.query.ks()&&i.size===this.query.limit?i.last():null,c=this.query.xs()&&i.size===this.query.limit?i.first():null;if(t.ot((function(t,e){var h=i.get(t),l=e instanceof Ks?e:null;l=l&&(n.query.matches(l)?l:null);var f=!!h&&n.Ot.has(h.key),p=!!l&&(l.Xe||n.Ot.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data().isEqual(l.data())?f!==p&&(r.track({type:3,doc:l}),d=!0):n.r_(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&0<n.query.Ds(l,u)||c&&n.query.Ds(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(o=l?(s=s.add(l),p?o.add(t):o.delete(t)):(s=s.delete(t),o.delete(t)))})),this.query.ks()||this.query.xs())for(;s.size>this.query.limit;){var h=this.query.ks()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{e_:s,i_:r,o_:a,Ot:o}},Af.prototype.r_=function(t,e){return t.Xe&&e.hasCommittedMutations&&!e.Xe},Af.prototype.wn=function(t,e,n){var r=this,i=this.e_;this.e_=t.e_,this.Ot=t.Ot;var o=t.i_.Mt();o.sort((function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.query.Ds(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sr()}}var i,o})),this.h_(n);var s=e?this.a_():[],a=0===this.t_.size&&this.Ht?1:0,u=a!==this.Zl;return this.Zl=a,0!==o.length||u?{snapshot:new Ki(this.query,t.e_,i,o,t.Ot,0==a,u,!1),u_:s}:{u_:s}},Af.prototype.c_=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.wn({e_:this.e_,i_:new Wi,Ot:this.Ot,o_:!1},!1)):{u_:[]}},Af.prototype.l_=function(t){return!this.Xl.has(t)&&!!this.e_.has(t)&&!this.e_.get(t).Xe},Af.prototype.h_=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.Xl=e.Xl.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.Xl=e.Xl.delete(t)})),this.Ht=t.Ht)},Af.prototype.a_=function(){var t=this;if(!this.Ht)return[];var e=this.t_;this.t_=Vi(),this.e_.forEach((function(e){t.l_(e.key)&&(t.t_=t.t_.add(e.key))}));var n=[];return e.forEach((function(e){t.t_.has(e)||n.push(new Ql(e))})),this.t_.forEach((function(t){e.has(t)||n.push(new Kl(t))})),n},Af.prototype.__=function(t){this.Xl=t._a,this.t_=Vi();var e=this.n_(t.documents);return this.wn(e,!0)},Af.prototype.f_=function(){return Ki.Ut(this.query,this.e_,this.Ot,0===this.Zl)},Af),cf=(_f.prototype.w_=function(){this.T_()},_f.prototype.T_=function(){var t=this;this.Zo.Zn((function(){return a(t,void 0,void 0,(function(){var t,e,n=this;return u(this,(function(r){return t=new Ol(this.Xu),(e=this.E_(t))&&e.then((function(e){n.Oo.Sr((function(){return t.commit().then((function(){n.Uo.resolve(e)})).catch((function(t){n.I_(t)}))}))})).catch((function(t){n.I_(t)})),[2]}))}))}))},_f.prototype.E_=function(t){try{var e=this.updateFunction(t);return!ci(e)&&e.catch&&e.then?e:(this.Uo.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Uo.reject(t),null}},_f.prototype.I_=function(t){var e=this;0<this.d_&&this.A_(t)?(--this.d_,this.Oo.Sr((function(){return e.T_(),Promise.resolve()}))):this.Uo.reject(t)},_f.prototype.A_=function(t){if("FirebaseError"!==t.name)return!1;var e=t.code;return"aborted"===e||"failed-precondition"===e||!bi(e)},_f),hf=(Object.defineProperty(Tf.prototype,"k_",{get:function(){return!0},enumerable:!0,configurable:!0}),Tf.prototype.subscribe=function(t){this.g_=t},Tf.prototype.listen=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o;return u(this,(function(s){switch(s.label){case 0:return this.x_("listen()"),(r=this.p_.get(t))?(e=r.targetId,this.P_.Cl(e),n=r.view.f_(),[3,4]):[3,1];case 1:return[4,this.Tc.ua(t.We())];case 2:return i=s.sent(),o=this.P_.Cl(i.targetId),e=i.targetId,[4,this.M_(t,e,"current"===o)];case 3:n=s.sent(),this.k_&&this.m_.listen(i),s.label=4;case 4:return[2,n]}}))}))},Tf.prototype.M_=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,s,a,c;return u(this,(function(u){switch(u.label){case 0:return[4,this.Tc.la(t,!0)];case 1:return r=u.sent(),i=new uf(t,r._a),o=i.n_(r.documents),s=Yi.zt(e,n&&"Offline"!==this.onlineState),a=i.wn(o,this.k_,s),this.L_(e,a.u_),c=new Yl(t,e,i),[2,(this.p_.set(t,c),this.y_.has(e)?this.y_.get(e).push(t):this.y_.set(e,[t]),a.snapshot)]}}))}))},Tf.prototype.qc=function(t){return a(this,void 0,void 0,(function(){var e,n,r=this;return u(this,(function(i){switch(i.label){case 0:return this.x_("unlisten()"),e=this.p_.get(t),1<(n=this.y_.get(e.targetId)).length?[2,(this.y_.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.p_.delete(t))]:this.k_?(this.P_.Nl(e.targetId),this.P_.yl(e.targetId)?[3,2]:[4,this.Tc.ca(e.targetId,!1).then((function(){r.P_.kl(e.targetId),r.m_.qc(e.targetId),r.O_(e.targetId)})).catch(Qc)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.O_(e.targetId),[4,this.Tc.ca(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},Tf.prototype.write=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:this.x_("write()"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this.Tc.Zh(t)];case 2:return n=o.sent(),this.P_.bl(n.batchId),this.B_(n.batchId,e),[4,this.q_(n.on)];case 3:return o.sent(),[4,this.m_.Mc()];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),i=Pc(r,"Failed to persist write"),e.reject(i),[3,6];case 6:return[2]}}))}))},Tf.prototype.runTransaction=function(t,e,n){new cf(t,this.Xu,e,n).w_()},Tf.prototype.na=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:this.x_("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.na(t)];case 2:return e=r.sent(),t.Qt.forEach((function(t,e){var r=n.S_.get(e);r&&(xr(t.Yt.size+t.Jt.size+t.Xt.size<=1),0<t.Yt.size?r.R_=!0:0<t.Jt.size?xr(r.R_):0<t.Xt.size&&(xr(r.R_),r.R_=!1))})),[4,this.q_(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Qc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},Tf.prototype.c_=function(t,e){this.x_("applyOnlineStateChange()");var n=[];this.p_.forEach((function(e,r){var i=r.view.c_(t);i.snapshot&&n.push(i.snapshot)})),this.g_.U_(t),this.g_.Lu(n),this.onlineState=t},Tf.prototype.zc=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,s,a=this;return u(this,(function(u){switch(u.label){case 0:return this.x_("rejectListens()"),this.P_.xl(t,"rejected",e),n=this.S_.get(t),(r=n&&n.key)?(i=(i=new Ii(ai.P)).et(r,new Qs(r,Qr.min())),o=Vi().add(r),s=new Qi(Qr.min(),new Map,new Si(Cr),i,o),[4,this.na(s)]):[3,2];case 1:return u.sent(),this.v_=this.v_.remove(r),this.S_.delete(t),this.Q_(),[3,4];case 2:return[4,this.Tc.ca(t,!1).then((function(){return a.O_(t,e)})).catch(Qc)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))},Tf.prototype.tl=function(t){return a(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:this.x_("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.ta(t)];case 2:return n=r.sent(),this.W_(e,null),this.j_(e),this.P_.Sl(e,"acknowledged"),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,Qc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},Tf.prototype.sl=function(t,e){return a(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:this.x_("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.sa(t)];case 2:return n=r.sent(),this.W_(t,e),this.j_(t),this.P_.Sl(t,"rejected",e),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,Qc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},Tf.prototype.K_=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){switch(o.label){case 0:this.m_.Vc()||Ar("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.Tc.Ao()];case 2:return-1===(e=o.sent())?[2,void t.resolve()]:((n=this.F_.get(e)||[]).push(t),this.F_.set(e,n),[3,4]);case 3:return r=o.sent(),i=Pc(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}}))}))},Tf.prototype.j_=function(t){(this.F_.get(t)||[]).forEach((function(t){t.resolve()})),this.F_.delete(t)},Tf.prototype.G_=function(t){this.F_.forEach((function(e){e.forEach((function(e){e.reject(new Wr(zr.CANCELLED,t))}))})),this.F_.clear()},Tf.prototype.B_=function(t,e){var n=this.C_[this.currentUser.su()];n=(n=n||new Ii(Cr)).et(t,e),this.C_[this.currentUser.su()]=n},Tf.prototype.W_=function(t,e){var n=this.C_[this.currentUser.su()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.C_[this.currentUser.su()]=n}},Tf.prototype.O_=function(t,e){var n=this;void 0===e&&(e=null),this.P_.Nl(t);for(var r=0,i=this.y_.get(t);r<i.length;r++){var o=i[r];this.p_.delete(o),e&&this.g_.z_(o,e)}this.y_.delete(t),this.k_&&this.D_.ga(t).forEach((function(t){n.D_.tr(t)||n.H_(t)}))},Tf.prototype.H_=function(t){var e=this.v_.get(t);null!==e&&(this.m_.qc(e),this.v_=this.v_.remove(t),this.S_.delete(e),this.Q_())},Tf.prototype.L_=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Kl?(this.D_.Hi(i.key,t),this.Y_(i)):i instanceof Ql?(Ar("SyncEngine","Document no longer in limbo: "+i.key),this.D_.Ji(i.key,t),this.D_.tr(i.key)||this.H_(i.key)):Sr()}},Tf.prototype.Y_=function(t){var e=t.key;this.v_.get(e)||(Ar("SyncEngine","New document in limbo: "+e),this.b_.push(e),this.Q_())},Tf.prototype.Q_=function(){for(;0<this.b_.length&&this.v_.size<this.V_;){var t=this.b_.shift(),e=this.N_.next();this.S_.set(e,new Xl(t)),this.v_=this.v_.et(t,e),this.m_.listen(new yi(Xs.As(t.path).We(),e,2,Ra.Qn))}},Tf.prototype.J_=function(){return this.v_},Tf.prototype.X_=function(){return this.b_},Tf.prototype.q_=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o=this;return u(this,(function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.p_.forEach((function(s,a){i.push(Promise.resolve().then((function(){var e=a.view.n_(t);return e.o_?o.Tc.la(a.query,!1).then((function(t){var n=t.documents;return a.view.n_(n,e)})):e})).then((function(t){var i=e&&e.Qt.get(a.targetId),s=a.view.wn(t,o.k_,i);if(o.L_(a.targetId,s.u_),s.snapshot){o.k_&&o.P_.xl(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var u=Ca.Ln(a.targetId,s.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return s.sent(),this.g_.Lu(n),[4,this.Tc.oa(r)];case 2:return s.sent(),[2]}}))}))},Tf.prototype.x_=function(t){},Tf.prototype.il=function(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(Ar("SyncEngine","User change. New user:",t.su()),[4,this.Tc.Hh(t)]);case 1:return e=n.sent(),this.currentUser=t,this.G_("'waitForPendingWrites' promise is rejected due to a user change."),this.P_.Hh(t,e.Jh,e.Xh),[4,this.q_(e.Yh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},Tf.prototype.enableNetwork=function(){return this.m_.enableNetwork()},Tf.prototype.disableNetwork=function(){return this.m_.disableNetwork()},Tf.prototype.xe=function(t){var e=this.S_.get(t);if(e&&e.R_)return Vi().add(e.key);var n=Vi(),r=this.y_.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.p_.get(s);n=n.Ct(a.view.s_)}return n},Tf),lf=(s(Ef,$l=hf),Object.defineProperty(Ef.prototype,"k_",{get:function(){return!0===this.Z_},enumerable:!0,configurable:!0}),Ef.prototype.enableNetwork=function(){return this.Tc.vr(!0),$l.prototype.enableNetwork.call(this)},Ef.prototype.disableNetwork=function(){return this.Tc.vr(!1),$l.prototype.disableNetwork.call(this)},Ef.prototype.tf=function(t){return a(this,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return[4,this.Tc.la(t.query,!0)];case 1:return e=r.sent(),n=t.view.__(e),[2,(this.Z_&&this.L_(t.targetId,n.u_),n)]}}))}))},Ef.prototype.c_=function(t,e){this.k_&&0===e&&($l.prototype.c_.call(this,t,e),this.P_.Ll(t)),this.k_||1!==e||$l.prototype.c_.call(this,t,e)},Ef.prototype.Gl=function(t,e,n){return a(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return this.x_("applyBatchState()"),[4,this.Tc.da(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.m_.Mc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.W_(t,n||null),this.Tc.wa(t)):Sr(),i.label=4;case 4:return[4,this.q_(r)];case 5:return i.sent(),[3,7];case 6:Ar("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},Ef.prototype.rl=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c=this;return u(this,(function(u){switch(u.label){case 0:return!0!==t||!0===this.Z_?[3,3]:(e=this.P_.gl(),[4,this.ef(e.F(),!0)]);case 1:return n=u.sent(),this.Z_=!0,[4,this.m_.rl(!0)];case 2:for(u.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.m_.listen(o);return[3,7];case 3:return!1!==t||!1===this.Z_?[3,7]:(s=[],a=Promise.resolve(),this.y_.forEach((function(t,e){c.P_.$l(e)?s.push(e):a=a.then((function(){return c.O_(e),c.Tc.ca(e,!0)})),c.m_.qc(e)})),[4,a]);case 4:return u.sent(),[4,this.ef(s,!1)];case 5:return u.sent(),this.sf(),this.Z_=!1,[4,this.m_.rl(!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))},Ef.prototype.sf=function(){var t=this;this.S_.forEach((function(e,n){t.m_.qc(n)})),this.D_.pa(),this.S_=new Map,this.v_=new Ii(ai.P)},Ef.prototype.ef=function(t,e){return a(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,h,l,f,p,d;return u(this,(function(u){switch(u.label){case 0:e=[],n=[],r=0,i=t,u.label=1;case 1:return r<i.length?(o=i[r],s=void 0,(a=this.y_.get(o))&&0!==a.length?[4,this.Tc.ua(a[0].We())]:[3,7]):[3,13];case 2:s=u.sent(),c=0,h=a,u.label=3;case 3:return c<h.length?(l=h[c],f=this.p_.get(l),[4,this.tf(f)]):[3,6];case 4:(p=u.sent()).snapshot&&n.push(p.snapshot),u.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,this.Tc.Ta(o)];case 8:return d=u.sent(),[4,this.Tc.ua(d)];case 9:return s=u.sent(),[4,this.M_(this.nf(d),o,!1)];case 10:u.sent(),u.label=11;case 11:e.push(s),u.label=12;case 12:return r++,[3,1];case 13:return[2,(this.g_.Lu(n),e)]}}))}))},Ef.prototype.nf=function(t){return new Xs(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},Ef.prototype.Gr=function(){return this.Tc.Gr()},Ef.prototype.zl=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return u(this,(function(o){switch(o.label){case 0:return this.Z_?(Ar("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.y_.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Tc.Ri()];case 3:return r=o.sent(),i=Qi.Gt(t,"current"===e),[4,this.q_(r,i)];case 4:return o.sent(),[3,8];case 5:return[4,this.Tc.ca(t,!0)];case 6:return o.sent(),this.O_(t,n),[3,8];case 7:Sr(),o.label=8;case 8:return[2]}}))}))},Ef.prototype.Hl=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,h,l,f,p=this;return u(this,(function(d){switch(d.label){case 0:if(!this.Z_)return[3,10];n=0,r=t,d.label=1;case 1:return n<r.length?(i=r[n],this.y_.has(i)?(Ar("SyncEngine","Adding an already active target "+i),[3,5]):[4,this.Tc.Ta(i)]):[3,6];case 2:return o=d.sent(),[4,this.Tc.ua(o)];case 3:return s=d.sent(),[4,this.M_(this.nf(o),s.targetId,!1)];case 4:d.sent(),this.m_.listen(s),d.label=5;case 5:return n++,[3,1];case 6:a=function(t){return u(this,(function(e){switch(e.label){case 0:return c.y_.has(t)?[4,c.Tc.ca(t,!1).then((function(){p.m_.qc(t),p.O_(t)})).catch(Qc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,h=0,l=e,d.label=7;case 7:return h<l.length?(f=l[h],[5,a(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))},Ef),ff=(If.prototype.listen=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,s;return u(this,(function(a){switch(a.label){case 0:if(e=t.query,n=!1,(r=this.hf.get(e))||(n=!0,r=new Jl),!n)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),i=r,[4,this.Qc.listen(e)];case 2:return i.if=a.sent(),[3,4];case 3:return o=a.sent(),s=Pc(o,"Initialization of query '"+t.query+"' failed"),[2,void t.onError(s)];case 4:return this.hf.set(e,r),r.rf.push(t),t.c_(this.onlineState),r.if&&t.uf(r.if)&&this.cf(),[2]}}))}))},If.prototype.qc=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i;return u(this,(function(o){return e=t.query,n=!1,(r=this.hf.get(e))&&0<=(i=r.rf.indexOf(t))&&(r.rf.splice(i,1),n=0===r.rf.length),n?[2,(this.hf.delete(e),this.Qc.qc(e))]:[2]}))}))},If.prototype.Lu=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.hf.get(o);if(s){for(var a=0,u=s.rf;a<u.length;a++)u[a].uf(i)&&(e=!0);s.if=i}}e&&this.cf()},If.prototype.z_=function(t,e){var n=this.hf.get(t);if(n)for(var r=0,i=n.rf;r<i.length;r++)i[r].onError(e);this.hf.delete(t)},If.prototype.U_=function(t){this.onlineState=t;var e=!1;this.hf.forEach((function(n,r){for(var i=0,o=r.rf;i<o.length;i++)o[i].c_(t)&&(e=!0)})),e&&this.cf()},If.prototype.lf=function(t){this.af.add(t),t.next()},If.prototype._f=function(t){this.af.delete(t)},If.prototype.cf=function(){this.af.forEach((function(t){t.next()}))},If),pf=(wf.prototype.uf=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ki(t.query,t.docs,t.Lt,e,t.Ot,t.fromCache,t.Bt,!0)}var o=!1;return this.df?this.Tf(t)&&(this.ff.next(t),o=!0):this.Ef(t,this.onlineState)&&(this.If(t),o=!0),this.wf=t,o},wf.prototype.onError=function(t){this.ff.error(t)},wf.prototype.c_=function(t){this.onlineState=t;var e=!1;return this.wf&&!this.df&&this.Ef(this.wf,t)&&(this.If(this.wf),e=!0),e},wf.prototype.Ef=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Af&&n||t.docs._()&&"Offline"!==e)},wf.prototype.Tf=function(t){if(0<t.docChanges.length)return!0;var e=this.wf&&this.wf.hasPendingWrites!==t.hasPendingWrites;return!(!t.Bt&&!e)&&!0===this.options.includeMetadataChanges},wf.prototype.If=function(t){t=Ki.Ut(t.query,t.docs,t.Ot,t.fromCache),this.df=!0,this.ff.next(t)},wf),df=(bf.prototype.zh=function(t){this.Rf=t},bf.prototype.Sn=function(t,e,n,i){var o=this;return e.Ss()||n.isEqual(Qr.min())?this.mf(t,e):this.Rf.yn(t,i).next((function(s){var a=o.Pf(e,s);return(e.ks()||e.xs())&&o.o_(e.ws,a,i,n)?o.mf(t,e):(_r()<=r.DEBUG&&Ar("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),o.Rf.Sn(t,e,n).next((function(t){return a.forEach((function(e){t=t.et(e.key,e)})),t})))}))},bf.prototype.Pf=function(t,e){var n=new Si((function(e,n){return t.Ds(e,n)}));return e.forEach((function(e,r){r instanceof Ks&&t.matches(r)&&(n=n.add(r))})),n},bf.prototype.o_=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||0<i.version.o(r))},bf.prototype.mf=function(t,e){return _r()<=r.DEBUG&&Ar("IndexFreeQueryEngine","Using full collection scan to execute query:",e.toString()),this.Rf.Sn(t,e,Qr.min())},bf),vf=(gf.prototype.do=function(t){return Sa.resolve(0===this.Rn.length)},gf.prototype.wo=function(t,e,n,r){var i=this.Vf;this.Vf++,0<this.Rn.length&&this.Rn[this.Rn.length-1];var o=new Na(i,e,n,r);this.Rn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.gf=this.gf.add(new Xc(u.key,i)),this.mn.ri(t,u.key.path.p())}return Sa.resolve(o)},gf.prototype.To=function(t,e){return Sa.resolve(this.pf(e))},gf.prototype.Io=function(t,e){var n=e+1,r=this.yf(n),i=r<0?0:r;return Sa.resolve(this.Rn.length>i?this.Rn[i]:null)},gf.prototype.Ao=function(){return Sa.resolve(0===this.Rn.length?-1:this.Vf-1)},gf.prototype.Ro=function(t){return Sa.resolve(this.Rn.slice())},gf.prototype.Vn=function(t,e){var n=this,r=new Xc(e,0),i=new Xc(e,Number.POSITIVE_INFINITY),o=[];return this.gf.vt([r,i],(function(t){var e=n.pf(t.ba);o.push(e)})),Sa.resolve(o)},gf.prototype.vn=function(t,e){var n=this,r=new Si(Cr);return e.forEach((function(t){var e=new Xc(t,0),i=new Xc(t,Number.POSITIVE_INFINITY);n.gf.vt([e,i],(function(t){r=r.add(t.ba)}))})),Sa.resolve(this.bf(r))},gf.prototype.$n=function(t,e){var n=e.path,r=n.length+1,i=n;ai.W(i)||(i=i.child(""));var o=new Xc(new ai(i),0),s=new Si(Cr);return this.gf.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.ba)),!0)}),o),Sa.resolve(this.bf(s))},gf.prototype.bf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.pf(t);null!==r&&n.push(r)})),n},gf.prototype.Po=function(t,e){var n=this;xr(0===this.vf(e.batchId,"removed")),this.Rn.shift();var r=this.gf;return Sa.forEach(e.mutations,(function(i){var o=new Xc(i.key,e.batchId);return r=r.delete(o),n.Fi.oo(t,i.key)})).next((function(){n.gf=r}))},gf.prototype.Vo=function(t){},gf.prototype.tr=function(t,e){var n=new Xc(e,0),r=this.gf.Dt(n);return Sa.resolve(e.isEqual(r&&r.key))},gf.prototype.po=function(t){return this.Rn.length,Sa.resolve()},gf.prototype.vf=function(t,e){return this.yf(t)},gf.prototype.yf=function(t){return 0===this.Rn.length?0:t-this.Rn[0].batchId},gf.prototype.pf=function(t){var e=this.yf(t);return e<0||e>=this.Rn.length?null:this.Rn[e]},gf),mf=(yf.prototype.un=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Sf(e);return this.docs=this.docs.et(r,{fi:e,size:s,readTime:n}),this.size+=s-o,this.mn.ri(t,r.path.p())},yf.prototype.ln=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},yf.prototype._n=function(t,e){var n=this.docs.get(e);return Sa.resolve(n?n.fi:null)},yf.prototype.getEntries=function(t,e){var n=this,r=Ri();return e.forEach((function(t){var e=n.docs.get(t);r=r.et(t,e?e.fi:null)})),Sa.resolve(r)},yf.prototype.Sn=function(t,e,n){for(var r=Mi(),i=new ai(e.path.child("")),o=this.docs.ut(i);o.wt();){var s=o.dt(),a=s.key,u=s.value,c=u.fi,h=u.readTime;if(!e.path.D(a.path))break;h.o(n)<=0||c instanceof Ks&&e.matches(c)&&(r=r.et(c.key,c))}return Sa.resolve(r)},yf.prototype.Df=function(t,e){return Sa.forEach(this.docs,(function(t){return e(t)}))},yf.prototype.Vi=function(t){return new yf.gi(this)},yf.prototype.yi=function(t){return Sa.resolve(this.size)},yf);function yf(t,e){this.mn=t,this.Sf=e,this.docs=new Ii(ai.P),this.size=0}function gf(t,e){this.mn=t,this.Fi=e,this.Rn=[],this.Vf=1,this.gf=new Si(Xc.Ia)}function bf(){}function wf(t,e,n){this.query=t,this.ff=e,this.df=!1,this.wf=null,this.onlineState="Unknown",this.options=n||{}}function If(t){this.Qc=t,this.hf=new Hr((function(t){return t.canonicalId()}),(function(t,e){return t.isEqual(e)})),this.onlineState="Unknown",this.af=new Set,this.Qc.subscribe(this)}function Ef(t,e,n,r,i,o){var s=this;return(s=$l.call(this,t,e,n,r,i,o)||this).Tc=t,s.Z_=void 0,s}function Tf(t,e,n,r,i,o){this.Tc=t,this.m_=e,this.Xu=n,this.P_=r,this.currentUser=i,this.V_=o,this.g_=null,this.p_=new Hr((function(t){return t.canonicalId()}),(function(t,e){return t.isEqual(e)})),this.y_=new Map,this.b_=[],this.v_=new Ii(ai.P),this.S_=new Map,this.D_=new Yc,this.C_={},this.F_=new Map,this.N_=Iu.Ci(),this.onlineState="Unknown"}function _f(t,e,n,r){this.Oo=t,this.Xu=e,this.updateFunction=n,this.Uo=r,this.d_=5,this.Zo=new Ha(this.Oo,"transaction_retry")}function Af(t,e){this.query=t,this.Xl=e,this.Zl=null,this.Ht=!1,this.t_=Vi(),this.Ot=Vi(),this.e_=new zi(t.Ds.bind(t))}function Nf(){this.Yl=new of,this.Jl={},this.Qc=null,this.hc=null,this.On=null}function kf(t,e,n,r,i){this.window=t,this.Wn=e,this.persistenceKey=n,this.cl=r,this.Qc=null,this.hc=null,this.On=null,this.ll=this._l.bind(this),this.fl=new Ii(Cr),this.pr=!1,this.dl=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.wl=Hl(this.persistenceKey,this.cl),this.Tl="firestore_sequence_number_"+this.persistenceKey,this.fl=this.fl.et(this.cl,new of),this.El=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Il=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Al=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Rl="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.ll)}function Sf(){this.activeTargetIds=qi()}function xf(t,e){this.clientId=t,this.onlineState=e}function Of(t,e){this.clientId=t,this.activeTargetIds=e}function Df(t,e,n){this.targetId=t,this.state=e,this.error=n}function Pf(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function Cf(t){var e=this;return(e=Zl.call(this)||this).bi=t,e}mf.gi=(s(Cf,Zl=xa),Cf.prototype.wn=function(t){var e=this,n=[];return this.on.forEach((function(r,i){i?n.push(e.bi.un(t,i,e.readTime)):e.bi.ln(r)})),Sa.nn(n)},Cf.prototype.fn=function(t,e){return this.bi._n(t,e)},Cf.prototype.dn=function(t,e){return this.bi.getEntries(t,e)},Cf);var Rf,Lf,Mf=(up.prototype.ye=function(t,e){return this.Cf.forEach((function(t,n){return e(n)})),Sa.resolve()},up.prototype.xi=function(t){return Sa.resolve(this.lastRemoteSnapshotVersion)},up.prototype.Mi=function(t){return Sa.resolve(this.Ff)},up.prototype.Ni=function(t){return this.highestTargetId=this.$f.next(),Sa.resolve(this.highestTargetId)},up.prototype.Li=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ff&&(this.Ff=e),Sa.resolve()},up.prototype.Bi=function(t){this.Cf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.$f=new Iu(e),this.highestTargetId=e),t.sequenceNumber>this.Ff&&(this.Ff=t.sequenceNumber)},up.prototype.Oi=function(t,e){return this.Bi(e),this.targetCount+=1,Sa.resolve()},up.prototype.Ui=function(t,e){return this.Bi(e),Sa.resolve()},up.prototype.Qi=function(t,e){return this.Cf.delete(e.target),this.Nf.ga(e.targetId),--this.targetCount,Sa.resolve()},up.prototype.ji=function(t,e,n){var r=this,i=0,o=[];return this.Cf.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Cf.delete(s),o.push(r.Wi(t,a.targetId)),i++)})),Sa.nn(o).next((function(){return i}))},up.prototype.Ki=function(t){return Sa.resolve(this.targetCount)},up.prototype.Gi=function(t,e){var n=this.Cf.get(e)||null;return Sa.resolve(n)},up.prototype.zi=function(t,e,n){return this.Nf.ma(e,n),Sa.resolve()},up.prototype.Yi=function(t,e,n){this.Nf.Va(e,n);var r=this.persistence.Fi,i=[];return r&&e.forEach((function(e){i.push(r.oo(t,e))})),Sa.nn(i)},up.prototype.Wi=function(t,e){return this.Nf.ga(e),Sa.resolve()},up.prototype.Xi=function(t,e){var n=this.Nf.ya(e);return Sa.resolve(n)},up.prototype.tr=function(t,e){return Sa.resolve(this.Nf.tr(e))},up),jf=(ap.prototype.start=function(){return Promise.resolve()},ap.prototype.Ur=function(){return this.or=!1,Promise.resolve()},Object.defineProperty(ap.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),ap.prototype.yr=function(){},ap.prototype.Xr=function(){return this.mn},ap.prototype.zr=function(t){var e=this.kf[t.su()];return e||(e=new vf(this.mn,this.Fi),this.kf[t.su()]=e),e},ap.prototype.Yr=function(){return this.Tr},ap.prototype.Jr=function(){return this.An},ap.prototype.runTransaction=function(t,e,n){var r=this;Ar("MemoryPersistence","Starting transaction:",t);var i=new Uf(this.rr.next());return this.Fi.Mf(),n(i).next((function(t){return r.Fi.Lf(i).next((function(){return t}))})).en().then((function(t){return i.In(),t}))},ap.prototype.Of=function(t,e){return Sa.rn(Object.values(this.kf).map((function(n){return function(){return n.tr(t,e)}})))},ap),Uf=(s(sp,Lf=Da),sp),Vf=(op.Uf=function(t){return new op(t)},Object.defineProperty(op.prototype,"Qf",{get:function(){if(this.qf)return this.qf;throw Sr()},enumerable:!0,configurable:!0}),op.prototype.Hi=function(t,e,n){return this.Bf.Hi(n,e),this.Qf.delete(n),Sa.resolve()},op.prototype.Ji=function(t,e,n){return this.Bf.Ji(n,e),this.Qf.add(n),Sa.resolve()},op.prototype.oo=function(t,e){return this.Qf.add(e),Sa.resolve()},op.prototype.removeTarget=function(t,e){var n=this;this.Bf.ga(e.targetId).forEach((function(t){return n.Qf.add(t)}));var r=this.persistence.Yr();return r.Xi(t,e.targetId).next((function(t){t.forEach((function(t){return n.Qf.add(t)}))})).next((function(){return r.Qi(t,e)}))},op.prototype.Mf=function(){this.qf=new Set},op.prototype.Lf=function(t){var e=this,n=this.persistence.Jr().Vi();return Sa.forEach(this.Qf,(function(r){return e.Wf(t,r).next((function(t){t||n.ln(r)}))})).next((function(){return e.qf=null,n.apply(t)}))},op.prototype.co=function(t,e){var n=this;return this.Wf(t,e).next((function(t){t?n.Qf.delete(e):n.Qf.add(e)}))},op.prototype.xf=function(t){return 0},op.prototype.Wf=function(t,e){var n=this;return Sa.rn([function(){return Sa.resolve(n.Bf.tr(e))},function(){return n.persistence.Yr().tr(t,e)},function(){return n.persistence.Of(t,e)}])},op),Ff=(ip.prototype.xu=function(t){this.Gf=t},ip.prototype.Cu=function(t){this.zf=t},ip.prototype.onMessage=function(t){this.Hf=t},ip.prototype.close=function(){this.Kf()},ip.prototype.send=function(t){this.jf(t)},ip.prototype.Yf=function(){this.Gf()},ip.prototype.Jf=function(t){this.zf(t)},ip.prototype.Xf=function(t){this.Hf(t)},ip),qf={BatchGetDocuments:"batchGet",Commit:"commit"},Bf="gl-js/ fire/"+Er,Gf=(rp.prototype.td=function(t,e){if(e)for(var n in e.ru)e.ru.hasOwnProperty(n)&&(t[n]=e.ru[n]);t["X-Goog-Api-Client"]=Bf},rp.prototype.Yu=function(t,e,n){var r=this,i=this.ed(t);return new Promise((function(o,s){var a=new br;a.listenOnce(yr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case mr.NO_ERROR:var e=a.getResponseJson();Ar("Connection","XHR received:",JSON.stringify(e)),o(e);break;case mr.TIMEOUT:Ar("Connection",'RPC "'+t+'" timed out'),s(new Wr(zr.DEADLINE_EXCEEDED,"Request time out"));break;case mr.HTTP_ERROR:var n=a.getStatus();if(Ar("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),0<n){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=(u=r.status.toLowerCase().replace("_","-"),0<=Object.values(zr).indexOf(u)?u:zr.UNKNOWN);s(new Wr(i,r.message))}else s(new Wr(zr.UNKNOWN,"Server responded with status "+a.getStatus()))}else Ar("Connection",'RPC "'+t+'" failed'),s(new Wr(zr.UNAVAILABLE,"Connection failed."));break;default:Sr()}}finally{Ar("Connection",'RPC "'+t+'" completed.')}var u}));var u=Object.assign({},e);delete u.database;var c=JSON.stringify(u);Ar("Connection","XHR sending: ",i+" "+c);var h={"Content-Type":"text/plain"};r.td(h,n),a.send(i,"POST",c,h,15)}))},rp.prototype.Ju=function(t,e,n){return this.Yu(t,e,n)},rp.prototype.Mu=function(t,e){var n,i,o=[this.Zf,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=vr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.td(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=y().indexOf("Electron/")||0<=(i=y()).indexOf("MSIE ")||0<=i.indexOf("Trident/")||0<=y().indexOf("MSAppHost/")||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var u=o.join("");function h(t,e){l.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))}Ar("Connection","Creating WebChannel: "+u+" "+a);var l=s.createWebChannel(u,a),f=!1,p=!1,d=new Ff({jf:function(t){p?Ar("Connection","Not sending because WebChannel is closed:",t):(f||(Ar("Connection","Opening WebChannel transport."),l.open(),f=!0),Ar("Connection","WebChannel sending:",t),l.send(t))},Kf:function(){return l.close()}});return h(gr.EventType.OPEN,(function(){p||Ar("Connection","WebChannel transport opened.")})),h(gr.EventType.CLOSE,(function(){p||(p=!0,Ar("Connection","WebChannel transport closed"),d.Jf())})),h(gr.EventType.ERROR,(function(t){p||(p=!0,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tr.logLevel<=r.WARN){var i=e.map(kr);Tr.warn.apply(Tr,c(["Firestore ("+Er+"): Connection"],i))}}("Connection","WebChannel transport errored:",t),d.Jf(new Wr(zr.UNAVAILABLE,"The operation could not be completed")))})),h(gr.EventType.MESSAGE,(function(t){var e;if(!p){var n=t.data[0];xr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ar("Connection","WebChannel received error:",r);var i=r.status,o=function(){var t=vi[i];if(void 0!==t)return wi(t)}(),s=r.message;void 0===o&&(o=zr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),p=!0,d.Jf(new Wr(o,s)),l.close()}else Ar("Connection","WebChannel received:",n),d.Xf(n)}})),setTimeout((function(){d.Yf()}),0),d},rp.prototype.ed=function(t){var e=qf[t];return this.Zf+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},rp),Hf=(np.prototype.Pc=function(t){this.hd.push(t)},np.prototype.Ur=function(){window.removeEventListener("online",this.sd),window.removeEventListener("offline",this.rd)},np.prototype.ad=function(){window.addEventListener("online",this.sd),window.addEventListener("offline",this.rd)},np.prototype.nd=function(){Ar("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.hd;t<e.length;t++)(0,e[t])(0)},np.prototype.od=function(){Ar("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.hd;t<e.length;t++)(0,e[t])(1)},np._r=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},np),zf=(ep.prototype.Pc=function(t){},ep.prototype.Ur=function(){},ep),Wf="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Kf=(tp.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){var e=this;return u(this,(function(n){switch(n.label){case 0:return this.P_=this.ud(t),this.persistence=this.ld(t),[4,this.persistence.start()];case 1:return n.sent(),this._d=this.fd(t),this.Tc=this.dd(t),this.m_=this.wd(t),this.Qc=this.Td(t),this.Ed=this.Id(t),this.P_.hc=function(t){return e.Qc.c_(t,1)},this.m_.Qc=this.Qc,[4,this.Tc.start()];case 2:return n.sent(),[4,this.P_.start()];case 3:return n.sent(),[4,this.m_.start()];case 4:return n.sent(),[4,this.m_.rl(this.Qc.k_)];case 5:return n.sent(),[2]}}))}))},tp.prototype.Id=function(t){return new ff(this.Qc)},tp.prototype.fd=function(t){return null},tp.prototype.dd=function(t){return new qc(this.persistence,new df,t.Ad)},tp.prototype.ld=function(t){if(t.md.Rd)throw new Wr(zr.FAILED_PRECONDITION,Wf);return new jf(Vf.Uf)},tp.prototype.wd=function(t){var e=this;return new Pl(this.Tc,t.Xu,t.Oo,(function(t){return e.Qc.c_(t,0)}),new(Hf._r()?Hf:zf))},tp.prototype.ud=function(t){return new af},tp.prototype.Td=function(t){return new hf(this.Tc,this.m_,t.Xu,this.P_,t.Ad,t.V_)},tp.prototype.clearPersistence=function(t){throw new Wr(zr.FAILED_PRECONDITION,Wf)},tp),Qf=(s(Zf,Rf=Kf),Zf.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){var e=this;return u(this,(function(n){switch(n.label){case 0:return[4,Rf.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,this.persistence.gr((function(t){return a(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.Qc.rl(t)];case 1:return e.sent(),this._d&&(t&&!this._d.pr?this._d.start(this.Tc):t||this._d.stop()),[2]}}))}))}))];case 2:return n.sent(),[2]}}))}))},Zf.prototype.dd=function(t){return new Wc(this.persistence,new df,t.Ad)},Zf.prototype.Td=function(t){var e=new lf(this.Tc,this.m_,t.Xu,this.P_,t.Ad,t.V_);return this.P_ instanceof sf&&(this.P_.Qc=e),e},Zf.prototype.fd=function(t){var e=this.persistence.Fi.eo;return new Vc(e,t.Oo)},Zf.prototype.ld=function(t){var e=Du.to(t.Pd),n=Jh(t.Pd.s);return new Du(t.md.synchronizeTabs,e,t.clientId,Mc.ph(t.md.cacheSizeBytes),t.Oo,kc(),"undefined"!=typeof document?document:null,n,this.P_,t.md.ir)},Zf.prototype.ud=function(t){if(t.md.Rd&&t.md.synchronizeTabs){var e=kc();if(!sf._r(e))throw new Wr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Du.to(t.Pd);return new sf(e,t.Oo,n,t.clientId,t.Ad)}return new af},Zf.prototype.clearPersistence=function(t){var e=Du.to(t);return Du.clearPersistence(e)},Zf),Yf=($f.prototype.start=function(t,e){var n=this;this.Hu();var r=new Ga,i=new Ga,o=!1;return this.credentials.au((function(s){if(!o)return o=!0,Ar("FirestoreClient","Initializing. user=",s.uid),n.Vd(t,e,s,i).then(r.resolve,r.reject);n.Oo.Cr((function(){return n.m_.il(s)}))})),this.Oo.Sr((function(){return r.promise})),i.promise},$f.prototype.enableNetwork=function(){var t=this;return this.Hu(),this.Oo.enqueue((function(){return t.Qc.enableNetwork()}))},$f.prototype.Vd=function(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,s,c,h,l=this;return u(this,(function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,(h=this.Pd,Promise.resolve(new Gf(h)))];case 1:return i=f.sent(),o=Jh(this.Pd.s),p=i,d=this.credentials,s=new xl(p,d,o),[4,t.initialize({Oo:this.Oo,Pd:this.Pd,Xu:s,clientId:this.clientId,Ad:n,V_:100,md:e})];case 2:return f.sent(),this.persistence=t.persistence,this.P_=t.P_,this.Tc=t.Tc,this.m_=t.m_,this.Qc=t.Qc,this._d=t._d,this.gd=t.Ed,this.persistence.yr((function(){return a(l,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(c=f.sent(),r.reject(c),!this.pd(c))throw c;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),this.Vd(new Kf,{Rd:!1},n,r))];case 4:return[2]}var p,d}))}))},$f.prototype.pd=function(t){return"FirebaseError"===t.name?t.code===zr.FAILED_PRECONDITION||t.code===zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},$f.prototype.Hu=function(){if(this.Oo.eh)throw new Wr(zr.FAILED_PRECONDITION,"The client has already been terminated.")},$f.prototype.disableNetwork=function(){var t=this;return this.Hu(),this.Oo.enqueue((function(){return t.Qc.disableNetwork()}))},$f.prototype.terminate=function(){var t=this;return this.Oo.oh((function(){return a(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this._d&&this._d.stop(),[4,this.m_.Ur()];case 1:return t.sent(),[4,this.P_.Ur()];case 2:return t.sent(),[4,this.persistence.Ur()];case 3:return t.sent(),this.credentials.uu(),[2]}}))}))}))},$f.prototype.waitForPendingWrites=function(){var t=this;this.Hu();var e=new Ga;return this.Oo.Sr((function(){return t.Qc.K_(e)})),e.promise},$f.prototype.listen=function(t,e,n){var r=this;this.Hu();var i=new pf(t,e,n);return this.Oo.Sr((function(){return r.gd.listen(i)})),i},$f.prototype.qc=function(t){var e=this;this.yd||this.Oo.Sr((function(){return e.gd.qc(t)}))},$f.prototype.bd=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:return this.Hu(),e=new Ga,[4,this.Oo.enqueue((function(){return a(n,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.Tc.aa(t)];case 1:return(n=o.sent())instanceof Ks?e.resolve(n):n instanceof Qs?e.resolve(null):e.reject(new Wr(zr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Pc(r,"Failed to get document '"+t+" from cache"),e.reject(i),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},$f.prototype.vd=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:return this.Hu(),e=new Ga,[4,this.Oo.enqueue((function(){return a(n,void 0,void 0,(function(){var n,r,i,o,s,a;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.Tc.la(t,!0)];case 1:return n=u.sent(),r=new uf(t,n._a),i=r.n_(n.documents),o=r.wn(i,!1),e.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Pc(s,"Failed to execute query '"+t+" against cache"),e.reject(a),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),e.promise)]}}))}))},$f.prototype.write=function(t){var e=this;this.Hu();var n=new Ga;return this.Oo.Sr((function(){return e.Qc.write(t,n)})),n.promise},$f.prototype.s=function(){return this.Pd.s},$f.prototype.lf=function(t){var e=this;this.Hu(),this.Oo.Sr((function(){return e.gd.lf(t),Promise.resolve()}))},$f.prototype._f=function(t){var e=this;this.yd||this.Oo.Sr((function(){return e.gd._f(t),Promise.resolve()}))},Object.defineProperty($f.prototype,"yd",{get:function(){return this.Oo.eh},enumerable:!0,configurable:!0}),$f.prototype.transaction=function(t){var e=this;this.Hu();var n=new Ga;return this.Oo.Sr((function(){return e.Qc.runTransaction(e.Oo,t,n),Promise.resolve()})),n.promise},$f),Xf=(Jf.prototype.next=function(t){this.Sd(this.observer.next,t)},Jf.prototype.error=function(t){this.Sd(this.observer.error,t)},Jf.prototype.Dd=function(){this.muted=!0},Jf.prototype.Sd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},Jf);function Jf(t){this.observer=t,this.muted=!1}function $f(t,e,n){this.Pd=t,this.credentials=e,this.Oo=n,this.clientId=Dr.t()}function Zf(){return null!==Rf&&Rf.apply(this,arguments)||this}function tp(){}function ep(){}function np(){var t=this;this.sd=function(){return t.nd()},this.rd=function(){return t.od()},this.hd=[],this.ad()}function rp(t){this.s=t.s;var e=t.ssl?"https":"http";this.Zf=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}function ip(t){this.jf=t.jf,this.Kf=t.Kf}function op(t){this.persistence=t,this.Bf=new Yc,this.qf=null}function sp(t){var e=this;return(e=Lf.call(this)||this).sr=t,e}function ap(t){var e=this;this.kf={},this.rr=new Ra(0),this.or=!1,this.or=!0,this.Fi=t(this),this.Tr=new Mf(this),this.mn=new Xa,this.An=new mf(this.mn,(function(t){return e.Fi.xf(t)}))}function up(t){this.persistence=t,this.Cf=new Hr((function(t){return Ta(t)}),_a),this.lastRemoteSnapshotVersion=Qr.min(),this.highestTargetId=0,this.Ff=0,this.Nf=new Yc,this.targetCount=0,this.$f=Iu.Di()}function cp(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}var hp,lp,fp,pp,dp=(Vp.prototype.Nd=function(t){switch(ho(t)){case 0:return null;case 1:return t.booleanValue;case 2:return go(t.integerValue||t.doubleValue);case 3:return this.$d(t.timestampValue);case 4:return this.kd(t);case 5:return t.stringValue;case 6:return new Eh(bo(t.bytesValue));case 7:return this.xd(t.referenceValue);case 8:return this.Md(t.geoPointValue);case 9:return this.Ld(t.arrayValue);case 10:return this.Od(t.mapValue);default:throw Sr()}},Vp.prototype.Od=function(t){var e=this,n={};return Fr(t.fields||{},(function(t,r){n[t]=e.Nd(r)})),n},Vp.prototype.Md=function(t){return new Bh(go(t.latitude),go(t.longitude))},Vp.prototype.Ld=function(t){var e=this;return(t.values||[]).map((function(t){return e.Nd(t)}))},Vp.prototype.kd=function(t){switch(this.Cd){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return ao(n)?t(n):n}(t);return null==e?null:this.Nd(e);case"estimate":return this.$d(uo(t));default:return null}},Vp.prototype.$d=function(t){var e=yo(t),n=new Kr(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},Vp.prototype.xd=function(t){var e=Xr.$(t);xr($o(e));var n=new jr(e.get(1),e.get(3)),r=new ai(e.g(5));return n.isEqual(this.s)||Nr("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.Fd(r)},Vp),vp=Mc.vh,mp=(Up.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},Up),yp=(Object.defineProperty(jp.prototype,"Hd",{get:function(){return this.Yd||(this.Yd=new sl(this.qa,this.zd.ignoreUndefinedProperties)),this.Yd},enumerable:!0,configurable:!0}),jp.prototype.settings=function(t){th("Firestore.settings",arguments,1),rh("Firestore.settings","object",1,t);var e=new mp(t);if(this.Qd&&!this.zd.isEqual(e))throw new Wr(zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this.zd=e).credentials&&(this.Kd=function(t){if(!t)return new El;switch(t.type){case"gapi":var e=t.Jd;return xr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Al(e,t.wu||"0");case"provider":return t.Jd;default:throw new Wr(zr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},jp.prototype.enableNetwork=function(){return this.Ud(),this.Qd.enableNetwork()},jp.prototype.disableNetwork=function(){return this.Ud(),this.Qd.disableNetwork()},jp.prototype.enablePersistence=function(t){var e,n;if(this.Qd)throw new Wr(zr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&Nr("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new Wr(zr.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Xd(this.Gd,{Rd:!0,cacheSizeBytes:this.zd.cacheSizeBytes,synchronizeTabs:r,ir:i})},jp.prototype.clearPersistence=function(){return a(this,void 0,void 0,(function(){var t,e=this;return u(this,(function(n){if(void 0!==this.Qd&&!this.Qd.yd)throw new Wr(zr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Ga,[2,(this.qd.sh((function(){return a(e,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.Zd(),[4,this.Gd.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},jp.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(jp.prototype,"tw",{get:function(){return this.Ud(),this.Qd.yd},enumerable:!0,configurable:!0}),jp.prototype.waitForPendingWrites=function(){return this.Ud(),this.Qd.waitForPendingWrites()},jp.prototype.onSnapshotsInSync=function(t){if(this.Ud(),cp(t))return this.ew(t);rh("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.ew(e)},jp.prototype.ew=function(t){var e=this,n=new Xf({next:function(){t.next&&t.next()},error:function(t){throw Sr()}});return this.Qd.lf(n),function(){n.Dd(),e.Qd._f(n)}},jp.prototype.Ud=function(){return this.Qd||this.Xd(new Kf,{Rd:!1}),this.Qd},jp.prototype.Zd=function(){return new Mr(this.qa,this.jd,this.zd.host,this.zd.ssl,this.zd.forceLongPolling)},jp.prototype.Xd=function(t,e){var n=this.Zd();return this.Qd=new Yf(n,this.Kd,this.qd),this.Qd.start(t,e)},jp.Wd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new Wr(zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new Wr(zr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new jr(n)},Object.defineProperty(jp.prototype,"app",{get:function(){if(!this.Bd)throw new Wr(zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Bd},enumerable:!0,configurable:!0}),jp.prototype.collection=function(t){return th("Firestore.collection",arguments,1),rh("Firestore.collection","non-empty string",1,t),this.Ud(),new Np(Xr.$(t),this,null)},jp.prototype.doc=function(t){return th("Firestore.doc",arguments,1),rh("Firestore.doc","non-empty string",1,t),this.Ud(),wp.sw(Xr.$(t),this,null)},jp.prototype.collectionGroup=function(t){if(th("Firestore.collectionGroup",arguments,1),rh("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Ud(),new _p(new Xs(Xr.k,t),this,null)},jp.prototype.runTransaction=function(t){var e=this;return th("Firestore.runTransaction",arguments,1),rh("Firestore.runTransaction","function",1,t),this.Ud().transaction((function(n){return t(new gp(e,n))}))},jp.prototype.batch=function(){return this.Ud(),new bp(this)},Object.defineProperty(jp,"logLevel",{get:function(){switch(_r()){case r.DEBUG:return"debug";case r.ERROR:return"error";case r.SILENT:return"silent";case r.WARN:return"warn";case r.INFO:return"info";case r.VERBOSE:return"verbose";default:return"error"}},enumerable:!0,configurable:!0}),jp.setLogLevel=function(t){th("Firestore.setLogLevel",arguments,1),uh("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),Tr.setLogLevel(t)},jp.prototype.nw=function(){return this.zd.timestampsInSnapshots},jp),gp=(Mp.prototype.get=function(t){var e=this;th("Transaction.get",arguments,1);var n=Gp("Transaction.get",t,this.iw);return this.rw.nc([n.Ua]).then((function(t){if(!t||1!==t.length)return Sr();var r=t[0];if(r instanceof Qs)return new Ep(e.iw,n.Ua,null,!1,!1,n.Qa);if(r instanceof Ks)return new Ep(e.iw,n.Ua,r,!1,!1,n.Qa);throw Sr()}))},Mp.prototype.set=function(t,e,n){nh("Transaction.set",arguments,2,3);var r=Gp("Transaction.set",t,this.iw);n=Fp("Transaction.set",n);var i=Hp(r.Qa,e,"Transaction.set"),o=i[0],s=i[1],a=this.iw.Hd.Ja(s,o,n);return this.rw.set(r.Ua,a),this},Mp.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return i="string"==typeof e||e instanceof Th?(eh("Transaction.update",arguments,3),r=Gp("Transaction.update",t,this.iw),this.iw.Hd.tu("Transaction.update",e,n,o)):(th("Transaction.update",arguments,2),r=Gp("Transaction.update",t,this.iw),this.iw.Hd.Za("Transaction.update",e)),this.rw.update(r.Ua,i),this},Mp.prototype.delete=function(t){th("Transaction.delete",arguments,1);var e=Gp("Transaction.delete",t,this.iw);return this.rw.delete(e.Ua),this},Mp),bp=(Lp.prototype.set=function(t,e,n){nh("WriteBatch.set",arguments,2,3),this.aw();var r=Gp("WriteBatch.set",t,this.iw);n=Fp("WriteBatch.set",n);var i=Hp(r.Qa,e,"WriteBatch.set"),o=i[0],s=i[1],a=this.iw.Hd.Ja(s,o,n);return this.ow=this.ow.concat(a.Wa(r.Ua,ms.Qe())),this},Lp.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.aw(),i="string"==typeof e||e instanceof Th?(eh("WriteBatch.update",arguments,3),r=Gp("WriteBatch.update",t,this.iw),this.iw.Hd.tu("WriteBatch.update",e,n,o)):(th("WriteBatch.update",arguments,2),r=Gp("WriteBatch.update",t,this.iw),this.iw.Hd.Za("WriteBatch.update",e)),this.ow=this.ow.concat(i.Wa(r.Ua,ms.exists(!0))),this},Lp.prototype.delete=function(t){th("WriteBatch.delete",arguments,1),this.aw();var e=Gp("WriteBatch.delete",t,this.iw);return this.ow=this.ow.concat(new Is(e.Ua,ms.Qe())),this},Lp.prototype.commit=function(){return this.aw(),this.hw=!0,0<this.ow.length?this.iw.Ud().write(this.ow):Promise.resolve()},Lp.prototype.aw=function(){if(this.hw)throw new Wr(zr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Lp),wp=(s(Rp,pp=Zh),Rp.sw=function(t,e,n){if(t.length%2!=0)throw new Wr(zr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.N()+" has "+t.length);return new Rp(new ai(t),e,n)},Object.defineProperty(Rp.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(Rp.prototype,"parent",{get:function(){return new Np(this.Ua.path.p(),this.firestore,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(Rp.prototype,"path",{get:function(){return this.Ua.path.N()},enumerable:!0,configurable:!0}),Rp.prototype.collection=function(t){if(th("DocumentReference.collection",arguments,1),rh("DocumentReference.collection","non-empty string",1,t),!t)throw new Wr(zr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Xr.$(t);return new Np(this.Ua.path.child(e),this.firestore,null)},Rp.prototype.isEqual=function(t){if(!(t instanceof Rp))throw dh("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.Ua.isEqual(t.Ua)&&this.Qa===t.Qa},Rp.prototype.set=function(t,e){nh("DocumentReference.set",arguments,1,2),e=Fp("DocumentReference.set",e);var n=Hp(this.Qa,t,"DocumentReference.set"),r=n[0],i=n[1],o=this.firestore.Hd.Ja(i,r,e);return this.Qd.write(o.Wa(this.Ua,ms.Qe()))},Rp.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Th?(eh("DocumentReference.update",arguments,2),this.firestore.Hd.tu("DocumentReference.update",t,e,r)):(th("DocumentReference.update",arguments,1),this.firestore.Hd.Za("DocumentReference.update",t)),this.Qd.write(n.Wa(this.Ua,ms.exists(!0)))},Rp.prototype.delete=function(){return th("DocumentReference.delete",arguments,0),this.Qd.write([new Is(this.Ua,ms.Qe())])},Rp.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];nh("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||cp(t[i])||(ph("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),sh("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return n=cp(t[i])?t[i]:(rh("DocumentReference.onSnapshot","function",i,t[i]),ih("DocumentReference.onSnapshot","function",i+1,t[i+1]),ih("DocumentReference.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.uw(o,n)},Rp.prototype.uw=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Xf({next:function(t){if(e.next){var r=t.docs.get(n.Ua);e.next(new Ep(n.firestore,n.Ua,r,t.fromCache,t.hasPendingWrites,n.Qa))}},error:r}),o=this.Qd.listen(Xs.As(this.Ua.path),i,t);return function(){i.Dd(),n.Qd.qc(o)}},Rp.prototype.get=function(t){var e=this;return nh("DocumentReference.get",arguments,0,1),Bp("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Ud().bd(e.Ua).then((function(t){n(new Ep(e.firestore,e.Ua,t,!0,t instanceof Ks&&t.Xe,e.Qa))}),r):e.cw(n,r,t)}))},Rp.prototype.cw=function(t,e,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new Wr(zr.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new Wr(zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},Rp.prototype.withConverter=function(t){return new Rp(this.Ua,this.firestore,t)},Rp),Ip=(Cp.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Cp),Ep=(Pp.prototype.data=function(t){var e=this;if(nh("DocumentSnapshot.data",arguments,0,1),t=qp("DocumentSnapshot.data",t),this.lw){if(this.Qa){var n=new Tp(this.iw,this.Ua,this.lw,this._w,this.fw,null);return this.Qa.fromFirestore(n,t)}return new dp(this.iw.qa,this.iw.nw(),t.serverTimestamps||"none",(function(t){return new wp(t,e.iw,null)})).Nd(this.lw.fs())}},Pp.prototype.get=function(t,e){var n=this;if(nh("DocumentSnapshot.get",arguments,1,2),e=qp("DocumentSnapshot.get",e),this.lw){var r=this.lw.data().field(pl("DocumentSnapshot.get",t));if(null!==r)return new dp(this.iw.qa,this.iw.nw(),e.serverTimestamps||"none",(function(t){return new wp(t,n.iw,n.Qa)})).Nd(r)}},Object.defineProperty(Pp.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(Pp.prototype,"ref",{get:function(){return new wp(this.Ua,this.iw,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(Pp.prototype,"exists",{get:function(){return null!==this.lw},enumerable:!0,configurable:!0}),Object.defineProperty(Pp.prototype,"metadata",{get:function(){return new Ip(this.fw,this._w)},enumerable:!0,configurable:!0}),Pp.prototype.isEqual=function(t){if(!(t instanceof Pp))throw dh("isEqual","DocumentSnapshot",1,t);return this.iw===t.iw&&this._w===t._w&&this.Ua.isEqual(t.Ua)&&(null===this.lw?null===t.lw:this.lw.isEqual(t.lw))&&this.Qa===t.Qa},Pp),Tp=(s(Dp,fp=Ep),Dp.prototype.data=function(t){return fp.prototype.data.call(this,t)},Dp),_p=(Op.prototype.ww=function(t,e,n){var r;if(t.L()){if("array-contains"===e||"array-contains-any"===e)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+e+"' queries on FieldPath.documentId().");if("in"===e){this.Tw(n,e);for(var i=[],o=0,s=n;o<s.length;o++){var a=s[o];i.push(this.Ew(a))}r={arrayValue:{values:i}}}else r=this.Ew(n)}else"in"!==e&&"array-contains-any"!==e||this.Tw(n,e),r=this.Hd.eu("Query.where",n,"in"===e);var u=Js.create(t,e,r);return this.Iw(u),u},Op.prototype.Aw=function(t,e){if(null!==this.dw.startAt)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.dw.endAt)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new ga(t,e);return this.Rw(n),n},Op.prototype.mw=function(t,e,n){if(!e)throw new Wr(zr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var r=[],i=0,o=this.dw.orderBy;i<o.length;i++){var s=o[i];if(s.field.L())r.push(wo(this.qa,e.key));else{var a=e.field(s.field);if(ao(a))throw new Wr(zr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var u=s.field.N();throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new ra(r,n)},Op.prototype.Pw=function(t,e,n){var r=this.dw.ds;if(e.length>r.length)throw new Wr(zr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.L()){if("string"!=typeof s)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.dw.Bs()&&-1!==s.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.dw.path.child(Xr.$(s));if(!ai.W(a))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new ai(a);i.push(wo(this.qa,u))}else{var c=this.Hd.eu(t,s);i.push(c)}}return new ra(i,n)},Op.prototype.Vw=function(t){if(t.xs()&&0===t.ds.length)throw new Wr(zr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},Op.prototype.Ew=function(t){if("string"==typeof t){if(""===t)throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.dw.Bs()&&-1!==t.indexOf("/"))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.dw.path.child(Xr.$(t));if(!ai.W(e))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return wo(this.qa,new ai(e))}if(t instanceof Zh)return wo(this.qa,t.Ua);throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+lh(t)+".")},Op.prototype.Tw=function(t,e){if(!Array.isArray(t)||0===t.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=t.indexOf(null))throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter((function(t){return Number.isNaN(t)})).length)throw new Wr(zr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},Op.prototype.Iw=function(t){if(t instanceof Js){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=0<=e.indexOf(t.op),i=0<=n.indexOf(t.op);if(t.Ms()){var o=this.dw.Rs();if(null!==o&&!o.isEqual(t.field))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.dw.ms();null!==s&&this.gw(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.dw.Ls(n)),null===a&&r&&(a=this.dw.Ls(e)),null!=a)throw a===t.op?new Wr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Wr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},Op.prototype.Rw=function(t){if(null===this.dw.ms()){var e=this.dw.Rs();null!==e&&this.gw(e,t.field)}},Op.prototype.gw=function(t,e){if(!e.isEqual(t))throw new Wr(zr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},s(xp,lp=Op),xp.prototype.where=function(t,e,n){th("Query.where",arguments,3),fh("Query.where",3,n);var r=uh("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,e),i=pl("Query.where",t),o=this.ww(i,r,n);return new xp(this.dw.Ps(o),this.firestore,this.Qa)},xp.prototype.orderBy=function(t,e){var n;if(nh("Query.orderBy",arguments,1,2),ih("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new Wr(zr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}var r=pl("Query.orderBy",t),i=this.Aw(r,n);return new xp(this.dw.Vs(i),this.firestore,this.Qa)},xp.prototype.limit=function(t){return th("Query.limit",arguments,1),rh("Query.limit","number",1,t),vh("Query.limit",1,t),new xp(this.dw.gs(t),this.firestore,this.Qa)},xp.prototype.limitToLast=function(t){return th("Query.limitToLast",arguments,1),rh("Query.limitToLast","number",1,t),vh("Query.limitToLast",1,t),new xp(this.dw.ps(t),this.firestore,this.Qa)},xp.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];eh("Query.startAt",arguments,1);var r=this.pw("Query.startAt",t,e,!0);return new xp(this.dw.ys(r),this.firestore,this.Qa)},xp.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];eh("Query.startAfter",arguments,1);var r=this.pw("Query.startAfter",t,e,!1);return new xp(this.dw.ys(r),this.firestore,this.Qa)},xp.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];eh("Query.endBefore",arguments,1);var r=this.pw("Query.endBefore",t,e,!0);return new xp(this.dw.bs(r),this.firestore,this.Qa)},xp.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];eh("Query.endAt",arguments,1);var r=this.pw("Query.endAt",t,e,!1);return new xp(this.dw.bs(r),this.firestore,this.Qa)},xp.prototype.isEqual=function(t){if(!(t instanceof xp))throw dh("isEqual","Query",1,t);return this.firestore===t.firestore&&this.dw.isEqual(t.dw)&&this.Qa===t.Qa},xp.prototype.withConverter=function(t){return new xp(this.dw,this.firestore,t)},xp.prototype.pw=function(t,e,n,r){if(fh(t,1,e),e instanceof Ep)return th(t,c([e],n),1),this.mw(t,e.lw,r);var i=[e].concat(n);return this.Pw(t,i,r)},xp.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];nh("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||cp(t[i])||(ph("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),sh("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=cp(t[i])?t[i]:(rh("Query.onSnapshot","function",i,t[i]),ih("Query.onSnapshot","function",i+1,t[i+1]),ih("Query.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.Vw(this.dw),this.uw(r,n)},xp.prototype.uw=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Xf({next:function(t){e.next&&e.next(new Ap(n.firestore,n.dw,t,n.Qa))},error:r}),o=this.firestore.Ud(),s=o.listen(this.dw,i,t);return function(){i.Dd(),o.qc(s)}},xp.prototype.get=function(t){var e=this;return nh("Query.get",arguments,0,1),Bp("Query.get",t),this.Vw(this.dw),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.Ud().vd(e.dw).then((function(t){n(new Ap(e.firestore,e.dw,t,e.Qa))}),r):e.cw(n,r,t)}))},xp.prototype.cw=function(t,e,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new Wr(zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},xp),Ap=(Object.defineProperty(Sp.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(Sp.prototype,"empty",{get:function(){return this.bw.docs._()},enumerable:!0,configurable:!0}),Object.defineProperty(Sp.prototype,"size",{get:function(){return this.bw.docs.size},enumerable:!0,configurable:!0}),Sp.prototype.forEach=function(t,e){var n=this;nh("QuerySnapshot.forEach",arguments,1,2),rh("QuerySnapshot.forEach","function",1,t),this.bw.docs.forEach((function(r){t.call(e,n.Dw(r))}))},Object.defineProperty(Sp.prototype,"query",{get:function(){return new _p(this.yw,this.iw,this.Qa)},enumerable:!0,configurable:!0}),Sp.prototype.docChanges=function(t){t&&(ph("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),sh("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.bw.qt)throw new Wr(zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.vw&&this.Sw===e||(this.vw=function(t,e,n,r){if(n.Lt._()){var i=0;return n.docChanges.map((function(e){var o=new Tp(t,e.doc.key,e.doc,n.fromCache,n.Ot.has(e.doc.key),r);return e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.Lt;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Tp(t,e.doc.key,e.doc,n.fromCache,n.Ot.has(e.doc.key),r),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sr()}}(e.type),doc:i,oldIndex:s,newIndex:a}}))}(this.iw,e,this.bw,this.Qa),this.Sw=e),this.vw},Sp.prototype.isEqual=function(t){if(!(t instanceof Sp))throw dh("isEqual","QuerySnapshot",1,t);return this.iw===t.iw&&this.yw.isEqual(t.yw)&&this.bw.isEqual(t.bw)&&this.Qa===t.Qa},Sp.prototype.Dw=function(t){return new Tp(this.iw,t.key,t,this.metadata.fromCache,this.bw.Ot.has(t.key),this.Qa)},Sp),Np=(s(kp,hp=_p),Object.defineProperty(kp.prototype,"id",{get:function(){return this.dw.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(kp.prototype,"parent",{get:function(){var t=this.dw.path.p();return t._()?null:new wp(new ai(t),this.firestore,null)},enumerable:!0,configurable:!0}),Object.defineProperty(kp.prototype,"path",{get:function(){return this.dw.path.N()},enumerable:!0,configurable:!0}),kp.prototype.doc=function(t){nh("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Dr.t()),rh("CollectionReference.doc","non-empty string",1,t);var e=Xr.$(t);return wp.sw(this.dw.path.child(e),this.firestore,this.Qa)},kp.prototype.add=function(t){th("CollectionReference.add",arguments,1),rh("CollectionReference.add","object",1,this.Qa?this.Qa.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},kp.prototype.withConverter=function(t){return new kp(this.Cw,this.firestore,t)},kp);function kp(t,e,n){var r=this;if(((r=hp.call(this,Xs.As(t),e,n)||this).Cw=t).length%2!=1)throw new Wr(zr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.N()+" has "+t.length);return r}function Sp(t,e,n,r){this.iw=t,this.yw=e,this.bw=n,this.Qa=r,this.vw=null,this.Sw=null,this.metadata=new Ip(n.hasPendingWrites,n.fromCache)}function xp(t,e,n){var r=this;return(r=lp.call(this,e.qa,e.Hd,t)||this).dw=t,r.firestore=e,r.Qa=n,r}function Op(t,e,n){this.qa=t,this.Hd=e,this.dw=n}function Dp(){return null!==fp&&fp.apply(this,arguments)||this}function Pp(t,e,n,r,i,o){this.iw=t,this.Ua=e,this.lw=n,this._w=r,this.fw=i,this.Qa=o}function Cp(t,e){this.hasPendingWrites=t,this.fromCache=e}function Rp(t,e,n){var r=this;return(r=pp.call(this,e.qa,t,n)||this).Ua=t,r.firestore=e,r.Qa=n,r.Qd=r.firestore.Ud(),r}function Lp(t){this.iw=t,this.ow=[],this.hw=!1}function Mp(t,e){this.iw=t,this.rw=e}function jp(t,e,n){var r=this;if(void 0===n&&(n=new Kf),this.Bd=null,this.qd=new xc,this.INTERNAL={delete:function(){return a(r,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.Ud(),[4,this.Qd.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof t.options){var i=t;this.Bd=i,this.qa=jp.Wd(i),this.jd=i.name,this.Kd=new Tl(e)}else{var o=t;if(!o.projectId)throw new Wr(zr.INVALID_ARGUMENT,"Must provide projectId");this.qa=new jr(o.projectId,o.database),this.jd="[DEFAULT]",this.Kd=new El}this.Gd=n,this.zd=new mp({})}function Up(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Wr(zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else oh("settings","non-empty string","host",t.host),this.host=t.host,sh("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(ph("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),sh("settings","object","credentials",t.credentials),this.credentials=t.credentials,sh("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),sh("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Nr("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Nr("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,sh("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Mc.Dh;else{if(t.cacheSizeBytes!==vp&&t.cacheSizeBytes<Mc.Sh)throw new Wr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Mc.Sh);this.cacheSizeBytes=t.cacheSizeBytes}sh("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}function Vp(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Cd=n,this.Fd=r}function Fp(t,e){if(void 0===e)return{merge:!1};if(ph(t,e,["merge","mergeFields"]),sh(t,"boolean","merge",e.merge),n=t,void 0!==(r=e.mergeFields)&&function(t,e,n,r){if(!(n instanceof Array))throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+lh(n));for(var i=0;i<n.length;++i)if(!r(n[i]))throw new Wr(zr.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+i+" was: "+lh(n[i]))}(n,"mergeFields",r,(function(t){return"string"==typeof t||t instanceof Th})),void 0!==e.mergeFields&&void 0!==e.merge)throw new Wr(zr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n,r;return e}function qp(t,e){return void 0===e?{}:(ph(t,e,["serverTimestamps"]),ah(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Bp(t,e){ih(t,"object",1,e),e&&(ph(t,e,["source"]),ah(t,0,"source",e.source,["default","server","cache"]))}function Gp(t,e,n){if(e instanceof Zh){if(e.firestore!==n)throw new Wr(zr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw dh(t,"DocumentReference",1,e)}function Hp(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var zp=["length","name"];function Wp(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new Wr(zr.INVALID_ARGUMENT,t)}for(var r=0,i=Object.getOwnPropertyNames(t);r<i.length;r++){var o=i[r];-1===zp.indexOf(o)&&(n[o]=t[o])}return n}var Kp,Qp=Wp(yp,"Use firebase.firestore() instead."),Yp=Wp(gp,"Use firebase.firestore().runTransaction() instead."),Xp=Wp(bp,"Use firebase.firestore().batch() instead."),Jp=Wp(wp,"Use firebase.firestore().doc() instead."),$p=Wp(Ep),Zp=Wp(Tp),td=Wp(_p),ed=Wp(Ap),nd=Wp(Np,"Use firebase.firestore().collection() instead."),rd=Wp(Fh,"Use FieldValue.<field>() instead."),id=Wp(Eh,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),od={Firestore:Qp,GeoPoint:Bh,Timestamp:Kr,Blob:id,Transaction:Yp,WriteBatch:Xp,DocumentReference:Jp,DocumentSnapshot:$p,Query:td,QueryDocumentSnapshot:Zp,QuerySnapshot:ed,CollectionReference:nd,FieldPath:Th,FieldValue:rd,setLogLevel:yp.setLogLevel,CACHE_SIZE_UNLIMITED:vp};(Kp=e).INTERNAL.registerComponent(new wr("firestore",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),new yp(e,n,new Qf);var e,n}),"PUBLIC").setServiceProps(Object.assign({},od))),Kp.registerVersion("@firebase/firestore","1.15.5")}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}}(n(0))}).call(this,n(4))},function(t,e,n){var r=n(1),i=n(26);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(2)(!1)).push([t.i,".modalWindowDiv {\r\n    position: fixed;\r\n    height: 100%;\r\n    width: 100%;\r\n    top: 0;\r\n    z-index: 20;\r\n    background-color: rgba(102,102,102,0.95);\r\n    animation: settings 1s;\r\n}\r\n.modalWindowDivRemove {\r\n    position: fixed;\r\n    height: 100%;\r\n    width: 100%;\r\n    top: 0;\r\n    z-index: 20;\r\n    background-color: rgba(102,102,102,0.95);\r\n    animation: settingsRemove 1s;\r\n}\r\n@keyframes settings {\r\n    0%{\r\n        opacity: 0;\r\n    }\r\n    100% {\r\n        opacity: 1;\r\n    }\r\n}\r\n@keyframes settingsRemove {\r\n    0%{\r\n        opacity: 1;\r\n    }\r\n    100% {\r\n        opacity: 0;\r\n    }\r\n}\r\n.modalWindow {\r\n    width: 60vw;\r\n    height: 30vh;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    margin: 0 auto;\r\n    top: 0;\r\n    transform: translateY(50%);\r\n    background-color: white;\r\n    border-radius: 20px;\r\n}\r\n.modalText {\r\n    font-size: 27px;\r\n    color: black !important;\r\n    margin: 15px auto;\r\n}\r\n.buttonsBlock {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(100px, 180px));\r\n    width: 80%;\r\n    margin:  25px auto;\r\n    justify-content: center;\r\n}\r\n.buttonYes, .buttonNo {\r\n    background-color: rgba(102,102,102,0.95);\r\n    border: 1px  solid black;\r\n    height: 50px;\r\n    width: 110px;\r\n    display: block;\r\n    margin: 10px auto;\r\n    border-radius: 10px;\r\n    box-shadow:  0 0 20px 10px rgb(178,179,168);\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n}\r\n.buttonYes:hover, .buttonNo:hover {\r\n    cursor: pointer;\r\n    height: 60px;\r\n    width: 130px;\r\n    transition: 0.7s;\r\n    transform: translateY(-5px);\r\n    font-size: 18px;\r\n}\r\n.buttonNo {\r\n    background-color: white;\r\n}",""]),t.exports=e},function(t,e,n){var r=n(1),i=n(28);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(2)(!1)).push([t.i,'.contacts {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(100px,100px));\r\n    justify-content: left;\r\n}\r\n.contact {\r\n    margin: 15px auto;\r\n    font-family: Arial, sans-serif; /*   */\r\n    font-size: 25px; \r\n    font-style: italic;\r\n    color: wheat;\r\n    animation: contactAni 1s;\r\n}\r\n.contactStart {\r\n    margin: 15px auto;\r\n    font-family: Arial, sans-serif; /*   */\r\n    font-size: 25px; \r\n    font-style: italic;\r\n    color: wheat;\r\n    position: relative;\r\n    left: -1000px;\r\n}\r\n@keyframes contactAni {\r\n    0% {\r\n        position: relative;\r\n        transform: translateX(-1000px) ;\r\n    }\r\n    100%{\r\n        position: relative;\r\n        transform: translateX(0) ;\r\n    }\r\n}\r\n.contactImg:hover {\r\n    text-decoration: none;\r\n    transition: 0.5s;\r\n    position: absolute;\r\n    transform: translateX(-10px) translateY(-10px);;\r\n    width: 60px;\r\n    height: 60px;\r\n}\r\n.title {\r\n    margin: 10px auto 0 auto;\r\n    padding: 10px;\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n    display: block;\r\n    text-align: left;\r\n    font-style: oblique;\r\n}\r\n.blockImage {\r\n    display: block;\r\n    margin: 20px 15px 5px 0;\r\n    height:200px;\r\n    width: 160px;\r\n    float: left;\r\n}\r\n.row {\r\n    display: block;\r\n    clear: both;\r\n    content: "";\r\n    margin: 0;\r\n    transform-style: preserve-3d;\r\n}\r\n.text-block {\r\n    padding: 15px 0;\r\n    width: 100%;\r\n    text-align: justify;\r\n    font-size: 18px;\r\n    line-height: 25px;\r\n    word-break: break-word;\r\n}\r\n.contactImg {\r\n    width: 40px;\r\n    height: 40px;\r\n    position: absolute;\r\n}\r\n@media screen and (max-width: 769px) {\r\n    .contacts{\r\n        justify-content: center;}\r\n}\r\n@media screen and (max-width: 325px) {\r\n    .contacts{\r\n        justify-content: center;\r\n        display: grid;\r\n        grid-template-columns: repeat(auto-fit, minmax(100px,84px));\r\n    }\r\n}',""]),t.exports=e},function(t,e,n){"use strict";n.r(e);n(7),n(9),n(11),n(13),n(15);let r=[{id:1,stars:4,icon:"https://upload.wikimedia.org/wikipedia/commons/1/1f/Star_Icon.png",name:"JS"},{id:2,stars:5,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"CSS"},{id:3,stars:5,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"HTML"},{is:4,stars:4,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"React"},{id:5,stars:4,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"Redux"},{is:6,stars:4,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"React Hooks"},{id:7,stars:3,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"Redux Thunk"},{id:8,stars:4,icon:"https://upload.wikimedia.org/wikipedia/commons/1/1f/Star_Icon.png",name:"Redux Form"},{id:9,stars:3,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"axios"},{id:10,stars:2,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"lodash"},{is:11,stars:4,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"Git"},{id:12,stars:3,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"firebase"},{is:13,stars:3,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"OOP"},{is:14,stars:2,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"Next JS"},{is:15,stars:4,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"ES"},{is:16,stars:3,icon:"https://freeiconshop.com/wp-content/uploads/edd/html-outline.png",name:"selectors"},{id:17,stars:4,icon:"https://upload.wikimedia.org/wikipedia/commons/1/1f/Star_Icon.png",name:"Rest Api"}];const i=main.querySelector(".wrapper");new MutationObserver(t=>{const e=main.querySelectorAll(".skillDivStart");if("skills"===t[0].addedNodes[0].className){const t=e.length;for(let n=t-1;n<t&&n>=0;n--)setTimeout(()=>e[n].className="skillDiv",1e3-50*n);for(let t of e)t.addEventListener("click",()=>{Object.assign(t,{className:"skillDivAnimation"===t.className?"skillDivAnimationRotate":"skillDivAnimation"})})}}).observe(i,{childList:!0,characterDataOldValue:!1});n(17);const o=main.querySelector(".wrapper");new MutationObserver(t=>{const e=main.querySelectorAll(".educationImageBlock");if("educations"===t[0].addedNodes[0].className){const t=main.querySelectorAll(".educationBlockStart");for(let e=0;e<t.length;e++)setTimeout(()=>t[e].className="educationBlock",200*e);for(let t of e){t.querySelector(".showInfoImageDiv").addEventListener("mousedown",()=>{const e=t.querySelector(".educationImgClosed");e.className="educationImgOpened",e.addEventListener("mousedown",()=>{e.className="educationImgClosed"})})}}}).observe(o,{childList:!0,characterDataOldValue:!1});n(19);var s=n(5),a=n.n(s);n(23),n(24);a.a.initializeApp({apiKey:"AIzaSyARm3eQd7JoJG_WXjWana6vK8vB-Kk3hHE",authDomain:"vanilla-js-about-me.firebaseapp.com",databaseURL:"https://vanilla-js-about-me.firebaseio.com",projectId:"vanilla-js-about-me",storageBucket:"vanilla-js-about-me.appspot.com",messagingSenderId:"41552739446",appId:"1:41552739446:web:9e9a6699bc5885cf9d7357",measurementId:"G-25LQZRM069"});var u=a.a;class c{static async getContentApi(t,e){if(e){return await u.firestore().collection(t).doc(e).get().then((function(t){return t.data()}))}{const e=[];return await u.firestore().collection(t).get().then((function(t){t.forEach((function(t){e.push(t.data())}))})),e}}}class h extends c{static renderExperiance(t,e){const n=document.createElement("div");n.className="experianceDiv";const r=document.createElement("div");r.className="currentH1",r.innerText="My current Experiance";const i=document.createElement("div");i.id="experiance";const o=document.createElement("div");o.className="expDivBlock";const s=document.createElement("div");s.className="workExpBlock";const a=document.createElement("div");a.className="myProjectsBlock";const u=document.createElement("div");u.className="H1",u.innerText="My work experiance";const c=document.createElement("div");return c.classList="H1",c.innerText="My projects",o.appendChild(u),o.appendChild(s),o.appendChild(c),o.appendChild(a),e.map(t=>{const e=document.createElement("div");e.className="company",e.innerText="Company: "+t.company;const n=document.createElement("div");n.className="position",n.innerText="Position: "+t.position;const r=document.createElement("div");r.className="responsibilities";const i=document.createElement("span");i.className="spanResp",i.innerText="Responsibilities: ",r.appendChild(i);t.responsibilities.split("--").map(t=>{if(t){const e=document.createElement("p");e.className="textDiv",e.textContent="- "+t,r.appendChild(e)}});const o=document.createElement("div");o.className="achievments";const a=document.createElement("span");a.className="spanAchi",a.innerText="Achievments: ",o.appendChild(a);t.achievments.split("--").map(t=>{if(t){const e=document.createElement("p");e.className="textDiv",e.textContent="- "+t,o.appendChild(e)}});const u=document.createElement("div");u.className="workInfo";const c=document.createElement("img");Object.assign(c,{className:"workImg",src:t.img});const h=document.createElement("div");h.className="WorkInfoBlock",h.appendChild(r),h.appendChild(o),u.appendChild(c),u.appendChild(h),s.appendChild(e),s.appendChild(n),s.appendChild(u)}),t.map(t=>{const e=document.createElement("div");e.className="projName",e.innerText="Project Name: "+t.projName;const n=document.createElement("a");Object.assign(n,{className:"projImgLink",href:t.projLink});const r=document.createElement("img");Object.assign(r,{className:"projWindow",src:t.img}),n.appendChild(r);const i=document.createElement("div");i.className="projectInfoDiv";const o=document.createElement("div");o.className="projDescr";const s=document.createElement("span");s.className="spanResp",s.innerText="Description: ",o.appendChild(s);t.description.split("--").map(t=>{if(t){const e=document.createElement("p");e.className="textDiv",e.textContent="- "+t,o.appendChild(e)}});const u=document.createElement("div");u.className="techStack";const c=document.createElement("span");c.className="spanAchi",c.innerText="Technology Stack: ",u.appendChild(c);t.techStack.split("--").map(t=>{if(t){const e=document.createElement("p");e.className="textDiv",e.textContent="- "+t,u.appendChild(e)}});const h=document.createElement("div");h.className="projInfoBlock",h.appendChild(o),h.appendChild(u),i.appendChild(h),i.appendChild(n),a.appendChild(e),a.appendChild(i)}),i.appendChild(o),n.appendChild(r),n.appendChild(i),n}static async render(){const t=await this.getContentApi("projects"),e=await this.getContentApi("works");return this.renderExperiance(t,e).outerHTML}}n(25);class l{static openModal(){const t=document.createElement("div");t.className="modalWindowDiv";const e=document.createElement("div");e.className="modalWindow",t.appendChild(e);const n=document.createElement("div");n.className="modalText",n.innerText="Choose Theme";const r=document.createElement("button");r.className="buttonYes",r.innerText="Black";const i=document.createElement("button");i.className="buttonNo",i.innerText="White",e.appendChild(n);const o=document.createElement("div");o.className="buttonsBlock",o.appendChild(r),o.appendChild(i),e.appendChild(o),main.appendChild(t)}static closeModal(){const t=main.querySelector(".modalWindowDiv");t.className="modalWindowDivRemove",setTimeout(()=>{t.remove()},1e3)}}const f=main;new MutationObserver(t=>{if(t[0].addedNodes[0]&&"modalWindowDiv"===t[0].addedNodes[0].className){const t=f.querySelector(".buttonYes"),e=t=>{localStorage.setItem("theme",JSON.stringify(t))};t.addEventListener("mousedown",()=>{main.style.backgroundColor="rgba(0,0,0, 0.9)",main.style.color="white";const t=main.querySelectorAll(".workExpBlock");for(let e of t)e.style.color="white";e("black"),l.closeModal()});f.querySelector(".buttonNo").addEventListener("mousedown",()=>{main.style.backgroundColor="white",main.style.color="black";const t=main.querySelectorAll(".workExpBlock");for(let e of t)e.style.color="black";e("white"),l.closeModal()})}}).observe(f,{childList:!0,characterDataOldValue:!1});n(27);var p={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},d={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},v=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],m={CSS:{},springs:{}};function y(t,e,n){return Math.min(Math.max(t,e),n)}function g(t,e){return t.indexOf(e)>-1}function b(t,e){return t.apply(null,e)}var w={arr:function(t){return Array.isArray(t)},obj:function(t){return g(Object.prototype.toString.call(t),"Object")},pth:function(t){return w.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||w.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return w.hex(t)||w.rgb(t)||w.hsl(t)},key:function(t){return!p.hasOwnProperty(t)&&!d.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function I(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function E(t,e){var n=I(t),r=y(w.und(n[0])?1:n[0],.1,100),i=y(w.und(n[1])?100:n[1],.1,100),o=y(w.und(n[2])?10:n[2],.1,100),s=y(w.und(n[3])?0:n[3],.1,100),a=Math.sqrt(i/r),u=o/(2*Math.sqrt(i*r)),c=u<1?a*Math.sqrt(1-u*u):0,h=u<1?(u*a-s)/c:-s+a;function l(t){var n=e?e*t/1e3:t;return n=u<1?Math.exp(-n*u*a)*(1*Math.cos(c*n)+h*Math.sin(c*n)):(1+h*n)*Math.exp(-n*a),0===t||1===t?t:1-n}return e?l:function(){var e=m.springs[t];if(e)return e;for(var n=0,r=0;;)if(1===l(n+=1/6)){if(++r>=16)break}else r=0;var i=n*(1/6)*1e3;return m.springs[t]=i,i}}function T(t){return void 0===t&&(t=10),function(e){return Math.ceil(y(e,1e-6,1)*t)*(1/t)}}var _,A,N=function(){function t(t,e){return 1-3*e+3*t}function e(t,e){return 3*e-6*t}function n(t){return 3*t}function r(r,i,o){return((t(i,o)*r+e(i,o))*r+n(i))*r}function i(r,i,o){return 3*t(i,o)*r*r+2*e(i,o)*r+n(i)}return function(t,e,n,o){if(0<=t&&t<=1&&0<=n&&n<=1){var s=new Float32Array(11);if(t!==e||n!==o)for(var a=0;a<11;++a)s[a]=r(.1*a,t,n);return function(i){return t===e&&n===o||0===i||1===i?i:r(u(i),e,o)}}function u(e){for(var o=0,a=1;10!==a&&s[a]<=e;++a)o+=.1;--a;var u=o+.1*((e-s[a])/(s[a+1]-s[a])),c=i(u,t,n);return c>=.001?function(t,e,n,o){for(var s=0;s<4;++s){var a=i(e,n,o);if(0===a)return e;e-=(r(e,n,o)-t)/a}return e}(e,u,t,n):0===c?u:function(t,e,n,i,o){var s,a,u=0;do{(s=r(a=e+(n-e)/2,i,o)-t)>0?n=a:e=a}while(Math.abs(s)>1e-7&&++u<10);return a}(e,o,o+.1,t,n)}}}(),k=(_={linear:function(){return function(t){return t}}},A={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=y(t,1,10),r=y(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(t,e){A[t]=function(){return function(t){return Math.pow(t,e+2)}}})),Object.keys(A).forEach((function(t){var e=A[t];_["easeIn"+t]=e,_["easeOut"+t]=function(t,n){return function(r){return 1-e(t,n)(1-r)}},_["easeInOut"+t]=function(t,n){return function(r){return r<.5?e(t,n)(2*r)/2:1-e(t,n)(-2*r+2)/2}}})),_);function S(t,e){if(w.fnc(t))return t;var n=t.split("(")[0],r=k[n],i=I(t);switch(n){case"spring":return E(t,e);case"cubicBezier":return b(N,i);case"steps":return b(T,i);default:return b(r,i)}}function x(t){try{return document.querySelectorAll(t)}catch(t){return}}function O(t,e){for(var n=t.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in t){var s=t[o];e.call(r,s,o,t)&&i.push(s)}return i}function D(t){return t.reduce((function(t,e){return t.concat(w.arr(e)?D(e):e)}),[])}function P(t){return w.arr(t)?t:(w.str(t)&&(t=x(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function C(t,e){return t.some((function(t){return t===e}))}function R(t){var e={};for(var n in t)e[n]=t[n];return e}function L(t,e){var n=R(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function M(t,e){var n=R(t);for(var r in e)n[r]=w.und(t[r])?e[r]:t[r];return n}function j(t){return w.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:w.hex(t)?function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(t):w.hsl(t)?function(t){var e,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),o=parseInt(i[1],10)/360,s=parseInt(i[2],10)/100,a=parseInt(i[3],10)/100,u=i[4]||1;function c(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==s)e=n=r=a;else{var h=a<.5?a*(1+s):a+s-a*s,l=2*a-h;e=c(l,h,o+1/3),n=c(l,h,o),r=c(l,h,o-1/3)}return"rgba("+255*e+","+255*n+","+255*r+","+u+")"}(t):void 0;var e,n}function U(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function V(t,e){return w.fnc(t)?t(e.target,e.id,e.total):t}function F(t,e){return t.getAttribute(e)}function q(t,e,n){if(C([n,"deg","rad","turn"],U(e)))return e;var r=m.CSS[e+n];if(!w.und(r))return r;var i=document.createElement(t.tagName),o=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;o.appendChild(i),i.style.position="absolute",i.style.width=100+n;var s=100/i.offsetWidth;o.removeChild(i);var a=s*parseFloat(e);return m.CSS[e+n]=a,a}function B(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?q(t,i,n):i}}function G(t,e){return w.dom(t)&&!w.inp(t)&&(F(t,e)||w.svg(t)&&t[e])?"attribute":w.dom(t)&&C(v,e)?"transform":w.dom(t)&&"transform"!==e&&B(t,e)?"css":null!=t[e]?"object":void 0}function H(t){if(w.dom(t)){for(var e,n=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;e=r.exec(n);)i.set(e[1],e[2]);return i}}function z(t,e,n,r){var i=g(e,"scale")?1:0+function(t){return g(t,"translate")||"perspective"===t?"px":g(t,"rotate")||g(t,"skew")?"deg":void 0}(e),o=H(t).get(e)||i;return n&&(n.transforms.list.set(e,o),n.transforms.last=e),r?q(t,o,r):o}function W(t,e,n,r){switch(G(t,e)){case"transform":return z(t,e,r,n);case"css":return B(t,e,n);case"attribute":return F(t,e);default:return t[e]||0}}function K(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=U(t)||0,i=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function Q(t,e){if(w.col(t))return j(t);if(/\s/g.test(t))return t;var n=U(t),r=n?t.substr(0,t.length-n.length):t;return e?r+e:r}function Y(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function X(t){for(var e,n=t.points,r=0,i=0;i<n.numberOfItems;i++){var o=n.getItem(i);i>0&&(r+=Y(e,o)),e=o}return r}function J(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*F(t,"r")}(t);case"rect":return function(t){return 2*F(t,"width")+2*F(t,"height")}(t);case"line":return function(t){return Y({x:F(t,"x1"),y:F(t,"y1")},{x:F(t,"x2"),y:F(t,"y2")})}(t);case"polyline":return X(t);case"polygon":return function(t){var e=t.points;return X(t)+Y(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function $(t,e){var n=e||{},r=n.el||function(t){for(var e=t.parentNode;w.svg(e)&&w.svg(e.parentNode);)e=e.parentNode;return e}(t),i=r.getBoundingClientRect(),o=F(r,"viewBox"),s=i.width,a=i.height,u=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:r,viewBox:u,x:u[0]/1,y:u[1]/1,w:s/u[2],h:a/u[3]}}function Z(t,e){function n(n){void 0===n&&(n=0);var r=e+n>=1?e+n:0;return t.el.getPointAtLength(r)}var r=$(t.el,t.svg),i=n(),o=n(-1),s=n(1);switch(t.property){case"x":return(i.x-r.x)*r.w;case"y":return(i.y-r.y)*r.h;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function tt(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Q(w.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:w.str(t)||e?r.split(n):[]}}function et(t){return O(t?D(w.arr(t)?t.map(P):P(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function nt(t){var e=et(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:H(t)}}}))}function rt(t,e){var n=R(e);if(/^spring/.test(n.easing)&&(n.duration=E(n.easing)),w.arr(t)){var r=t.length;2===r&&!w.obj(t[0])?t={value:t}:w.fnc(e.duration)||(n.duration=e.duration/r)}var i=w.arr(t)?t:[t];return i.map((function(t,n){var r=w.obj(t)&&!w.pth(t)?t:{value:t};return w.und(r.delay)&&(r.delay=n?0:e.delay),w.und(r.endDelay)&&(r.endDelay=n===i.length-1?e.endDelay:0),r})).map((function(t){return M(t,n)}))}function it(t,e){var n=[],r=e.keyframes;for(var i in r&&(e=M(function(t){for(var e=O(D(t.map((function(t){return Object.keys(t)}))),(function(t){return w.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),n={},r=function(r){var i=e[r];n[i]=t.map((function(t){var e={};for(var n in t)w.key(n)?n==i&&(e.value=t[n]):e[n]=t[n];return e}))},i=0;i<e.length;i++)r(i);return n}(r),e)),e)w.key(i)&&n.push({name:i,tweens:rt(e[i],t)});return n}function ot(t,e){var n;return t.tweens.map((function(r){var i=function(t,e){var n={};for(var r in t){var i=V(t[r],e);w.arr(i)&&1===(i=i.map((function(t){return V(t,e)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,e),o=i.value,s=w.arr(o)?o[1]:o,a=U(s),u=W(e.target,t.name,a,e),c=n?n.to.original:u,h=w.arr(o)?o[0]:c,l=U(h)||U(u),f=a||l;return w.und(s)&&(s=c),i.from=tt(h,f),i.to=tt(K(s,h),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=S(i.easing,i.duration),i.isPath=w.pth(o),i.isColor=w.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}var st={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){if(r.list.set(e,n),e===r.last||i){var o="";r.list.forEach((function(t,e){o+=e+"("+t+") "})),t.style.transform=o}}};function at(t,e){nt(t).forEach((function(t){for(var n in e){var r=V(e[n],t),i=t.target,o=U(r),s=W(i,n,o,t),a=K(Q(r,o||U(s)),s),u=G(i,n);st[u](i,n,a,t.transforms,!0)}}))}function ut(t,e){return O(D(t.map((function(t){return e.map((function(e){return function(t,e){var n=G(t.target,e.name);if(n){var r=ot(e,t),i=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(t,e)}))}))),(function(t){return!w.und(t)}))}function ct(t,e){var n=t.length,r=function(t){return t.timelineOffset?t.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,t.map((function(t){return r(t)+t.duration}))):e.duration,i.delay=n?Math.min.apply(Math,t.map((function(t){return r(t)+t.delay}))):e.delay,i.endDelay=n?i.duration-Math.max.apply(Math,t.map((function(t){return r(t)+t.duration-t.endDelay}))):e.endDelay,i}var ht=0;var lt,ft=[],pt=[],dt=function(){function t(){lt=requestAnimationFrame(e)}function e(e){var n=ft.length;if(n){for(var r=0;r<n;){var i=ft[r];if(i.paused){var o=ft.indexOf(i);o>-1&&(ft.splice(o,1),n=ft.length)}else i.tick(e);r++}t()}else lt=cancelAnimationFrame(lt)}return t}();function vt(t){void 0===t&&(t={});var e,n=0,r=0,i=0,o=0,s=null;function a(t){var e=window.Promise&&new Promise((function(t){return s=t}));return t.finished=e,e}var u=function(t){var e=L(p,t),n=L(d,t),r=it(n,t),i=nt(t.targets),o=ut(i,r),s=ct(o,n),a=ht;return ht++,M(e,{id:a,children:[],animatables:i,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}(t);a(u);function c(){var t=u.direction;"alternate"!==t&&(u.direction="normal"!==t?"normal":"reverse"),u.reversed=!u.reversed,e.forEach((function(t){return t.reversed=u.reversed}))}function h(t){return u.reversed?u.duration-t:t}function l(){n=0,r=h(u.currentTime)*(1/vt.speed)}function f(t,e){e&&e.seek(t-e.timelineOffset)}function v(t){for(var e=0,n=u.animations,r=n.length;e<r;){var i=n[e],o=i.animatable,s=i.tweens,a=s.length-1,c=s[a];a&&(c=O(s,(function(e){return t<e.end}))[0]||c);for(var h=y(t-c.start-c.delay,0,c.duration)/c.duration,l=isNaN(h)?1:c.easing(h),f=c.to.strings,p=c.round,d=[],v=c.to.numbers.length,m=void 0,g=0;g<v;g++){var b=void 0,w=c.to.numbers[g],I=c.from.numbers[g]||0;b=c.isPath?Z(c.value,l*w):I+l*(w-I),p&&(c.isColor&&g>2||(b=Math.round(b*p)/p)),d.push(b)}var E=f.length;if(E){m=f[0];for(var T=0;T<E;T++){f[T];var _=f[T+1],A=d[T];isNaN(A)||(m+=_?A+_:A+" ")}}else m=d[0];st[i.type](o.target,i.property,m,o.transforms),i.currentValue=m,e++}}function m(t){u[t]&&!u.passThrough&&u[t](u)}function g(t){var l=u.duration,p=u.delay,d=l-u.endDelay,g=h(t);u.progress=y(g/l*100,0,100),u.reversePlayback=g<u.currentTime,e&&function(t){if(u.reversePlayback)for(var n=o;n--;)f(t,e[n]);else for(var r=0;r<o;r++)f(t,e[r])}(g),!u.began&&u.currentTime>0&&(u.began=!0,m("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,m("loopBegin")),g<=p&&0!==u.currentTime&&v(0),(g>=d&&u.currentTime!==l||!l)&&v(l),g>p&&g<d?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,m("changeBegin")),m("change"),v(g)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,m("changeComplete")),u.currentTime=y(g,0,l),u.began&&m("update"),t>=l&&(r=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(n=i,m("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&c()):(u.paused=!0,u.completed||(u.completed=!0,m("loopComplete"),m("complete"),!u.passThrough&&"Promise"in window&&(s(),a(u)))))}return u.reset=function(){var t=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===t,u.remaining=u.loop,e=u.children;for(var n=o=e.length;n--;)u.children[n].reset();(u.reversed&&!0!==u.loop||"alternate"===t&&1===u.loop)&&u.remaining++,v(u.reversed?u.duration:0)},u.set=function(t,e){return at(t,e),u},u.tick=function(t){i=t,n||(n=i),g((i+(r-n))*vt.speed)},u.seek=function(t){g(h(t))},u.pause=function(){u.paused=!0,l()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,ft.push(u),l(),lt||dt())},u.reverse=function(){c(),u.completed=!u.reversed,l()},u.restart=function(){u.reset(),u.play()},u.reset(),u.autoplay&&u.play(),u}function mt(t,e){for(var n=e.length;n--;)C(t,e[n].animatable.target)&&e.splice(n,1)}"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){document.hidden?(ft.forEach((function(t){return t.pause()})),pt=ft.slice(0),vt.running=ft=[]):pt.forEach((function(t){return t.play()}))})),vt.version="3.2.0",vt.speed=1,vt.running=ft,vt.remove=function(t){for(var e=et(t),n=ft.length;n--;){var r=ft[n],i=r.animations,o=r.children;mt(e,i);for(var s=o.length;s--;){var a=o[s],u=a.animations;mt(e,u),u.length||a.children.length||o.splice(s,1)}i.length||o.length||r.pause()}},vt.get=W,vt.set=at,vt.convertPx=q,vt.path=function(t,e){var n=w.str(t)?x(t)[0]:t,r=e||100;return function(t){return{property:t,el:n,svg:$(n),totalLength:J(n)*(r/100)}}},vt.setDashoffset=function(t){var e=J(t);return t.setAttribute("stroke-dasharray",e),e},vt.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",r=e.easing?S(e.easing):null,i=e.grid,o=e.axis,s=e.from||0,a="first"===s,u="center"===s,c="last"===s,h=w.arr(t),l=h?parseFloat(t[0]):parseFloat(t),f=h?parseFloat(t[1]):0,p=U(h?t[1]:t)||0,d=e.start||0+(h?l:0),v=[],m=0;return function(t,e,y){if(a&&(s=0),u&&(s=(y-1)/2),c&&(s=y-1),!v.length){for(var g=0;g<y;g++){if(i){var b=u?(i[0]-1)/2:s%i[0],w=u?(i[1]-1)/2:Math.floor(s/i[0]),I=b-g%i[0],E=w-Math.floor(g/i[0]),T=Math.sqrt(I*I+E*E);"x"===o&&(T=-I),"y"===o&&(T=-E),v.push(T)}else v.push(Math.abs(s-g));m=Math.max.apply(Math,v)}r&&(v=v.map((function(t){return r(t/m)*m}))),"reverse"===n&&(v=v.map((function(t){return o?t<0?-1*t:-t:Math.abs(m-t)})))}return d+(h?(f-l)/m:l)*(Math.round(100*v[e])/100)+p}},vt.timeline=function(t){void 0===t&&(t={});var e=vt(t);return e.duration=0,e.add=function(n,r){var i=ft.indexOf(e),o=e.children;function s(t){t.passThrough=!0}i>-1&&ft.splice(i,1);for(var a=0;a<o.length;a++)s(o[a]);var u=M(n,L(d,t));u.targets=u.targets||t.targets;var c=e.duration;u.autoplay=!1,u.direction=e.direction,u.timelineOffset=w.und(r)?c:K(r,c),s(e),e.seek(u.timelineOffset);var h=vt(u);s(h),o.push(h);var l=ct(o,t);return e.delay=l.delay,e.endDelay=l.endDelay,e.duration=l.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},vt.easing=S,vt.penner=k,vt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var yt=vt;class gt extends c{static renderAboutPage(t){const e=document.createElement("h1");e.className="title",e.textContent="Vladimir Vagaev";const n=document.createElement("div");n.className="row";const r=document.createElement("img");Object.assign(r,{className:"blockImage",alt:"",src:"/src//common/images/me.jpg"});const i=document.createElement("div");i.className="text-block",i.textContent="Lorem ipsum dolor sit amet consectetur adipisicing elit. A odio labore sit\n        ullam, ipsa delectus dicta aut in voluptatibus hic ex dolore voluptates sint cumque quas omnis\n        tempore? Voluptatibus, sit. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Laudantium\n        delectus placeat laborum, libero beatae velit minus veniam ducimus quam totam veritatis rerum\n        enim\n        assumenda sed ipsum neque, sapiente quibusdam suscipit! Lorem ipsum dolor sit amet consectetur,\n        adipisicing elit. Reprehenderit aut explicabo, aperiam sapiente soluta cum commodi amet\n        dignissimos\n        nulla laboriosam maxime delectus, voluptas perspiciatis veritatis tenetur deserunt minima\n        ratione\n        corrupti? Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto veniam ut\n        voluptates\n        labore, quam perspiciatis. Sint eum eius expedita enim totam veniam, delectus, quibusdam quidem\n        qui\n        porro recusandae repellendus quia?\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Libero pariatur unde saepe quam,\n        repellendus cum inventore impedit reprehenderit tempora soluta totam necessitatibus excepturi\n        harum quibusdam. Vel dignissimos inventore culpa maxime!Lorem\n        Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusantium, nam tenetur eaque ullam\n        dignissimos quisquam illum, similique maxime architecto doloremque, aut voluptatum iste?\n        Provident odio odit labore nobis aliquam nihil.\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequatur, obcaecati atque magnam\n        repudiandae perspiciatis ipsa vero laudantium, nostrum delectus dolores voluptatibus sed placeat\n        numquam. Distinctio provident aspernatur corporis molestiae earum?",n.appendChild(r),n.appendChild(i);const o=document.createElement("div");o.className="contacts";for(let e in t){const n=e,r=t[e],i=document.createElement("a");Object.assign(i,{className:"contactStart",href:r,target:"_blank"});const s=document.createElement("img");Object.assign(s,{className:"contactImg",src:`/src/common/images/${n}.png`}),i.appendChild(s),o.appendChild(i)}const s=document.createElement("div");return s.className="main-div",s.appendChild(e),s.appendChild(n),s.appendChild(o),s}static async render(){const t=await this.getContentApi("contacts","UwhT3lZgl8ZqcrISmc5r");return this.renderAboutPage(t).outerHTML}}const bt=main.querySelector(".wrapper");new MutationObserver(t=>{const e=main.querySelectorAll(".contactStart");if("main-div"===t[0].addedNodes[0].className){const t=e.length;for(let n=t-1;n<t&&n>=0;n--)setTimeout(()=>e[n].className="contact",1e3-50*n);const n=yt({targets:".blockImage",boxShadow:"0 0 10px 10px red",autoplay:!1,duration:1e3});main.querySelector(".blockImage").onclick=n.restart}}).observe(bt,{childList:!0,characterDataOldValue:!1});let wt=document.getElementById("header-nav"),It=document.getElementById("main");const Et=wt.querySelector(".menu-button"),Tt=t=>{wt.id=t},_t=()=>{Tt("header-nav-active-reverse"),setTimeout(()=>{wt.id="header-nav"},1e3)};Et.addEventListener("click",t=>{t.preventDefault(),"rgb(140,142,120)"===Et.style.backgroundColor?Et.style.backgroundColor="#333333":Et.style.backgroundColor="rgb(140,142,120)","header-nav"===wt.id?(Tt("header-nav-active"),setTimeout(()=>{wt.id="header-nav-opened"},1e3)):_t()});const At=wt.querySelectorAll(".nav-link"),Nt=It.querySelector(".wrapper"),kt=()=>{"header-nav-opened"===wt.id||"header-nav"===wt.id?_t():setTimeout(()=>{_t()},500)},St=async(t,e)=>{await e(),(t=>{localStorage.setItem("page",JSON.stringify(t))})(t),kt();const n=await JSON.parse(localStorage.getItem("theme"));xt(n)};At.forEach(t=>{t.addEventListener("click",e=>{if(e.preventDefault(),"About Me"===t.textContent)St("/",Ot);else if("My education"===t.textContent)St("/myEducation",Dt);else if("My experience"===t.textContent)St("/myExperience",Pt);else if("My skills"===t.textContent)St("/mySkills",Ct);else if("Settings"===t.textContent){const t=It.querySelector(".modalWindowDiv");It.contains(t)?(l.closeModal(),kt()):(l.openModal(),kt())}})});const xt=async t=>{if("black"===t){It.style.backgroundColor="rgba(0,0,0, 0.9)",It.style.color="white";const t=It.querySelectorAll(".workExpBlock");for(let e of t)e.style.color="white";const e=It.querySelectorAll(".showInfoImageDiv");for(let t of e)t.style.color="black";const n=It.querySelectorAll(".skillDivContent"),r=It.querySelectorAll(".skillDivContentBack");for(let t of n)t.style.color="rgba(0,0,0, 0.9)";for(let t of r)t.style.color="rgba(0,0,0, 0.9)";const i=It.querySelectorAll(".educationImg");for(let t of i)t.style.color="rgba(0,0,0, 0.9)"}else{It.style.backgroundColor="white",It.style.color="black";const t=It.querySelectorAll(".workExpBlock");for(let e of t)e.style.color="black"}};window.addEventListener("load",async t=>{const e=await JSON.parse(localStorage.getItem("page")),n="/myEducation"===e?Dt:"/myExperience"===e?Pt:"/mySkills"===e?Ct:"/settings"===e?htmlSetting:Ot;St(e,n)});let Ot=async()=>{const t=await gt.render();Nt.innerHTML=t},Dt=()=>{const t=class{static render(){return'<div class="educations">\n                    <div class="currentH1">My education</div>\n                    <div id="education" >\n                        <div class="educationBlockStart">\n                                            <div class="educationName">CRIMEAN UNIVERSITY FOR THE HUMANITIES, faculty of history, 2012 - 2014</div>\n                                            <div class="educationText">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Fugit maxime deserunt inventore incidunt voluptatum perferendis quia ut illo magnam animi debitis rem accusantium, voluptatibus at atque hic aliquid velit voluptates!</div>\n                                            <div class="educationImageBlock" >\n                                                <div class="showInfoImageDiv" data-title="Crimean National University, Yalta city">\n                                                    <img src=\'/src/common/images/kgu.jpg\'  class="educationImg"/>\n                                                </div> \n                                                <img src=\'/src/common/images/kgu.jpg\'  class="educationImgClosed"/>\n                                            </div>\n                                        </div>\n                                        <div class="educationBlockStart">\n                                            <div class="educationName">Lviv national University, faculty of history, 2014 - 2016</div>\n                                            <div class="educationText">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Fugit maxime deserunt inventore incidunt voluptatum perferendis quia ut illo magnam animi debitis rem accusantium, voluptatibus at atque hic aliquid velit voluptates!</div>\n                                            <div class="educationImageBlock" >\n                                                <div class="showInfoImageDiv" data-title="Lviv National University, Lviv city">    \n                                                    <img src=\'/src/common/images/lnu.jpg\' class="educationImg" />\n                                                </div> \n                                                <img src=\'/src/common/images/lnu.jpg\'  class="educationImgClosed"/>   \n                                            </div>\n                                        </div>\n                                        <div class="educationBlockStart">\n                                            <div class="educationName">Skill-up it, front-end courses</div>\n                                            <div class="educationText">Finished front end courses (08.2019 -12.2019), and after that continue to upgrade my skills by making new projects, learning new features and technologies </div>\n                                            <div class="educationImageBlock" >\n                                                <div class="showInfoImageDiv" data-title="Lviv National University, Lviv city">    \n                                                    <img src=\'https://comers.com.ua/wp-content/uploads/2016/09/SkillUP-auditorium.jpg\' class="educationImg" />\n                                                </div> \n                                                <img src=\'https://comers.com.ua/wp-content/uploads/2016/09/SkillUP-auditorium.jpg\'  class="educationImgClosed"/>   \n                                            </div>\n                                        </div>\n                            </div>\n                        </div>\n                </div>'}}.render();Nt.innerHTML=t},Pt=async()=>{const t=await h.render();Nt.innerHTML=t},Ct=()=>{const t=class{static render(){const t=document.createElement("div");t.className="skills";const e=document.createElement("div");e.className="currentH1",e.innerText="My current Skills";const n=document.createElement("div");return n.id="skillBlock",r.map(t=>{const e=document.createElement("div"),r=document.createElement("div");for(let n=0;n<t.stars;n++){const t=document.createElement("img");Object.assign(t,{alt:"",width:"20",heigth:"20",src:"https://upload.wikimedia.org/wikipedia/commons/1/1f/Star_Icon.png",className:"starsDiv"});const n=document.createElement("img");Object.assign(n,{alt:"",width:"20",heigth:"20",src:"https://upload.wikimedia.org/wikipedia/commons/1/1f/Star_Icon.png",className:"starsDiv"}),e.appendChild(t),r.appendChild(n)}if(!t.stars)return"";let i=document.createElement("div"),o=document.createElement("div");i.className="skillNameDiv",o.className="skillNameDiv",i.innerText=t.name,o.innerText=t.name;let s=document.createElement("div");s.className="skillDivStart";let a=document.createElement("div"),u=document.createElement("div");u.className="skillDivContent",a.className="skillDivContentBack",u.appendChild(o),a.appendChild(i),u.appendChild(r),a.appendChild(e),s.addEventListener("click",()=>{t.className="skillDivAnimation"}),s.appendChild(a),s.appendChild(u),n.appendChild(s)}),t.appendChild(e),t.appendChild(n),t.outerHTML}}.render();Nt.innerHTML=t}}]);